{"version":3,"file":"framework.lib.js","sources":["../../src/js/imports/core/settings.js","../../src/js/imports/util/validation.js","../../src/js/imports/classes/data-helper.js","../../src/js/imports/data-helper/dom.js","../../src/js/imports/data-helper/string.js","../../src/js/imports/util/ui.js","../../src/js/imports/core/initiator.js","../../src/js/imports/data-helper/event.js","../../src/js/imports/util/datahandler.js","../../src/js/imports/classes/component.js","../../src/js/imports/util/breakpoint.js","../../src/js/imports/accordion.js","../../src/js/imports/alert.js","../../src/js/imports/button.js","../../src/js/imports/dropdown.js","../../src/js/imports/data-helper/date.js","../../src/js/imports/form/form-calendar.js","../../src/js/imports/util/modifiers.js","../../src/js/imports/data-helper/array.js","../../src/js/imports/form/form-tags.js","../../src/js/imports/form.js","../../src/js/imports/lazy.js","../../src/js/imports/list-group.js","../../src/js/imports/modal.js","../../src/js/imports/module-grid.js","../../src/js/imports/switch.js","../../src/js/imports/tabs.js","../../src/js/imports/tooltip.js","../../src/js/imports/zone.js","../../src/js/framework.lib.js"],"sourcesContent":["const CORE_SETTINGS = {};\n\tCORE_SETTINGS.prefix = 'fw';\n\tCORE_SETTINGS.lazyLoad = true;\n\tCORE_SETTINGS.initializeModal = true;\n\tCORE_SETTINGS.initializeAccordion = true;\n\tCORE_SETTINGS.dynamicHash = true;\n\tCORE_SETTINGS.uiClass = `${CORE_SETTINGS.prefix}-ui`; //for styles\n\tCORE_SETTINGS.uiJsClass = CORE_SETTINGS.uiClass.replace('-','_'); // for scripting events and shit\n\nclass Settings {\n\n\tstatic modify(key,value){\n\t\tif(this.hasOwnProperty(key)){\n\t\t\tCORE_SETTINGS[key] = value;\n\t\t}\n\t}\n\n\tstatic get(key){\n\t\tconst toReturn = {\n\t\t\tprefix: CORE_SETTINGS.prefix,\n\t\t\tlazyLoad: CORE_SETTINGS.lazyLoad,\n\t\t\tinitializeModal: CORE_SETTINGS.initializeModal,\n\t\t\tinitializeAccordion: CORE_SETTINGS.initializeAccordion,\n\t\t\tdynamicHash: CORE_SETTINGS.dynamicHash,\n\t\t\tuiClass: CORE_SETTINGS.uiClass,\n\t\t\tuiJsClass: CORE_SETTINGS.uiJsClass,\n\t\t}\n\n\t\tif(key){\n\t\t\treturn toReturn[key];\n\t\t}else{\n\t\t\treturn toReturn;\n\t\t}\n\t}\n}\n\n\nexport default Settings;","//valid shits\nexport const DisableClasses = [\n\t'table-row-disabled',\n\t'tab-disabled',\n\t'btn-disabled',\n\t'input-disabled',\n\t'disabled'\n];\n\n// @TODO push instead of hard coding to arrays because\n\nexport const lookupResetToParentClass = [\n\t'input-group',\n\t'btn-group',\n];\n\nexport const lookupResetFromClosestComponent = [\n\t'dropdown',\n\t'modal-default',\n\t'modal-board',\n\t'switch',\n\t'alert',\n];\n\nexport const lookupResetFromClosestComponentUi = [\n\t//root component name, subcomponent mods\n\t'modal-default',\n\t'modal-board',\n\t'input-calendar',\n\t'input-tags',\n];\n\n\nexport const DateTimePreset = {\n\tHumanDate: {\n\t\tplaceholder: 'mm/dd/yyyy',\n\t\tpattern: /^\\d{2}\\/\\d{2}\\/\\d{4}$/,\n\t\ttemplate: 'mm/dd/yy'\n\t},\n\tHumanTime24: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tHumanTime12: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tValue: {\n\t\tplaceholder: 'yyyy-mm-dd',\n\t\tpattern: /^\\d{4}[-]\\d{2}[-]\\d{2}$/,\n\t\ttemplate: 'yy-mm-dd'\n\t},\n\tValueDateTimePreset:{\n\t\tplaceholder:\"yy-mm-ddThh:gg\",\n\t\tpattern:\"\",\n\t\ttemplate:\"yy-mm-ddThh:gg\"\n\t}\n};\n\nexport const dayNames = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Friday',\n\t'Saturday'\n];\n\nexport const dayNamesShort = [\n\t'Sun',\n\t'Mon',\n\t'Tue',\n\t'Wed',\n\t'Thu',\n\t'Fri',\n\t'Sat'\n];\n\nexport const dayNamesShorter = [\n\t'Su',\n\t'Mo',\n\t'Tu',\n\t'We',\n\t'Th',\n\t'Fr',\n\t'Sa'\n];\n\nexport const monthNames = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December'\n];\n\nexport const monthNamesShort = [\n\t'Jan',\n\t'Feb',\n\t'Mar',\n\t'Apr',\n\t'May',\n\t'Jun',\n\t'Jul',\n\t'Aug',\n\t'Sep',\n\t'Oct',\n\t'Nov',\n\t'Dec'\n];\n\n\n\t\n\n\nexport const Palette = [\n\t'base',\n\t'primary',\n\t'secondary',\n\t'accent',\n\t'neutral',\n\t'error',\n\t'caution',\n\t'success'\n];\n\n\n\n","class FwDataHelper {\n\tconstructor(data,dataParser){\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tdataParser = dataParser || function(dat){\n\t\t\treturn dat;\n\t\t}\n\n\t\tthis._FwData = dataParser(data);\n\n\t\treturn this.getData();\n\t}\n\n\tgetData() {\n\t\treturn this._FwData;\n\t}\n}\n\nexport default FwDataHelper;","import FwDataHelper from './../classes/data-helper.js';\n\n\nclass FwDom extends FwDataHelper {\n\n\tconstructor(data){\n\n\t\tsuper(\n\t\t\tdata,\n\t\t\t(dat) => {\n\t\t\t\t\n\t\t\t\tlet toReturn;\n\t\t\t\n\t\t\t\tif(typeof dat === 'string'){\n\t\t\t\t\t// console.log('looks like a selector');\n\t\t\t\t\tconst selection = document.querySelectorAll(dat);\n\t\t\n\t\t\t\t\tif(selection.length > 1){\n\t\t\t\t\t\ttoReturn = selection;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoReturn = document.querySelector(dat);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// console.log('looks like a dom obj');\n\t\t\t\t\ttoReturn = dat;\n\t\t\t\t}\n\t\n\t\t\t\treturn toReturn;\n\t\t\t}\n\t\t);\n\t\t\n\t}\n\n\t\n\n\tstatic slideDown(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'block');\n\n\t\treturn elem\n\t}\n\n\tstatic slideUp(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'none');\n\n\t\treturn elem\n\t}\n\n\tstatic getSiblings(elem){\n\t\telem = elem || super.getData();\n\t\treturn Array.prototype.filter.call(\n\t\t\telem.parentNode.children,\n\t\t\t(child)=>{\n\t\t\t\treturn child !== elem;\n\t\t\t}\n\t\t);\n\t}\n\t\n\tstatic isDescendant(parent, child) {\n\t\tvar node = child.parentNode;\n\t\twhile (node != null) {\n\t\t\tif (node == parent) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n   }\n\n\tstatic getAncestors(elem,selector){\n\t\telem = elem || super.getData();\n\t\tconst parents = [];\n\n\t\tlet firstChar;\n\n\t\tif (selector) {\n\t\t\tfirstChar = selector.charAt(0);\n\t\t}\n\n\t\t// Get matches\n\t\tfor (; elem && elem !== document; elem = elem.parentNode) {\n\n\t\t\tif (selector) {\n\t\t\t\t// If selector is a class\n\t\t\t\tif (firstChar === '.') {\n\t\t\t\t\tif (elem.classList.contains(selector.substr(1))) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is an ID\n\t\t\t\tif (firstChar === '#') {\n\t\t\t\t\tif (elem.id === selector.substr(1)) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a data attribute\n\t\t\t\tif (firstChar === '[') {\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.hasAttribute(selector.substr(1, selector.length - 1))\n\t\t\t\t\t) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a tag\n\t\t\t\tif (elem.tagName.toLowerCase() === selector) {\n\t\t\t\t\tparents.push(elem);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tparents.push(elem);\n\t\t\t}\n\n\t\t}\n\t\t// Return parents if any exist\n\t\tif (parents.length === 0) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn parents;\n\t\t}\n\t}\n\n\tstatic moveContents(elem,elementToMoveContentsTo){\n\t\telem = elem || super.getData();\n\t\tconst oldParent = elem;\n\t\tconst newParent = new FwDom(elementToMoveContentsTo);\n\n\t\tif(!elem && !elementToMoveContentsTo){\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (\n\t\t\tnewParent\n\t\t\t&& newParent !== oldParent) {\n\t\t\twhile (oldParent.childNodes.length > 0) {\n\t\t\t\tnewParent.appendChild(oldParent.childNodes[0]); \n\t\t\t}\n\t\t}\n\n\t\treturn elem;\n\t}\n\n\tstatic scrollToElem(elem,ToScrollTo,direction){\n\t\telem = elem || super.getData();\n\t\tif(!ToScrollTo){\n\t\t\treturn;\n\t\t}\n\n\t\tdirection = direction || 'y';\n\n\t\t\tconst methods =\n\t\t\t\tdirection == 'x'\n\t\t\t\t\t? ['scrollLeft', 'left']\n\t\t\t\t\t: ['scrollTop', 'top'];\n\n\t\t\tconst scrollOpts = {};\n\n\t\t\tscrollOpts[methods[1]] =\n\t\t\t\telem[methods[0]]\n\t\t\t\t- elem.getBoundingClientRect()[methods[1]]\n\t\t\t\t+ ToScrollTo.getBoundingClientRect()[methods[1]]\n\n\t\t\telem.scrollTo(scrollOpts);\n\n\t\t\treturn elem;\n\t}\n\n\tstatic RunFnForChildren(ancestorElem,selector,parentSelector,fn) { //@TODO wtf\n\n\t\tif(\n\t\t\tancestorElem\n\t\t\t&& selector\n\t\t\t&& parentSelector\n\t\t\t&& fn\t\n\t\t){\n\t\t\tlet children = ancestorElem.querySelectorAll(selector);\n\t\n\t\t\tchildren.forEach((child) => {\n\t\n\t\t\t\tif(\n\t\t\t\t\tchild.closest(parentSelector)\n\t\t\t\t\t&& (ancestorElem.isSameNode(child.closest(parentSelector)))\n\t\t\t\t){\n\t\t\t\t\tfn(child);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn ancestorElem;\n\t\t}\n\t}\n\t\n}\n\nexport default FwDom;","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwString extends FwDataHelper {\n\tconstructor(data){\n\t\tsuper(data);\n\t}\n\tstatic GetFileExtension (str) {\n\t\tstr = str.toString();\n\t\treturn str.split('.').pop();\n\t}\n\tstatic ToCamelCase (str) {\n\t\tstr = str.toString();\n\t\n\t\treturn str\n\t\t\t.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\n\t\t\t\treturn index == 0\n\t\t\t\t\t? word.toLowerCase()\n\t\t\t\t\t: word.toUpperCase();\n\t\t\t})\n\t\t\t.replace(/-|\\s/g, '');\n\t}\n\t\n\n\tstatic ToDashed(str) {\n\t\tstr = str.toString();\n\n\t\treturn FwString.ToCamelCase(str).replace( /([a-z]|[0-9])([A-Z])/g, '$1-$2' ).toLowerCase();\n\t}\n}\n\nexport default FwString;","\nimport Settings from './../core/settings.js';\nimport {lookupResetToParentClass,lookupResetFromClosestComponent,lookupResetFromClosestComponentUi} from './validation.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwString from './../data-helper/string.js';\n\nexport const UIPrefix = (componentName) => {\n\treturn `${componentName}-ui`;\n}\n\nexport const UIDynamicClass = `${Settings.get('uiJsClass')}_internal_toggle`;\n\nexport const UIBodyClass = {\n\tnoScroll: `body-no-scroll`,\n\tonDrag: `body-on-drag`,\n\tloading: `body-loading`,\n\tloaded: `body-loaded`,\n}\n//convert toggler if it's a dynamic chu so no sadness\nexport const UITriggerer = (triggerer,isGroupable) => {\n\ttriggerer = triggerer || false;\n\tisGroupable = isGroupable || false;\n\n\tlet toReturn;\n\n\tif (triggerer) {\n\t\tif ( isGroupable ){\n\t\t\treturn;\n\t\t} else if ( //calendar fix\n\t\t\ttriggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UIDynamicClass}`)\n\t\t) {\n\t\t\ttoReturn = triggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`);\n\n\t\t} else {\n\t\t\ttoReturn = triggerer;\n\t\t}\n\n\t\treturn toReturn;\n\t}\n}\n\n// case 'dropdown':\n// \tcase 'modal':\n// \tcase 'board':\n// \tcase 'switch':\n// \tcase 'alert-close':\n\nexport const UIToggled = (toggleMode,triggerer,selector) => {\n\ttriggerer = triggerer || false;\n\ttoggleMode = toggleMode || false;\n\tselector = selector || false;\n\n\tconst componentClass = `${FwString.ToDashed(\n\t\ttoggleMode\n\t\t\t.replace('-open', '')\n\t\t\t.replace('-close', '')\n\t)}`;\n\n\tif(!toggleMode){\n\t\treturn\n\t}\n\n\tconst selectorToMatch = selector\n\t\t? selector\n\t\t: `.${componentClass}`;\n\t\t// lookup_reset_to_parent\n\t\t// lookup_from_closest\n\n\n\tlet toReturn = null;\n\n\tif (triggerer) {\n\t\t//lookup by href\n\t\tif (\n\t\t\ttriggerer.hasAttribute('href')\n\t\t\t&& triggerer.getAttribute('href').startsWith('#')\n\t\t\t&& triggerer.getAttribute('href') !== '#'\n\t\t\t&& (\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t)\n\t\t\t\t&& document.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t).matches(selectorToMatch)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('toggle found by href');\n\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('href'));\n\n\t\t//lookup by data-href\n\t\t} else if (\n\t\t\ttriggerer.hasAttribute('data-href')\n\t\t\t&& triggerer.getAttribute('data-href').startsWith('#')\n\t\t\t&& triggerer.getAttribute('data-href') !== '#'\n\t\t\t&& (\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t)\n\t\t\t\t&& document.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t).matches(selectorToMatch)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('toggle found by data-href');\n\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('data-href'));\n\n\t\t//lookup by closest [data-toggle]\n\t\t} else if (\n\t\t\ttoggleMode\n\t\t\t&& triggerer\n\t\t\t\t.parentNode\n\t\t\t\t.closest(`[data-toggle-${toggleMode}]`)\n\t\t) {\n\t\t\t// console.warn('toggle searching closest data-toggle');\n\t\t\ttoReturn = UIToggled(\n\t\t\t\ttoggleMode,\n\t\t\t\ttriggerer.parentNode.closest(`[data-toggle-${toggleMode}]`)\n\t\t\t);\n\n\t\t//look up by tag `lookup_reset_to_parent`\n\t\t} else if (\n\t\t\ttoggleMode\n\t\t\t&& lookupResetToParentClass.filter(i => {\n\t\t\t\treturn triggerer.parentNode.matches(`.${i}`)\n\t\t\t}).length > 0\n\t\t) {\n\t\t\t// console.warn('toggle trigger was in group');\n\t\t\ttoReturn = UIToggled(\n\t\t\t\ttoggleMode,\n\t\t\t\ttriggerer.parentNode\n\t\t\t);\n\t\t} else {\n\t\t\tlet possibleSiblings = triggerer.nextElementSibling;\n\t\t\t\n\t\t\twhile (possibleSiblings) {\n\t\t\t\tif (possibleSiblings.matches(selectorToMatch)) {\n\t\t\t\t\t// console.warn('toggle trigger anybody whos a sibling');\n\t\t\t\t\treturn possibleSiblings;\n\t\t\t\t}\n\t\t\t\tpossibleSiblings =\n\t\t\t\t\tpossibleSiblings.nextElementSibling;\n\t\t\t}\n\t\t\ttoReturn = possibleSiblings;\n\t\t}\n\t}\n\n\tif (\n\t\t!toReturn\n\t\t&& lookupResetFromClosestComponent.filter((i)=> {\n\t\t\treturn i == componentClass\n\t\t})\n\t) {\n\t\t//look if theres an ancestor it can toggle. last prioroty\n\t\t// console.warn('has a ttrigger, looking for closest compopnent');\n\n\n\t\tif (\n\t\t\ttriggerer\n\t\t\t&& toggleMode\n\t\t\t&& (\n\t\t\t\tlookupResetFromClosestComponentUi.filter(i => {\n\t\t\t\t\treturn triggerer.parentNode.matches(`.${i}`)\n\t\t\t\t}).length > 0\n\t\t\t\t&& triggerer.parentNode.closest(`.${UIPrefix(componentClass)}`)\n\t\t\t)\n\t\t){\n\t\t\t// console.warn('found for a ui ancestor');\n\t\t\ttoReturn = triggerer.parentNode.closest(`.${componentClass}`);\n\t\t}else if(\n\t\t\ttriggerer\n\t\t\t&& toggleMode\n\t\t\t&& triggerer.parentNode.closest(selectorToMatch)\n\t\t){\n\t\t\t// console.warn('found for an ancestor');\n\t\t\ttoReturn = triggerer.parentNode.closest(selectorToMatch);\n\t\t}\n\t}\n\n\tif(!toReturn) {\n\t\t\n\t\tif (\n\t\t\twindow.location.hash !== ''\n\t\t\t&& document.querySelector(window.location.hash)\n\t\t\t&& document\n\t\t\t\t.querySelector(window.location.hash)\n\t\t\t\t.matches(selectorToMatch)\n\t\t) {\n\t\t\t// console.warn('no trigger but found the hash is a matching toggle');\n\t\t\ttoReturn = document.querySelector(window.location.hash);\n\t\t}\n\t}\n\n\treturn toReturn;\n}\n\nexport const UIChangeHash = (id) => {\n\tid = id || '';\n\n\tif (Settings.get('dynamicHash')) {\n\t\tconst idToGoTo = (id !== '' ? `#${id}` : null);\n\t\tif (idToGoTo) {\n\t\t\tif (window.history.pushState) {\n\t\t\t\twindow.history.pushState(\n\t\t\t\t\tnull,\n\t\t\t\t\tnull,idToGoTo\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.location.hash = idToGoTo;\n\t\t\t}\n\n\t\t} else {\n\t\t\tlet scrollV, scrollH;\n\t\t\tif (window.history.pushState)\n\t\t\t\twindow.history.pushState(\n\t\t\t\t\t\"\",\n\t\t\t\t\tdocument.title,\n\t\t\t\t\twindow.location.pathname + window.location.search\n\t\t\t\t);\n\t\t\telse {\n\t\t\t\t// Prevent scrolling by storing the page's current scroll offset\n\t\t\t\tscrollV = document.body.scrollTop;\n\t\t\t\tscrollH = document.body.scrollLeft;\n\n\t\t\t\twindow.location.hash = \"\";\n\n\t\t\t\t// Restore the scroll offset, should be flicker free\n\t\t\t\tdocument.body.scrollTop = scrollV;\n\t\t\t\tdocument.body.scrollLeft = scrollH;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const UIToggleGroup = (element, prefix, activatedClass, siblingSelector, resetterClass, noActiveClass,multipleClass) => {\n\tprefix = prefix || false;\n\n\tif(!prefix){\n\t\treturn;\n\t}\n\tsiblingSelector = siblingSelector || `.${prefix}`;\n\tactivatedClass = activatedClass || 'active';\n\tresetterClass = resetterClass || `${prefix}-group-toggle-reset`;\n\tnoActiveClass = noActiveClass || `${prefix}-group-toggle-allow-no-active`;\n\tmultipleClass = multipleClass || `${prefix}-group-toggle-multiple`;\n\n\tif(\n\t\telement.closest(siblingSelector)\n\t\t&& !element.classList.contains(prefix)\n\t){\n\t\telement = element.closest(siblingSelector);\n\t}\n\n\tif(!element) {\n\t\treturn;\n\t}\n\n\tconsole.log(element,\n\t\tnoActiveClass);\n\n\t//reset da resetti\n\tconst resetter = FwDom\n\t\t.getSiblings(element)\n\t\t.filter((butt) => {\n\t\t\treturn butt.classList.contains(resetterClass);\n\t\t});\n\tresetter.forEach((butt) => {\n\t\tbutt.classList.remove(activatedClass);\n\t});\n\n\t//dem siblongs\n\tconst selectorSiblings = FwDom\n\t\t.getSiblings(element)\n\t\t.filter((sibling) => {\n\t\t\treturn sibling.matches(siblingSelector);\n\t\t});\n\n\tif (\n\t\t!element.closest(`.${multipleClass}`)\n\t\t|| element.classList.contains(resetterClass)\n\t) {\n\t\tselectorSiblings.forEach((sibling) => {\n\t\t\tsibling.classList.remove(activatedClass);\n\t\t});\n\t}\n\n\tif (\n\t\t(\n\t\t\telement.closest(`.${multipleClass}`)\n\t\t\t&& selectorSiblings\n\t\t\t\t.filter((butt) => {\n\t\t\t\t\treturn butt.classList.contains(activatedClass);\n\t\t\t\t})\n\t\t\t\t.length > 0\n\t\t)\n\t\t|| element\n\t\t\t.closest(`.${noActiveClass}`)\n\t) {\n\t\telement.classList.toggle(activatedClass);\n\n\t} else {0\n\t\telement.classList.add(activatedClass);\n\t}\n}\n\nexport const UIPurge = (exempted,selector,callback) => {\n\t\n\tdocument.querySelectorAll(selector).forEach((elem) => {\n\n\t\tif (\n\t\t\t!exempted\n\t\t\t|| (\n\t\t\t\texempted\n\t\t\t\t&& elem !== exempted\n\t\t\t\t&& !elem.contains(exempted)\n\t\t\t )\n\t\t) {\n\t\t\tcallback(elem);\n\t\t}else{\n\t\t\t// console.log('exepmted',exempted);\n\t\t}\n\t});\n}","\nimport { UIBodyClass } from '../util/ui.js';\n\n\n class FwQueue {\n\tconstructor(){\n\t\tthis._on_load = [];\n\t\tthis._on_ready = [];\n\t\tthis._on_resize = [];\n\t\tthis._on_scroll = [];\n\t\tthis._on_rightAway = [];\n\t\tthis._on_init = [];\n\t}\n\n\tget on_load(){\n\t\treturn this._on_load;\n\t}\n\tget on_ready(){\n\t\treturn this._on_ready;\n\t}\n\tget on_resize(){\n\t\treturn this._on_resize;\n\t}\n\tget on_scroll(){\n\t\treturn this._on_scroll;\n\t}\n\tget on_rightAway(){\n\t\treturn this._on_rightAway;\n\t}\n\tget on_init(){\n\t\treturn this._on_init;\n\t}\n\tset on_load(fn){\n\t\tthis._on_load.push(fn);\n\t}\n\tset on_ready(fn){\n\t\tthis._on_ready.push(fn);\n\t}\n\tset on_resize(fn){\n\t\tthis._on_resize.push(fn);\n\t}\n\tset on_scroll(fn){\n\t\tthis._on_scroll.push(fn);\n\t}\n\tset on_rightAway(fn){\n\t\tthis._on_rightAway.push(fn);\n\t}\n\tset on_init(fn){\n\t\tthis._on_init.push(fn);\n\t}\n}\n\nconst INITIATOR_QUEUE = new FwQueue();\n\nlet is_started = false;\n\nclass Initiator {\n\t\n\tconstructor(){\n\t\tthis.resizeTimerInternal = null;\n\t\tthis.scrollTimerInternal = null;\n\t}\n\n\tstatic get isStarted(){\n\t\treturn is_started;\n\t}\n\n\tstatic set isStarted(val){\n\t\tis_started = val;\n\t}\n\n\tstatic get Q(){\n\t\treturn INITIATOR_QUEUE;\n\t}\n\n\t#execqt(fnsArray){\n\t\tfnsArray.forEach((fn) => {\n\t\t\tfn(); \n\t\t});\n\t}\n\n\tstatic isDocReady(fn){\n\t\tif (document.readyState != 'loading') {\n\t\t\tfn();\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t\t}\n\t}\n\n\t#runRightAway(){\n\t\tthis.#execqt(Initiator.Q.on_rightAway);\n\t}\n\t\n\t#runReady(){\n\t\tthis.#execqt(Initiator.Q.on_ready);\n\t}\n\t\n\t#runLoad(){\n\t\tthis.#execqt(Initiator.Q.on_load);\n\t}\n\n\t#runResize() {\n\t\tconst ini = this;\n\t\tclearTimeout(ini.resizeTimerInternal);\n\t\tini.resizeTimerInternal = setTimeout(() => {\n\t\t\tini.#execqt(Initiator.Q.on_resize);\n\t\t}, 100);\n\t}\n\t\n\t#runScroll() {\n\t\tconst ini = this;\n\t\tclearTimeout(ini.scrollTimerInternal);\n\t\tini.scrollTimerInternal = setTimeout(() => {\n\t\t\tini.#execqt(Initiator.Q.on_scroll);\n\t\t}, 100);\n\t}\n\n\tstatic setState(mode) {\n\t\tmode = mode || 'complete';\n\n\t\tconst body = document.querySelector('body');\n\n\t\tswitch(mode){\n\t\t\tcase 'loading':\n\t\t\t\tbody\n\t\t\t\t\t.classList\n\t\t\t\t\t.remove(UIBodyClass.loaded);\n\t\t\t\tbody\n\t\t\t\t\t.classList\n\t\t\t\t\t.add(UIBodyClass.loading);\n\t\t\t\tbreak;\n\t\t\tcase 'complete':\n\t\t\tdefault:\n\t\t\t\tsetTimeout(()=>{ \n\t\t\t\t\tbody\n\t\t\t\t\t\t.classList\n\t\t\t\t\t\t.remove(UIBodyClass.loading);\n\t\t\t\t\tbody\n\t\t\t\t\t\t.classList\n\t\t\t\t\t\t.add(UIBodyClass.loaded);\n\t\t\t\t},100);\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\tstatic setLoadingState(){\n\t\tInitiator.setState('loading');\n\t}\n\n\tstatic setCompleteState(){\n\t\tInitiator.setState('complete');\n\t}\n\n\tstatic start(){\n\t\t//component events\n\t\tconst ini = new Initiator();\n\n\t\t\tInitiator.isStarted = true;\n\n\t\t\tini.#execqt(Initiator.Q.on_init);\n\n\t\t\tini.#runRightAway();\n\n\t\t\tInitiator.isDocReady(()=>{\n\t\t\t\tini.#runReady();\n\t\t\t\tInitiator.setCompleteState();\n\t\t\t});\n\n\t\t\twindow.addEventListener('load', () => {\n\t\t\t\tini.#runLoad()\n\t\t\t});\n\t\t\twindow.addEventListener('resize', () => {\n\t\t\t\tini.#runResize()\n\t\t\t});\n\t\t\twindow.addEventListener('scroll', () => {\n\t\t\t\tini.#runScroll()\n\t\t\t});\n\t}\n\n\tstatic restart(){\n\t\tif(!Initiator.isStarted){\n\t\t\treturn;\n\t\t}\n\t\tconst ini = new Initiator();\n\n\t\tInitiator.setLoadingState();\n\t\tini.#runRightAway();\n\t\tini.#runReady();\n\t\tInitiator.setCompleteState();\n\t\tini.#runLoad();\n\t\tconsole.info('frameWork restarted');\n\t}\n\n}\n\nInitiator.start();\n\nexport default Initiator;\n","\nimport Settings from './../core/settings.js';\nimport FwDataHelper from './../classes/data-helper.js';\n// const customEvents = [];\nconst NativeEvents = [\n\t'click',\n\t'dblclick',\n\t'mouseup',\n\t'mousedown',\n\t'contextmenu',\n\t'mousewheel',\n\t'DOMMouseScroll',\n\t'mouseover',\n\t'mouseout',\n\t'mousemove',\n\t'selectstart',\n\t'selectend',\n\t'keydown',\n\t'keypress',\n\t'keyup',\n\t'paste',\n\t'orientationchange',\n\t'touchstart',\n\t'touchmove',\n\t'touchend',\n\t'touchcancel',\n\t'pointerdown',\n\t'pointermove',\n\t'pointerup',\n\t'pointerleave',\n\t'pointercancel',\n\t'gesturestart',\n\t'gesturechange',\n\t'gestureend',\n\t'focus',\n\t'blur',\n\t'change',\n\t'reset',\n\t'select',\n\t'submit',\n\t'focusin',\n\t'focusout',\n\t'load',\n\t'unload',\n\t'beforeunload',\n\t'resize',\n\t'move',\n\t'DOMContentLoaded',\n\t'readystatechange',\n\t'error',\n\t'abort',\n\t'scroll'\n  ];\n  \n\nconst EVENT_STORAGE = {};\n\nclass FwEvent extends FwDataHelper {\n\t\n\tstatic UIDEvent(element, uid) {\n\t  return (uid && `${uid}::${uidEvent++}`) || element.uidEvent || uidEvent++\n\t}\n\t\n\tstatic getEvent(element) {\n\t\tconst uid = UIDEvent(element)\n\t  \n\t\telement.uidEvent = uid\n\t\tEVENT_STORAGE[uid] = EVENT_STORAGE[uid] || {}\n\t  \n\t\treturn eventRegistry[uid]\n\t  }\n\n\tstatic get cusEventOptsDef () {\n\t\treturn {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t}\n\t}\n\n\tstatic classNester(selector){\n\t\tif(selector === '*' || typeof selector !== 'string'){\n\t\t\treturn selector;\n\t\t}else{\n\t\t\tconst selArr = selector.split(',');\n\t\t\tlet toReturn  = selector;\n\t\t\tselArr.forEach(sel => {\n\n\t\t\t\t\n\t\t\t\ttoReturn += `, ${sel} *`;\n\t\t\t});\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\n\tstatic addListener(parent, evt, selectorOrParentFallback, handler){\n\t\tparent = parent || false;\n\t\t\n\t\t// runNative = runNative !== false || runNative == true; //no apipipi\n\t\t//dai mo ilaag sa ddocument ta maerror si matches habo nya ki element\n\n\t\tconst elemToAddTo = parent || selectorOrParentFallback;\n\t\tconst evtNoApi = evt.split(`.${Settings.get('prefix')}`)[0];\n\t\tconst isNative = NativeEvents.includes(evt);\n\n\t\tif(!isNative){\n\t\t\telemToAddTo.addEventListener(\n\t\t\t\tevtNoApi,\n\t\t\t\t(event)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t!parent\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tparent\n\t\t\t\t\t\t\t&& event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t\t\t\t\t\t// && event.target.closest(selectorOrParentFallback)\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\tFwEvent.trigger(\n\t\t\t\t\t\t\tevent.target,\n\t\t\t\t\t\t\tevt,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\t\tnativeEvt:event,\n\t\t\t\t\t\t\t\t\t_selection: FwEvent.classNester(selectorOrParentFallback)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\telemToAddTo.addEventListener(\n\t\t\tevt,\n\t\t\t(event) => {\n\t\t\t\tif (\n\t\t\t\t\t!parent\n\t\t\t\t\t|| (\n\t\t\t\t\t\tparent\n\t\t\t\t\t\t// && event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t\t\t\t\t&& event.target.closest(selectorOrParentFallback)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tif(!isNative){\n\t\t\t\t\t\thandler(event.detail.nativeEvt);\n\t\t\t\t\t}else{\n\t\t\t\t\t\thandler(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\t}\n\n\tstatic removeListener(element,evt,handler){\n\t\t// element.removeEventListener(evt,handler,true);\n\t\t// @TODO. neet to rethink this shit\n\t}\n\n\tstatic trigger(el, evt, customEventOpts) {\n\t\tlet event;\n\t\tel = el || document;\n\t\tif (NativeEvents.includes(evt)) {\n\t\t\tevent = document.createEvent('HTMLEvents');\n\t\t\tevent.initEvent(evt, true, false);\n\t\t} else {\n\t\t\tcustomEventOpts = customEventOpts || false;\n\t\t\tif(customEventOpts) {\n\t\t\t\tevent = new CustomEvent(evt, customEventOpts);\n\t\t\t}else{\n\t\t\t\tevent = new CustomEvent(evt)\n\t\t\t}\n\t\t}\n\t\tel.dispatchEvent(event);\n\t\n\t\t// return event;\n\t}\n\n\n}\n\nexport default FwEvent;\n\n","\n\nconst _dataobj = (() => {\n\tconst storage = {};\n\tlet id = 1;\n\treturn {\n\t\t_set(element, key, data) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\telement.fwKeys = {\n\t\t\t\tkey,\n\t\t\t\tid\n\t\t\t}\n\t\t\tid++\n\t\t\t}\n\n\t\t\tstorage[element.fwKeys.id] = data\n\t\t},\n\t\t_get(element, key) {\n\t\t\tif (!element || typeof element.fwKeys === 'undefined') {\n\t\t\treturn null\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\treturn storage[keyProperties.id]\n\t\t\t}\n\n\t\t\treturn null\n\t\t},\n\t\t_remove(element, key) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\treturn\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\tdelete storage[keyProperties.id]\n\t\t\tdelete element.fwKeys\n\t\t\t}\n\t\t}\n\t}\n})()\n\nconst DataHandler = {\n\tset(elm, key, data) {\n\t_dataobj._set(elm, key, data)\n\t},\n\tget(elm, key) {\n\treturn _dataobj._get(elm, key)\n\t},\n\tremove(elm, key) {\n\t_dataobj._remove(elm, key)\n\t}\n}\n\n\nexport default DataHandler;","import DataHandler from '../util/datahandler.js';\nimport { DisableClasses } from '../util/validation.js';\nimport { UIDynamicClass } from '../util/ui.js';\n\n/*\nNAME\nTOGGLE_MODE\nDATA_KEY\nCONTAINED_BY_NAME\n\n\tcase 'dropdown':\n\tcase 'modal':\n\tcase 'board':\n\tcase 'switch':\n\tcase 'alert-close':\n\nFwToggleMode\n\n*/\n\nclass FwComponent {\n\tconstructor(element,props) {\n\t\tif (!element) {\n\t\t\treturn\n\t\t}\n\n\t\tDataHandler.set(element, this.constructor.DATA_KEY, this);\n\t\tthis.element = element;\n\n\t\tif(\n\t\t\ttypeof props === 'object'){\n\t\t\tfor (let key in props) {\n\t\t\t\tthis[key] = props[key];\n\t\t\t}\n\t\t}\n\t\n\t}\n\n\tdispose() {\n\t\tDataHandler.delete(this.element, this.constructor.DATA_KEY, this);\n\t\tthis.element = null;\n\t}\n\n\tstatic getInstance(element) {\n\t\treturn DataHandler.get(element, this.DATA_KEY);\n\t}\n\n\tUIEl(elem){\n\t\tif(elem){\n\t\t\tthis._resetUIEl(elem);\n\t\t}\n\t\treturn this.element;\n\t}\n\n\t_resetUIEl(element){\n\t\tif(element){\n\t\t\tthis.element = element\n\t\t}else{\n\t\t\tthrow new Error('Needs a valid element to reset component UI root element');\n\t\t}\n\t}\n\n\t_runFn (callback) {\n\t\tif (callback) {\n\t\t\tlet fn;\n\t\t\ttry {\n\t\t\t\tfn = eval(/^[^(]+/.exec(callback)[0]);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t\tif (typeof fn === 'function') {\n\t\t\t\teval(callback);\n\t\t\t}\n\t\t}\n\t}\n\n\t_setInitState(beforeEvent,happeningEvent,afterEvent,callback){\n\t\t\n\t\tcallback = callback || false;\n\n\t\tif(callback){\n\t\t\tFwEvent.trigger(element,beforeEvent);\n\t\t\tFwEvent.trigger(element,happeningEvent);\n\t\t\t\n\t\t\tcallback(this.element);\n\n\t\t\tFwEvent.trigger(element,afterEvent);\n\t\t}\n\t}\n\n\tstatic _parseArgs (arr, defaults) {\n\n\t\tconst args = {};\n\t\n\t\tfor (let prop in defaults) {\n\t\t\tif(\n\t\t\t\t(\n\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t&& arr[prop] !== ''\n\t\t\t\t)\n\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t){\n\t\t\t\targs[prop] = defaults[prop].value;\n\t\t\t}else{\n\t\t\t\targs[prop] = defaults[prop];\n\t\t\t}\n\t\t}\n\t\n\t\tfor (let prop in arr) {\n\t\t\tif (\n\t\t\t\tarr.hasOwnProperty(prop)\n\t\t\t\t&& arr[prop] !== undefined\n\t\t\t\t&& arr[prop] !== null\n\t\t\t\t&& arr[prop] !== ''\n\t\t\t) {\n\t\t\t\t// Push each value from `obj` into `extended`\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t)\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('parser')\n\t\t\t\t){\n\t\t\t\t\targs[prop] = defaults[prop].parser(arr[prop]);\n\t\t\t\t}else{\n\t\t\t\t\targs[prop] = arr[prop];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// catch boolean\n\t\t\t\tif (args[prop] == 'false' || args[prop] == 'true') {\n\t\t\t\t\targs[prop] = args[prop] == 'true' ? true : false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn args;\n\t}\n\n\tstatic isDisabled (elem){\n\t\tif(!elem){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet toReturn = false;\n\n\t\tif (elem.closest('[disabled]') || elem.matches(':disabled')) {\n\t\t\ttoReturn = true;\n\t\t}\n\n\t\tDisableClasses.forEach((classString) => {\n\t\t\tif (elem.closest(`.${classString}`) && !toReturn) {\n\t\t\t\ttoReturn = true;\n\t\t\t}\n\t\t});\n\n\t\treturn toReturn;\n\t}\n\tstatic isDynamic(elem){\t\n\t\treturn elem.classList.contains(UIDynamicClass)\n\t} \n\n\t\n}\n\nexport default FwComponent;","export const BrValue = {\n\txxs: 0,\n\txs:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-xs')\n\t\t)\n\t\t|| 600,\n\tsm:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-sm')\n\t\t)\n\t\t|| 1200,\n\tmd:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-md')\n\t\t)\n\t\t|| 1600,\n\tlg:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-lg')\n\t\t)\n\t\t|| 1800,\n\txl: 9999999\n};\n\nexport const BrTag = Object.keys(BrValue);\n// Br_to_loop =  ['xs','sm','md','lg'];\n\nexport const BrMobileMax =\nparseFloat(\n\tgetComputedStyle(\n\t\tdocument.documentElement\n\t).getPropertyValue('--fw-br-mobile-max')\n)\n|| 'sm';\n\nexport const ValidateBr = (breakpoint, mode) => {\n\tmode = mode || 'below'; //below,within,above\n\tconst currIndex = BrTag.indexOf(breakpoint);\n\n\tswitch (mode) {\n\t\tcase 'below': //max-width\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<= BrValue[breakpoint]\n\t\t\t);\n\n\t\tcase 'within':\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<=BrValue[breakpoint]\n\t\t\t\t&& document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t);\n\n\t\tcase 'above':\n\t\t\treturn currIndex > 0\n\t\t\t\t? document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t\t: document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex]];\n\t}\n};","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UIChangeHash } from './util/ui.js';\nimport {BrMobileMax,ValidateBr} from './util/breakpoint.js';\n\n\nconst NAME = 'accordion';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `open`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_HASHCHANGE = `hashchange${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Accordion extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\telement = element || UIToggled(TOGGLE_MODE) || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? triggerer\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tchangeHash: 'true',\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl()\n\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tAccordion.configDefaults\n\t\t);\n\t}\n\n\tget _isValidWithinQuery() {\n\t\treturn !(\n\t\t\tsuper.UIEl().classList.contains(`${NAME}-mobile`)\n\t\t\t&& !ValidateBr(BrMobileMax, 'above')\n\t\t)\n\t}\n\n\tget _isWithinGroupMultiple () {\n\t\treturn this.UIGroot && this.UIGroot.classList.contains(`${NAME}-group-multiple`)\n\t}\n\n\tget _isWithinAllowNoActive() {\n\t\treturn this.UIGroot && this.UIGroot.classList.contains(`${NAME}-group-allow-no-active`)\n\t}\n\n\tget _probablyToggle() {\n\t\tlet toReturn = [];\n\n\t\tconst selection = document.querySelectorAll(\n\t\t\t`[data-toggle-${TOGGLE_MODE}][href=\"#${this._id}\"],\n\t\t\t[data-toggle-${TOGGLE_MODE}][data-href=\"#${this._id}\"]`\n\t\t);\n\n\t\tif(selection.length) {\n\t\t\ttoReturn = selection;\n\t\t}\n\n\t\treturn toReturn;\n\n\t}\n\n\tget _id(){\n\t\treturn super.UIEl().hasAttribute('id')\n\t\t\t? super.UIEl().getAttribute('id')\n\t\t: false;\n\t}\n\n\t_siblicide(){\n\n\t\tif ( !this._isWithinGroupMultiple ) {\n\t\t\tFwDom.RunFnForChildren(\n\t\t\t\tthis.UIGroot,\n\t\t\t\t`[data-toggle-${TOGGLE_MODE}],.${COMPONENT_CLASS}`,\n\t\t\t\t`.${COMPONENT_CLASS}-group`,\n\t\t\t\t(accBbies)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& (accBbies !== this.triggerer)\n\t\t\t\t\t\t\t&& (accBbies !== super.UIEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\t!this.triggerer\n\t\t\t\t\t\t\t&& (accBbies !== super.UIEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\taccBbies.classList.remove(ACTIVATED_CLASS)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\t//which came first the accordion-gruoup or the accordiiinbsbob?? the actual bitch none of that accordion-group shit\n\tget UIGroot () {\n\t\t\tlet toReturn = super.UIEl().parentNode.closest(`.${COMPONENT_CLASS},.${COMPONENT_CLASS}-group`);\n\n\t\t\t//has to actually be accordion-group closest before accordion\n\t\t\tif(\n\t\t\t\t!toReturn\n\t\t\t\t|| (\n\t\t\t\t\ttoReturn\n\t\t\t\t\t&& !toReturn.matches(`.${COMPONENT_CLASS}-group`) //***\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\n\t\t\treturn toReturn;\n\t}\t\n\n\tclose(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\t\t//is not within an accordion group that needs one of them open \n\t\t\tif ( !this.UIGroot || this._isWithinAllowNoActive ) {\n\n\t\t\t\t\n\t\t\t\ttriggerer && triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t});\n\n\t\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\n\t\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\n\t\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\t\tUIChangeHash('');\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t\t}\n\t\t}\n\t}\n\n\topen(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tthis._siblicide();\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\t\n\t\t\t\ttriggerer && triggerer.classList.add(ACTIVATED_CLASS);\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.add(ACTIVATED_CLASS);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\tUIChangeHash(this._id);\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t\t}\n\t\t\n\t}\n\n\n\n\ttoggle(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(elem,triggerer);\n\t\t}else{\n\t\t\tthis.open(elem,triggerer);\n\t\t}\n\t}\n\n\tstatic handleToggler() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst accordion = new Accordion(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target),\n\t\t\t\t\te.target\n\t\t\t\t);\n\n\t\t\t\taccordion.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleHash() {\n\t\treturn () => {\n\t\t\tif(Settings.get('initializeAccordion')){\n\t\t\t\tconst accordion = new Accordion();\n\t\t\t\taccordion.open();\n\t\t\t};\n\t\t}\n\t}\n\n\tstatic initListeners() {\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]`,\n\t\t\tAccordion.handleToggler()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tnull,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\twindow,\n\t\t\tAccordion.handleHash()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Accordion.handleHash();\n\t}\n\n\tstatic destroyListeners(){\n\t\t\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tAccordion.handleToggler()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\twindow,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\tAccordion.handleHash()\n\t\t);\n\t}\n\t\n}\n\nexport default Accordion;\n\nAccordion.initListeners();\n\n","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled } from './util/ui.js';\n\n\nconst NAME = 'alert';\nconst TOGGLE_MODE = `${NAME}-close`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\nclass Alert extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tclose(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\n\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\telement.parentNode.removeChild(element);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t}\n\n\tstatic closeAll(){\n\t\tconst selector = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\tif (selector.length) {\n\t\t\tselector.forEach((instance) => {\n\t\t\t\tif (\n\t\t\t\t\tinstance.querySelectorAll('[data-toggle-alert-close]').length\n\t\t\t\t\t|| instance.classList.contains(`${NAME}-closeable`)\n\t\t\t\t) {\n\t\t\t\t\tconst alertInstance = new Alert(instance);\n\t\t\t\t\talertInstance.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tstatic handleClose() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst alert = new Alert( UIToggled(TOGGLE_MODE,e.target) );\n\t\t\t\talert.close();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleCloseAll() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tAlert.closeAll()\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]`,\n\t\t\tAlert.handleClose()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}-all]`,\n\t\t\tAlert.handleCloseAll()\n\t\t);\n\t}\n\n\tstatic destroyListeners(){\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tAlert.handleClose()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\twindow,\n\t\t\tEVENT_CLICK,\n\t\t\tAlert.handleCloseAll()\n\t\t);\n\t}\n}\n\nexport default Alert;\n\nAlert.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'btn';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass Button extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(element,EVENT_TOGGLE);\n\t\tUIToggleGroup(element, NAME);\n\t\tFwEvent.trigger(element,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst button = new Button( e.target );\n\t\t\t\tbutton.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS}-group-toggle > .${COMPONENT_CLASS}`,\t\n\t\t\tButton.handleToggle()\n\t\t);\n\t}\n\n\tstatic destroyListeners(){\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tButton.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default Button;\n\nButton.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UITriggerer,UIPurge, UIDynamicClass } from './util/ui.js';\n\nconst NAME = 'dropdown';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_PURGER_CLASS = `${COMPONENT_CLASS}-purger`;\nconst ACTIVATED_CLASS = `open`;\n\nconst NAV_ANCESTOR = `li, .nav-item`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\nconst EVENT_FOCUS = `focus${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Dropdown extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? triggerer\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tmaxHeight: null\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t) || this.element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t),\n\t\t\t\t\tmaxHeight:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t\t) || this.element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t\t),\n\t\t\tDropdown.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UIElNavcestor() {\n\t\treturn this.element.closest(NAV_ANCESTOR);\n\t}\n\n\tget UIElUncles() {\n\t\tif(this.UIElNavcestor){\n\t\t\treturn FwDom.getSiblings(this.UIElNavcestor)\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn sibling.matches(\n\t\t\t\t\t\tNAV_ANCESTOR\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\n\tclose(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\n\t\tthis.setDimensions(\n\t\t\tnull,\n\t\t\tDropdown.configDefaults\n\t\t);\n\t\n\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\ttriggerer\n\t\t\t&& triggerer.classList.remove(ACTIVATED_CLASS);\n\t\tthis.UIElNavcestor\n\t\t\t&& this.UIElNavcestor.classList.remove(ACTIVATED_CLASS);\n\t\t\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t}\n\n\topen(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\t\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\n\t\tDropdown.purge(element);\n\t\n\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\tthis.setDimensions();\n\n\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\ttriggerer\n\t\t\t&& triggerer.classList.add(ACTIVATED_CLASS);\n\n\t\t// if(this.UIElUncles){\n\t\t// \tthis.UIElUncles.forEach((uncle) => {\n\t\t// \t\tuncle.classList.remove(ACTIVATED_CLASS);\n\t\t// \t});\n\t\t// }\n\n\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t}\n\n\ttoggle(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\ttriggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UIDynamicClass}`)\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(element,triggerer);\n\t\t}else{\n\t\t\tthis.open(element,triggerer);\n\t\t}\n\t}\n\t\n\n\tsetDimensions(elem,args){\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\targs = args || this.args;\n\n\t\tif (args.width) {\n\t\t\telement.style.width = args.width;\n\t\t}\n\n\t\tif (args.maxHeight) {\n\t\t\telement.style.maxHeight = args.maxHeight;\n\t\t}\n\t}\n\n\tstatic purge(exempted) {\n\t\tUIPurge(\n\t\t\texempted,\n\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\t(elem) => {\n\t\t\t\tnew Dropdown(elem).close();\n\t\t\t}\n\t\t);\n\t}\n\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\t\t\t\tdropdown.toggle();\n\t\t\t}\n\t\t}\n\t}\n\tstatic handleFocusOpen(i) {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.target.blur();\n\t\t\t}else{\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\n\t\t\t\tdropdown.open();\n\t\t\t\ttriggerer.classList.add('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\tstatic handleBlurClose() {\n\t\treturn (e) => {\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdropdown.close();\n\t\t\t\t}, 200);\n\t\t\t\ttriggerer.classList.remove('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(isPurger) {\n\t\tisPurger = isPurger || false;\n\t\t\n\n\t\treturn (e) => {\n\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\tisPurger\n\t\t\t\t\t|| (\n\t\t\t\t\t\t!isPurger\n\t\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE}]`)\n\t\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tDropdown.purge();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]:not(input):not([contenteditable]):not(.${Settings.get('uiJsClass')})`,\n\t\t\tDropdown.handleToggle()\n\t\t);\n\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_FOCUS,\n\t\t\t`input[data-toggle-${TOGGLE_MODE}], *[contenteditable][data-toggle-${TOGGLE_MODE}], .${Settings.get('uiJsClass')}[data-toggle-${TOGGLE_MODE}] [contenteditable]`,\n\t\t\tDropdown.handleFocusOpen()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\t`input[data-toggle-${TOGGLE_MODE}], *[contenteditable][data-toggle-${TOGGLE_MODE}], .${Settings.get('uiJsClass')}[data-toggle-${TOGGLE_MODE}] [contenteditable]`,\n\t\t\tDropdown.handleBlurClose()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*, .${COMPONENT_PURGER_CLASS}`,\n\t\t\tDropdown.handleUniversalPurge()\n\t\t);\n\t}\n\n\tstatic destroyListeners(){\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tDropdown.handleToggle()\n\t\t);\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_FOCUS,\n\t\t\tDropdown.handleFocusOpen()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\tDropdown.handleBlurClose()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\tDropdown.handleUniversalPurge()\n\t\t);\n\t}\n}\n\n\nexport default Dropdown;\n\nDropdown.initListeners();","import FwDataHelper from './../classes/data-helper.js';\nimport { \n\tDateTimePreset,\n\tdayNames,\n\tdayNamesShort,\n\tmonthNames,\n\tmonthNamesShort,\n} from '../util/validation';\n\nclass FwDate extends FwDataHelper {\n\n\tstatic toParsed (d){\n\t\n\t\tif (d) {\n\n\t\t\tlet yr,\n\t\t\t\tmo,\n\t\t\t\tdy,\n\t\t\t\thr,\n\t\t\t\tmn,\n\t\t\t\tdateArr = [],\n\t\t\t\ttimeArr = [];\n\t\t\t\n\t\t\tif (Object.prototype.toString.call(d) === '[object Date]') {\n\t\t\t\t//make a new date out of its methods because js will think u are referring to the same date everythere and ur math becomes a hellhole... dont.. hOE\n\t\t\t\tyr = d.getFullYear() || null;\n\t\t\t\tmo = d.getMonth() || null;\n\t\t\t\tdy = d.getDate() || null;\n\t\t\t\thr = d.getHours() || null;\n\t\t\t\tmn = d.getMinutes() || null;\n\t\t\t\t\n\t\t\t} else {\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.Value.pattern\n\t\t\t\t);\n\t\t\t\tconst isValid = pattern.test(d);\n\t\n\t\t\t\tif (isValid) {\n\t\t\t\t\tlet DateTimePresetArr = d.split('T') || [];\n\t\n\t\t\t\t\t//date\n\t\t\t\t\tif (DateTimePresetArr[0]) {\n\t\t\t\t\t\tdateArr = DateTimePresetArr[0].split('-');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t//time\n\t\t\t\t\tif (DateTimePresetArr[1]) {\n\t\t\t\t\t\ttimeArr = DateTimePresetArr[1].split(':');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tyr = parseInt(dateArr[0]) || null;\n\t\t\t\t\tmo = parseInt(dateArr[1] - 1) || null;\n\t\t\t\t\tdy = parseInt(dateArr[2]) || null;\n\t\t\t\t\thr = parseInt(timeArr[0]) || null;\n\t\t\t\t\tmn = parseInt(timeArr[1]) || null;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tlet toReturn = false;\n\t\n\t\t\tif (\n\t\t\t\tObject.prototype.toString.call(\n\t\t\t\t\tnew Date(yr, mo, dy, hr, mn)\n\t\t\t\t) == '[object Date]'\n\t\t\t) {\n\t\t\t\ttoReturn = new Date(yr, mo, dy, hr, mn);\n\t\t\t}\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\t\n\tstatic toHuman (date,format) {\n\t\tconst d = FwDate.toParsed(date);\n\t\tformat = format || DateTimePreset.HumanDate.template;\n\t\n\t\tif (d) {\n\t\t\tlet iFormat,\n\t\t\t\toutput = '',\n\t\t\t\tliteral = false;\n\t\n\t\t\t// Check whether a format character is doubled\n\t\t\tconst lookAhead = (match) => {\n\t\t\t\t\tlet matches =\n\t\t\t\t\t\tiFormat + 1 < format.length\n\t\t\t\t\t\t&& format.charAt(iFormat + 1) === match;\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tiFormat++;\n\t\t\t\t\t}\n\t\t\t\t\treturn matches;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a number, with leading zero if necessary\n\t\t\t\tformatNumber = (match, value, len) => {\n\t\t\t\t\tlet num = '' + value;\n\t\t\t\t\tif (lookAhead(match)) {\n\t\t\t\t\t\twhile (num.length < len) {\n\t\t\t\t\t\t\tnum = '0' + num;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn num;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a name, short or long as requested\n\t\t\t\tformatName = (match, value, shortNames, longNames) => {\n\t\t\t\t\treturn lookAhead(match)\n\t\t\t\t\t\t? longNames[value]\n\t\t\t\t\t\t: shortNames[value];\n\t\t\t\t};\n\t\t\t\t\n\t\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\n\t\t\t\tif (literal) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tformat.charAt(iFormat) === \"'\" && !lookAhead(\"'\")\n\t\t\t\t\t) {\n\t\t\t\t\t\tliteral = false;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt(iFormat);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\t\tcase 'd': //date number\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'd',\n\t\t\t\t\t\t\t\td.getDate(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'D': //day of the week\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'D',\n\t\t\t\t\t\t\t\td.getDay(),\n\t\t\t\t\t\t\t\tdayNamesShort,\n\t\t\t\t\t\t\t\tdayNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'o': //day of year hmm\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'o',\n\t\t\t\t\t\t\t\tMath.round(\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\t\t\t\td.getDate()\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t\t- new Date(\n\t\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t/ 86400000\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm': //month\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'm',\n\t\t\t\t\t\t\t\td.getMonth() + 1,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'M': //month but name\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'M',\n\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\tmonthNamesShort,\n\t\t\t\t\t\t\t\tmonthNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'y': //year\n\t\t\t\t\t\t\toutput += lookAhead('y')\n\t\t\t\t\t\t\t\t? d.getFullYear()\n\t\t\t\t\t\t\t\t: (d.getFullYear() % 100 < 10\n\t\t\t\t\t\t\t\t\t\t? '0'\n\t\t\t\t\t\t\t\t\t\t: '') +\n\t\t\t\t\t\t\t\t(d.getFullYear() % 100);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'H': //12 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'H',\n\t\t\t\t\t\t\t\td.getHours() % 12 || 12,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'h': //24 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'h',\n\t\t\t\t\t\t\t\td.getHours(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'i': //minute\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\td.getMinutes(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'a': //am /pm\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'pm' : 'am';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'A': //AM/PM\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'PM' : 'AM';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif (lookAhead(\"'\")) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt(iFormat);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic toVal(date) {\n\t\tconst d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\treturn this.toHuman(\n\t\t\t\td,\n\t\t\t\tDateTimePreset.Value.template\n\t\t\t);\n\t\t}\n\t}\n\n\tstatic adjacentMonth (date,offsetByMonth, dateOverride) {\n\t\tlet d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\tdateOverride = dateOverride || null;\n\t\n\t\t\tconst currMonth = d.getMonth(),\n\t\t\t\tcurrYear = d.getFullYear(),\n\t\t\t\tnewMonth = (() => {\n\t\t\t\t\tlet toReturn;\n\t\t\t\t\tif (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 > 12\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) - 12;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) + 12;\n\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoReturn = (currMonth + offsetByMonth) % 12;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})(),\n\t\n\t\t\t\tnewYear = (() => {\n\t\t\t\t\tconst defOffset = parseInt(offsetByMonth / 12);\n\t\t\t\t\tlet toReturn = currYear + defOffset;\n\t\n\t\t\t\t\t//offset to adjacent year\n\t\t\t\t\tif (\n\t\t\t\t\t\toffsetByMonth < 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn -= 1;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\toffsetByMonth > 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) > 11\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn += 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})()\n\t\t\t\t;\n\t\n\t\t\td.setMonth(newMonth);\n\t\t\td.setFullYear(newYear);\n\t\n\t\t\tif (dateOverride) {\n\t\t\t\td.setDate(dateOverride);\n\t\t\t}\n\t\n\t\t\treturn d;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport default FwDate;","import Settings from './../core/settings.js';\nimport Initiator from './../core/initiator.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwDate from './../data-helper/date.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UIPrefix,UIDynamicClass } from '../util/ui.js';\nimport { DateTimePreset, dayNamesShorter, monthNamesShort } from '../util/validation.js';\n\nimport Dropdown from './../dropdown.js';\n\nconst NAME = 'formCalendar';\nconst ARG_ATTRIBUTE_NAME = 'calendar';\nconst COMPONENT_CLASS = `input-calendar`;\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nclass Calendar extends FwComponent {\n\t\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUIValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UIValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tget theValue() {\n\t\treturn super.UIEl().value\n\t\t\t? FwDate.toVal(super.UIEl().value)\n\t\t\t: false;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\n\t\t\tsuper.UIEl().setAttribute('value', FwDate.toVal(theValue));\n\t\t\tsuper.UIEl().value = FwDate.toVal(theValue);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst theRenderDate = this.UIValue\n\t\t\t? this.UIValue\n\t\t: this.theValue\n\t\t\t? this.theValue\n\t\t:  new Date()\n\n\t\treturn FwDate.toVal(theRenderDate);\n\t}\n\n\tset renderValue(renderDate) {\n\t\tthis.UIValue = renderDate;\n\t}\n\n\tget UIInputValue() {\n\t\treturn this.UIInput && FwDate.toVal(this.UIInput.value)\n\t}\n\n\tset UIInputValue(uiValue) {\n\t\tif(uiValue){\n\t\t\tthis.UIInput.setAttribute('value', FwDate.toHuman(uiValue));\n\t\t\tthis.UIInput.value = FwDate.toHuman(uiValue);\n\t\t}\n\t}\n\n\tget UIRoot () {\n\t\treturn super.UIEl().closest(`.${UIPrefix(COMPONENT_CLASS)}`);\n\t}\n\n\tget UIDates () {\n\t\treturn this.UIRoot && this.UIRoot.querySelectorAll(`.${UIPrefix(COMPONENT_CLASS)}-date`);\n\t}\n\n\tget UIInput(){\n\t\treturn this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input input`);\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tclass: '',\n\t\t\tstartDay: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\treturn parseInt(value) % 7\n\t\t\t\t}\n\t\t\t}, // su,mo,tu,we,th,fr,sa,\n\t\t\tmin: null,\n\t\t\tmax: null,\n\t\t\tyearSpan: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif (parseInt(value) <= 0) {\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisabledDates: '', //yyyy-mm-dd,weekends,past,future\n\t\t\ttextInput: false,\n\t\t\tmonthSkip: true,\n\t\t\tyearSkip: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tclass:\n\t\t\t\t\t\tsuper.UIEl().getAttribute('class'),\n\t\t\t\t\tstartDay:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-start-day`), // 0,1,2,3,4,5,6\n\t\t\t\t\tmin:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-min`)\n\t\t\t\t\t\t|| super.UIEl().getAttribute('min'),\n\t\t\t\t\tmax:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max`)\n\t\t\t\t\t\t|| super.UIEl().getAttribute('max'),\n\t\t\t\t\tyearSpan:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-span`),\n\t\t\t\t\tdisabledDates:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disabled-dates`),\n\t\t\t\t\ttextInput:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-text-input`),\n\t\t\t\t\tmonthSkip:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-month-skip`),\n\t\t\t\t\tyearSkip:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-skip`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tCalendar.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tupdate(newValue,valueToRender) {\n\n\t\tconst element = this.element;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_UPDATE);\n\n\t\tconst theValue = \n\t\t\tFwDate.toVal(newValue)\n\t\t\t|| this.theValue;\n\t\t\n\t\tconst uiValue =\n\t\t\tFwDate.toVal(valueToRender)\n\t\t\t|| theValue\n\t\t\t|| this.renderValue;\n\t\t\t\n\t\t\n\t\tFwEvent.trigger(element,EVENT_UPDATE);\n\t\t//set up calendar\n\t\tif (this.validates(theValue) || !theValue) {\n\t\t\tthis.theValue = FwDate.toVal(theValue, false);\n\t\t\tthis.renderValue = uiValue;\n\n\t\t\tthis._renderUI();\n\t\t}\n\t\n\t\t//user visual feedback if it has a valid bitch\n\t\tif (this.validates(theValue)) {\n\t\t\tthis.UIRoot\n\t\t\t\t.classList.remove('input-error');\n\t\t} else {\n\t\t\tthis.UIRoot\n\t\t\t\t.classList.add('input-error');\n\t\t}\n\t\n\t\tif (this.theValue) {\n\t\n\t\t\tthis.UIDates.forEach((date) => {\n\t\t\t\tif (\n\t\t\t\t\tdate.getAttribute('data-value') == theValue\n\t\t\t\t) {\n\t\t\t\t\tdate.classList.add(ACTIVATED_CLASS);\n\t\t\t\t} else {\n\t\t\t\t\tdate.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tif (this.UIInput) {\n\t\t\t\tthis.UIInputValue = theValue;\n\t\t\t}\n\t\t}\n\t\tFwEvent.trigger(element,EVENT_AFTER_UPDATE);\n\t}\n\n\t\n\tvalidates(date,rangeOnly) {\n\n\t\tdate = date || this.theValue;\n\t\trangeOnly = rangeOnly || false; //range,spot\n\t\n\t\tconst d = FwDate.toParsed(date),\n\t\t\tcheckAgainst = this.args.disabledDates.split(',');\n\t\n\t\tlet toReturn = true;\n\t\n\t\tif (!rangeOnly) {\n\t\t\t//if in disabled dates\n\t\t\tif (checkAgainst.includes(FwDate.toVal(d))) {\n\t\t\t\t// console.warn('value is declared disabled specifically || ',FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\n\t\t\t//weekend\n\t\t\tif (\n\t\t\t\tcheckAgainst.includes('weekends')\n\t\t\t\t&& (d.getDay() == 0 || d.getDay() == 6)\n\t\t\t) {\n\t\t\t\t// console.warn('value was a weekend || ',FwDate.toVal(d),FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\t}\n\t\n\t\t//in the past\n\t\tlet dateNow = new Date();\n\t\tdateNow.setHours(0, 0, 0, 0);\n\t\tif (\n\t\t\tcheckAgainst.includes('past')\n\t\t\t&& d < dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the past || ',FwDate.toVal(d),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\tif (\n\t\t\tcheckAgainst.includes('future')\n\t\t\t&& d > dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the future || ',FwDate.toVal(date),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\t//if  in range of min or max\n\t\tif (\n\t\t\t(\n\t\t\t\tFwDate.toParsed(this.args.max)\n\t\t\t\t&& FwDate.toParsed(this.args.max) < d\n\t\t\t)\n\t\t\t|| (\n\t\t\t\tFwDate.toParsed(this.args.min)\n\t\t\t\t&& d < FwDate.toParsed(this.args.min)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('value not in max and width || ',FwDate.toVal(d));;\n\t\t\ttoReturn = false;\n\t\t}\n\n\t\t//check if values are actually legit dates\n\t\t\t//month\n\t\t\t//date\n\n\t\n\t\treturn toReturn;\n\t}\n\n\tget _calendar() {\n\t\tconst renderDate = this.renderValue;\n\n\t\tconst toReturn = {\n\t\t\tyear: FwDate.toParsed(renderDate).getFullYear(),\n\t\t\tmonth: FwDate.toParsed(renderDate).getMonth(),\n\t\t}\n\t\ttoReturn.startDate = new Date(toReturn.year, toReturn.month, 1);\n\n\t\ttoReturn.lastDate = new Date(toReturn.year, toReturn.month + 1, 0);\n\n\t\ttoReturn.prevDate = new Date(toReturn.year, toReturn.month, 0);\n\t\ttoReturn.prevDay = toReturn.prevDate.getDay();\n\n\t\treturn toReturn;\n\t}\n\n\t_arrowHtml = (buttonClass) => {\n\t\tlet symbolClass, arrowDate, disValid,arrowClass;\n\t\t//set a new date with no date because fuck that boi\n\t\t// console.warn(buttonClass,'hello i fucked up','\\n',FwDate.toParsed(uiValue),'\\n',this._calendar.startDate,'\\n', new Date(this._calendar.year,this._calendar.month));\n\t\tswitch (buttonClass) {\n\t\t\tcase 'prev-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-left';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'prev-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-left';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year - 1, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-right';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month + 1, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-right';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year + 1, this._calendar.month, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//kung yung at least yung last day nang prev or first day ng next man lang ay valid pwidi sya ipindoot\n\t\tlet htmlString = `<button type=\"button\" \n\t\t\tclass=\"\n\t\t\t\t${!disValid ? `disabled ` : ''}\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-navigation\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-${arrowClass}\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-${buttonClass}\" data-value=\"${arrowDate}\"\n\t\t\t>\n\t\t\t\t<i class=\"${UIPrefix(COMPONENT_CLASS)}symbol symbol ${symbolClass}\"></i>\n\t\t\t</button>`;\n\n\t\treturn htmlString;\n\t}\n\n\t_blockHtml = (date, customClass) => {\n\t\tcustomClass = customClass || '';\n\t\treturn `<button type=\"button\" data-value=\"${FwDate.toVal(date)}\"\n\t\t\t\tclass=\"\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-block\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-date\n\t\t\t\t${customClass}\n\t\t\t\">\n\t\t\t\t<span>${date.getDate()}</span>\n\t\t\t</button>`;\n\t}\n\n\t_renderUI(elem,uiValue) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_RENDER);\n\n\t\tuiValue =\n\t\t\tuiValue\n\t\t\t|| this.renderValue;\n\n\t\tthis.renderValue = uiValue;\n\n\t\tconst theUI = {};\n\n\t\tFwEvent.trigger(element,EVENT_RENDER);\n\n\t\ttheUI.container = this.UIRoot;\n\t\t\t\n\t\tif (!theUI.container) {\n\t\t\ttheUI.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUI.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUI.container.appendChild(element);\n\t\t\ttheUI.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${Settings.get('uiClass')}\n\t\t\t\t${Settings.get('uiJsClass')}\n\t\t\t\t${element.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUIPrefix(COMPONENT_CLASS)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\n\t\ttheUI.inputWrapper = theUI.container\n\t\t\t.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\n\t\tconst components = FwDom.getSiblings(element);\n\t\tcomponents.forEach((component) => {\n\t\t\tif (component !== theUI.inputWrapper) {\n\t\t\t\tcomponent.parentNode.removeChild(component);\n\t\t\t}\n\t\t});\n\n\t\t//input\n\t\tif (this.args.textInput) {\n\t\t\tif (!theUI.inputWrapper) {\n\t\t\t\ttheUI.inputWrapper = document.createElement('div');\n\t\t\t\ttheUI.container.appendChild(theUI.inputWrapper);\n\t\t\t\ttheUI.inputWrapper.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-input`\n\t\t\t\t);\n\t\t\t\ttheUI.inputWrapper.innerHTML =\n\t\t\t\t\t'<input class=\"input input-single-line\" type=\"text\" maxlength=\"10\" placeholder=\"MM/DD/YYYY\" />';\n\t\t\t}\n\t\t}\n\n\t\t//date 4 u\n\n\t\t//heading\n\t\t\ttheUI.heading = document.createElement('div');\n\t\t\ttheUI.container.appendChild(theUI.heading);\n\t\t\ttheUI.heading.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-heading`\n\t\t\t);\n\n\t\t//arrowz\n\n\t\t\tconst butts = [\n\t\t\t\t'prev-year',\n\t\t\t\t'prev-month',\n\t\t\t\t'next-month',\n\t\t\t\t'next-year',\n\t\t\t];\n\n\t\t\tbutts.forEach((butt) => {\n\t\t\t\tif (\n\t\t\t\t\t(\n\t\t\t\t\t\tthis.args.yearSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-year'\n\t\t\t\t\t\t\t|| butt == 'next-year'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t|| (\n\t\t\t\t\t\tthis.args.monthSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-month'\n\t\t\t\t\t\t\t|| butt == 'next-month'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\ttheUI.heading.innerHTML += this._arrowHtml(butt);\n\t\t\t\t}\n\t\t\t});\n\n\t\t//title\n\t\t\ttheUI.title = document.createElement('div');\n\t\t\ttheUI.heading.appendChild(theUI.title);\n\t\t\ttheUI.title.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-title ${UIPrefix(COMPONENT_CLASS)}-dropdown-toggle\n\t\t\t\t${UIDynamicClass}` //NEED THIS AT ALL TIMES IF U DONT WANNA DIE\n\t\t\t);\n\t\t\ttheUI.title.setAttribute('data-toggle-dropdown','');\n\t\t\ttheUI.title.innerHTML = `<span\n\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month-text\">\n\t\t\t\t\t${monthNamesShort[this._calendar.month]}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"${UIPrefix(COMPONENT_CLASS)}-year-text\">\n\t\t\t\t\t${this._calendar.year}\n\t\t\t\t</span>\n\t\t\t\t<i class=\"${UIPrefix(COMPONENT_CLASS)}-symbol symbol symbol-caret-down no-margin-x\"></i>`;\n\n\t\t//dropdown\n\t\t\tconst dropdown = document.createElement('ul');\n\t\t\ttheUI.heading.appendChild(dropdown);\n\t\t\tdropdown.setAttribute('data-dropdown-width', '100%');\n\t\t\tdropdown.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-dropdown dropdown dropdown-center-x dropdown-top-flush text-align-center`\n\t\t\t);\n\t\t\tdropdown.innerHTML += `<li \n\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-current-month-year active\"\n\t\t\t\t>\n\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month\"\n\t\t\t\t\t\tdata-value=\"${FwDate.toVal(this._calendar.startDate)}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${monthNamesShort[this._calendar.month]} ${this._calendar.year}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li><hr class=\"dropdown-separator\"></li>`;\n\n\t\t\ttheUI.dropdown = new Dropdown(dropdown,theUI.title);\n\n\t\t\tlet dropdownInit, dropdownLimit;\n\n\n\t\t\tif (this.args.yearSpan == 0) {\n\t\t\t\tdropdownInit =   this._calendar.startDate.getMonth() * -1;\n\t\t\t\tdropdownLimit = 11 - this._calendar.startDate.getMonth();\n\t\t\t} else {\n\t\t\t\tdropdownInit = parseInt(\n\t\t\t\t\t-12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t\tdropdownLimit = parseInt(\n\t\t\t\t\t12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//update dropdown\n\t\t\tfor (let i = dropdownInit; i <= dropdownLimit; i++) {\n\t\t\t\tconst listItemDate = FwDate.adjacentMonth(\n\t\t\t\t\tthis._calendar.startDate,\n\t\t\t\t\ti\n\t\t\t\t);\n\n\t\t\t\tconst dateForValidation = (() => {\n\t\t\t\t\tlet toReturn;\n\n\t\t\t\t\tif (i >= 0) {\n\t\t\t\t\t\t//first day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth(),\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//last day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth() + 1,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})();\n\n\n\n\t\t\t\tif (this.validates(dateForValidation, true)) {\n\t\t\t\t\t\n\t\t\t\t\tlet currClass = i == 0 ? 'active' : '',\n\t\t\t\t\t\tlistItem = `<li class=\"${currClass}\">\n\t\t\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month\"\n\t\t\t\t\t\t\t\tdata-value=\"${FwDate.toVal(listItemDate)}\">\n\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\tmonthNamesShort[\n\t\t\t\t\t\t\t\t\t\t\tlistItemDate.getMonth()\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t} ${listItemDate.getFullYear()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t${listItemDate.getMonth() == 11\n\t\t\t\t\t\t\t&& i !== dropdownLimit\n\t\t\t\t\t\t\t\t? `</li><li><hr class=\"dropdown-separator\">`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>`;\n\t\t\t\t\ttheUI.dropdown.element.innerHTML += listItem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t//generate grid\n\t\t\ttheUI.grid = document.createElement('div');\n\t\t\ttheUI.container.append(theUI.grid);\n\t\t\ttheUI.grid.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-grid`\n\t\t\t);\n\n\t\t//days heading\n\t\t\ttheUI.days = document.createElement('div');\n\t\t\ttheUI.grid.append(theUI.days);\n\t\t\ttheUI.days.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-days`\n\t\t\t);\n\n\t\t\tlet daysHTML = '',\n\t\t\t\tdayToRetrieve = parseInt(this.args.startDay);\n\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tif (dayToRetrieve > 6) {\n\t\t\t\t\tdayToRetrieve -= 7;\n\t\t\t\t}\n\n\t\t\t\tdaysHTML += `<div\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-block\n\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-day\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${dayNamesShorter[dayToRetrieve]}\n\t\t\t\t\t</div>`;\n\n\t\t\t\tdayToRetrieve++;\n\t\t\t}\n\n\t\t\ttheUI.days.innerHTML = daysHTML;\n\n\t\t//days\n\t\t\ttheUI.dates = document.createElement('div');\n\t\t\ttheUI.grid.append(theUI.dates);\n\t\t\ttheUI.dates.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-dates`\n\t\t\t);\n\n\t\t\t//previous month\n\t\t\t\tconst freeGridSpacePrev = \n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._calendar.startDate.getDay()\n\t\t\t\t\t\t\t- parseInt(this.args.startDay)\n\t\t\t\t\t\t\t+ 7\n\t\t\t\t\t\t) % 7,\n\t\t\t\t\tcalendarPrevDayStart =\n\t\t\t\t\t\tthis._calendar.prevDay == 6\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: this._calendar.prevDay + 1;\n\n\t\t\t\tif (calendarPrevDayStart !== parseInt(this.args.startDay)) {\n\t\t\t\t\t//if it doenst take its own row of shit\n\n\t\t\t\t\t// i = 0; i <= freeGridSpacePrev; i++\n\t\t\t\t\t// @TODO AAAAAAAAAAAA FIGURE OUT THE MATH\n\t\t\t\t\t// for( dayLoopI = this._calendar.prevDay; dayLoopI >= (parseInt(this.args.startDay)); dayLoopI--){\n\t\t\t\t\t// for(let i = 0; i < 7; i++){\n\t\t\t\t\tfor (let i = 0; i < freeGridSpacePrev; i++) {\n\t\t\t\t\t\tlet offset = this._calendar.prevDate.getDate() - i;\n\n\t\t\t\t\t\tlet loopDatePrev = new Date(\n\t\t\t\t\t\t\tthis._calendar.prevDate.getFullYear(),\n\t\t\t\t\t\t\tthis._calendar.prevDate.getMonth(),\n\t\t\t\t\t\t\toffset\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tlet dateBlockPrev = this._blockHtml(\n\t\t\t\t\t\t\tloopDatePrev,\n\t\t\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-block-adjacent\n\t\t\t\t\t\t\t${(!this.validates(loopDatePrev)\n\t\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//prepend because we loopped this bitch in reverse\n\t\t\t\t\t\ttheUI.dates.innerHTML += dateBlockPrev;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t//curr month\n\n\t\t\t\tfor (let i = 1; i <= this._calendar.lastDate.getDate(); i++) {\n\t\t\t\t\tlet dateBlockCurr = this._blockHtml(\n\t\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, i),\n\t\t\t\t\t\t!this.validates(new Date(this._calendar.year, this._calendar.month, i))\n\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUI.dates.innerHTML += dateBlockCurr;\n\t\t\t\t}\n\n\t\t\t//next month just fill the shit\n\t\t\tconst currNextFirstDay = new Date(\n\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t1\n\t\t\t\t).getDay(),\n\t\t\t\tfreeGridSpaceNext =\n\t\t\t\t\t(7 - currNextFirstDay + parseInt(this.args.startDay)) % 7;\n\n\t\t\tif (currNextFirstDay !== parseInt(this.args.startDay)) {\n\t\t\t\tfor (let i = 1; i <= freeGridSpaceNext; i++) {\n\t\t\t\t\tlet loopDateNext = new Date(\n\t\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t\ti\n\t\t\t\t\t);\n\n\t\t\t\t\tlet dateBlockNext = this._blockHtml(\n\t\t\t\t\t\tloopDateNext,\n\t\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-block-adjacent\n\t\t\t\t\t\t${(!this.validates(loopDateNext) ? 'disabled' : '')}`\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUI.dates.innerHTML += dateBlockNext;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_RENDER);\n\t}\n\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_INIT);\n\t\t\tFwEvent.trigger(element,EVENT_INIT);\n\n\n\t\tthis.update();\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_INIT);\n\t}\n\n\tstatic initAll(){\n\n\t\tconst calendars = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\t\n\t\tcalendars.forEach((cal) => {\n\t\t\tconst calendar = new Calendar(cal);\n\t\t\t\n\t\t\tcalendar.init();\n\t\t});\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst calendar = new Calendar(e.target);\n\t\t\tcalendar.update();\n\t\t}\n\t}\n\n\tstatic handleUpdateKeyup() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)){\n\t\t\t\te.preventDefault();\n\t\t\t}else{\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\n\t\t\t\tconst uiInput = e.target.value;\n\t\t\t\tif (uiInput.match(/^\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t} else if (uiInput.match(/^\\d{2}\\/\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t}\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.HumanDate.pattern\n\t\t\t\t);\n\t\n\t\t\t\tconst isValid = pattern.test(uiInput);\n\t\n\t\t\t\tif (calendar && isValid) {\n\t\t\t\t\tconst theValue = uiInput.split('/');\n\t\n\t\t\t\t\tconst y = theValue[2] || '';\n\t\t\t\t\tconst m = theValue[0] || '';\n\t\t\t\t\tconst d = theValue[1] || '';\n\t\n\t\t\t\t\tconst preParsedVal = `${y}-${m}-${d}`;\n\n\t\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tpreParsedVal\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleUpdateClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleRenderClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tCalendar.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYUP,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-input input`,\n\t\t\tCalendar.handleUpdateKeyup()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-date`,\n\t\t\tCalendar.handleUpdateClick()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-month, .${UIPrefix(COMPONENT_CLASS)}-year`,\n\t\t\tCalendar.handleRenderClick()\n\t\t);\n\t\tInitiator.Q.on_ready = Calendar.initAll;\n\n\t}\n\tstatic destroyListeners(){\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tCalendar.handleChange()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYUP,\n\t\t\tCalendar.handleUpdateKeyup()\n\t\t);\n\t\t\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tCalendar.handleUpdateClick()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tCalendar.handleRenderClick()\n\t\t);\n\t}\n}\n\nexport default Calendar;\n\nCalendar.initListeners();\n","const Modifiers =  {\n\tkeys: {\n\t\tctrl: false,\n\t\tshift: false,\n\t\talt: false,\n\t\tmeta: false,\n\t},\n\thasActive(key) {\n\t\tkey = key || false;\n\t\n\t\tif (key && this.keys.hasOwnProperty(key)) {\n\t\t\treturn this.keys[key];\n\t\t\t\n\t\t} else {\n\t\t\treturn (\n\t\t\t\tthis.keys.ctrl\n\t\t\t\t|| this.keys.shift\n\t\t\t\t|| this.keys.alt\n\t\t\t\t|| this.keys.meta\n\t\t\t);\n\t\t}\n\t},\n\tupdate(event){\n\t\tthis.keys.shift = event.shiftKey;\n\t\tthis.keys.ctrl = event.ctrlKey;\n\t\tthis.keys.alt = event.altKey;\n\t\tthis.keys.meta = event.metaKey;\n\t}\n\t\n}\n\n//key events\n\tdocument.addEventListener(\n\t\t'keydown',\n\t\t(e) => {\n\t\t\tModifiers.update(e);\n\t\t}\n\t);\n\n\tdocument.addEventListener(\n\t\t'keyup',\n\t\t(e) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tModifiers.update(e);\n\t\t\t}, 100);\n\t\t}\n\t);\n\nexport default Modifiers","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwArrayay extends FwDataHelper {\n\t\n\tstatic moveItem(arr, oi, ni){\n\n\t\twhile (oi < 0) {\n\t\t\toi += arr.length;\n\t\t}\n\n\t\twhile (ni < 0) {\n\t\t\tni += arr.length;\n\t\t}\n\n\t\tif (ni >= arr.length) {\n\t\t\tlet k = ni - arr.length;\n\t\t\twhile (k-- + 1) {\n\t\t\t\tarr.push(undefined);\n\t\t\t}\n\t\t}\n\n\t\tarr.splice(ni, 0, arr.splice(oi, 1)[0]);\n\n\t\treturn arr;\n\t}\n\n\tstatic reverse(arr) {\n\t\tlet newArray = [];\n\t\tfor (let i = arr.length - 1; i >= 0; i--) {\n\t\t\tnewArray.push(arr[i]);\n\t\t}\n\t\treturn newArray;\n\t}\n}\n\n\nexport default FwArrayay;","import Settings from './../core/settings.js';\nimport Initiator from './../core/initiator.js';\n\nimport Modifiers from './../util/modifiers.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwArray from './../data-helper/array.js';\nimport FwDom from './../data-helper/dom.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UIPrefix } from '../util/ui.js';\nimport Form from '../form.js';\n\nconst NAME = 'formTags';\nconst ARG_ATTRIBUTE_NAME = 'tags';\nconst COMPONENT_CLASS = `input-tags`;\nconst FOCUS_CLASS = `focus`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\nconst EVENT_PASTE = `paste${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nconst INPUT_STRING = `__fw_input__`;\n\nclass Tags extends FwComponent {\n\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUIValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UIValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tstatic get __is () {\n\t\treturn INPUT_STRING;\n\t}\n\n\tget theValue() {\n\t\treturn super.UIEl().value;;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\t\t\tsuper.UIEl().setAttribute('value', Tags.toVal(theValue,false));\n\t\t\tsuper.UIEl().value = Tags.toVal(theValue,false);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst renderTags = this.UIValue\n\t\t\t? this.UIValue\n\t\t: (super.UIEl().hasAttribute('data-value-ui'))\n\t\t\t? super.UIEl().getAttribute('data-value-ui')\n\t\t: this.theValue;\n\t\treturn renderTags;\n\t}\n\n\tset renderValue(renderTags) {\n\t\tthis.UIValue = Tags.toVal(renderTags);\n\t}\n\n\tget UIRoot () {\n\t\treturn super.UIEl().closest(`.${UIPrefix(COMPONENT_CLASS)}`);\n\t}\n\n\tget UIInput(){\n\t\treturn this.UIRoot && this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\t}\n\n\tget UIInputValue() {\n\t\treturn this.UIInput.innerText;\n\t}\n\n\tset UIInputValue(inputValue) {\n\t\tthis.UIInput.innerText = inputValue.toString().replace(\n\t\t\t/\\n|\\r/g,\n\t\t\t'\\\\n'\n\t\t);\n\t}\n\n\tget UIInputIdx() {\n\t\tlet toReturn = Tags.toArr(this.renderValue).indexOf(Tags.__is);\n\n\n\t\tif(toReturn < 0){\n\t\t\tTags.toArr(this.renderValue).length > 0\n\t\t\t? Tags.toArr(this.renderValue).length - 1\n\t\t\t: 0;\n\t\t}\n\n\t\treturn toReturn;\n\t\t\n\t\t// (\n\t\t// \tthis.UIInput\n\t\t// \t&& parseInt(this.UIInput.getAttribute('data-ui-i'))\n\t\t// )\n\t\t// || Tags.toArr(this.renderValue).indexOf(Tags.__is)\n\t\t// || Tags.toArr(this.theValue).length;\n\t}\n\n\n\t_scrollToUIInput(){\n\t\tif(this.args.multipleLines || !this.UIInput){\n\t\t\treturn\n\t\t}\n\n\t\tif(\n\t\t\t(this.UIRoot.scrollLeft > (this.UIInput.offsetLeft + this.UIInput.offsetWidth))\n\t\t\t|| ((this.UIRoot.scrollLeft + this.UIRoot.clientWidth) < (this.UIInput.offsetLeft + this.UIInput.offsetWidth))\n\t\t){\n\t\t\tFwDom.scrollToElem(this.UIRoot,this.UIInput,'x');\n\t\t\tFwDom.scrollToElem(this.UIRoot,this.UIInput,'y');\n\t\t}\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tfilter: null,\n\t\t\tonKeyUp: null,\n\t\t\tmultipleLines: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tonKeyUp:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-on-keyup`),\n\t\t\t\t\tfilter:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-filter`),\n\t\t\t\t\tmultipleLines:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-multiple-lines`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tTags.configDefaults\n\t\t);\n\t}\n\n\tstatic toArr (value,returnsWithInput) {\n\t\t\n\t\treturnsWithInput =\n\t\t\treturnsWithInput !== false || returnsWithInput == true;\n\t\n\t\tlet toReturn = Array.isArray(value)\n\t\t\t\t? value\n\t\t\t: typeof value == 'string'\n\t\t\t\t? value.split(',')\n\t\t\t: [];\n\t\n\t\t//remove duplicates\n\t\ttoReturn = toReturn.reduce((acc, tag) => {\n\t\t\tif (!acc.includes(tag)  && tag !== '') {\n\t\t\t\tacc.push(tag);\n\t\t\t}\n\t\n\t\t\treturn acc;\n\t\t}, []);\n\t\n\t\n\t\t//check for ya boi\n\t\ttoReturn.forEach((tag, i) => {\n\t\t\tif (\n\t\t\t\t(!tag || tag == '')\n\t\t\t\t|| (tag === Tags.__is && !returnsWithInput)\n\t\t\t) {\n\t\t\t\ttoReturn.splice(i, 1);\n\t\t\t}\n\t\t});\n\t\n\t\tif (returnsWithInput && toReturn.indexOf(Tags.__is) < 0) {\n\t\t\ttoReturn.push(Tags.__is);\n\t\t}\n\n\t\treturn toReturn;\n\t};\n\n\tstatic toVal (value,returnsWithInput){\n\t\treturn Tags.toArr(value, returnsWithInput).join(',');\n\t}\n\n\tfilterValue(custFn){\n\t\tlet fnToFilter,applyFilter;\n\n\t\ttry {\n\t\t\tfnToFilter = custFn || eval(this.args.filter);\n\t\t} catch (err) {}\n\n\t\tif (typeof fnToFilter === 'function') {\n\t\t\tapplyFilter = (valueToFilter, filterFnName) => {\n\t\t\t\tconst noInputValueToFilter = (() => {\n\t\t\t\t\t\t\treturn Tags.toVal(valueToFilter, false);\n\t\t\t\t\t\t})();\n\n\t\t\t\t// turn to array ya bopi without the input tag string\n\t\t\t\tlet toReturn = Tags.toArr(\n\t\t\t\t\teval(`${filterFnName}(\"${noInputValueToFilter}\")`),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\n\t\t\t\t// console.log(\n\t\t\t\t// \t'index of input\\n',inputIndex,\n\t\t\t\t// \t'\\n\\n\\nfiltered and ready for splice\\n',toReturn,\n\t\t\t\t// \t'\\n\\n\\npassed to the fil;ter\\n'Tags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\nrar array\\n'Tags.toArr(valueToFilter),\n\t\t\t\t// \t'\\n\\n\\n no input field\\n',noInputValueToFilter,Tags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n no input fieldas array\\n'Tags.toArr(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n string for eval\\n', ( filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'\\n\\n\\neval\\n',  eval(filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'whAT ETHE FUCK'\n\t\t\t\t// );\n\n\t\t\t\tif (this.UIInputIdx > -1) {\n\t\t\t\t\ttoReturn.splice(\n\t\t\t\t\t\tthis.UIInputIdx <\n\t\t\t\t\t\t\tTags.toArr(valueToFilter).length - 1\n\t\t\t\t\t\t\t? this.UIInputIdx\n\t\t\t\t\t\t\t: toReturn.length,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tTags.__is\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn Tags.toVal(toReturn);\n\t\t\t};\n\n\t\t\tthis.theValue = applyFilter(\n\t\t\t\tthis.theValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t\tthis.renderValue = applyFilter(\n\t\t\t\tthis.renderValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t}\n\t}\n\n\tupdate(newValue,allowFilter,valueToRender,inputText) {\n\t\tFwEvent.trigger(super.UIEl(),EVENT_BEFORE_UPDATE);\n\n\t\tlet theValue = newValue\n\t\t\t|| this.theValue\n\t\t\t|| '';\n\t\t\n\t\tlet uiValue = valueToRender\n\t\t\t|| theValue\n\t\t\t|| this.renderValue\n\t\t\t|| '';\n\n\t\tallowFilter = allowFilter != false || allowFilter == true;\n\n\t\tinputText = inputText || false;\n\n\n\t\tFwEvent.trigger(super.UIEl(),EVENT_UPDATE);\n\n\t\tthis.theValue = theValue;\n\t\tthis.renderValue = uiValue;\n\n\t\t\n\t\tif (this.args.filter && allowFilter) {\n\t\t\tthis.filterValue();\n\t\t}\n\n\t\tthis._renderUI();\n\n\t\tif(inputText){\n\t\t\tthis.UIInputValue = inputText;\n\t\t\tthis.focus();\n\t\t}\n\t\t\n\t\tFwEvent.trigger(super.UIEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t_renderUI(elem) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_RENDER);\n\n\t\tconst theUI = {};\n\n\n\t\tFwEvent.trigger(element,EVENT_RENDER);\n\t\t\n\t\ttheUI.container = this.UIRoot;\n\t\tif (!theUI.container) {\n\t\t\ttheUI.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUI.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUI.container.appendChild(element);\n\t\t\ttheUI.container.classList.add('input');\n\t\t\ttheUI.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${Settings.get('uiClass')}\n\t\t\t\t${Settings.get('uiJsClass')}\n\t\t\t\t${\n\t\t\t\t\telement\n\t\t\t\t\t.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUIPrefix(COMPONENT_CLASS)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\n\t\t\ttheUI.container.classList.add(\n\t\t\t\tthis.args.multipleLines\n\t\t\t\t\t? `${UIPrefix(COMPONENT_CLASS)}-multiple`\n\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-single`\n\t\t\t);\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\ttheUI.container.style = this.args.width;\n\t\t}\n\t\t//idk it never exists on initial so we dont have to do weird div wraping catches here\n\n\t\ttheUI.wrapper = theUI.container.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-wrapper`);\n\n\t\tif (!theUI.wrapper) {\n\t\t\ttheUI.wrapper = document.createElement('div');\n\t\t\ttheUI.container.appendChild(theUI.wrapper);\n\t\t\ttheUI.wrapper.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-wrapper`\n\t\t\t);\n\t\t\ttheUI.wrapper = theUI.container.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-wrapper`);\n\t\t}\n\n\t\ttheUI.input = this.UIInput;\n\n\n\t\tif (!theUI.input) {\n\t\t\ttheUI.input = document.createElement('span');\n\t\t\ttheUI.wrapper.appendChild(theUI.input);\n\t\t\ttheUI.input.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-input`\n\t\t\t);\n\t\t\ttheUI.input.contentEditable = true;\n\t\t\ttheUI.input = theUI.wrapper.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\n\t\t\tif(element.hasAttribute('placeholder')){\n\t\t\t\ttheUI.input.setAttribute(\n\t\t\t\t\t'data-placeholder',\n\t\t\t\t\telement.getAttribute('placeholder')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//nearest fw-ui parent will actually do tgoggl for bby because baby cant stand up on its own\n\t\t\tif (element.hasAttribute('data-toggle')) {\n\t\t\t\ttheUI.input.setAttribute(\n\t\t\t\t\t'data-toggle',\n\t\t\t\t\telement.getAttribute('data-toggle')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (FwComponent.isDisabled(element)) {\n\t\t\t\ttheUI.input.classList.add('disabled');\n\t\t\t}\n\n\t\t\t//bitch\n\t\t\tif (this.args.onKeyUp) {\n\t\t\t\ttheUI.input.addEventListener('keyup', (event)=>{\n\t\t\t\t\tconst keyUpScript = eval(this.args.onKeyUp);\n\t\t\t\t\tif(keyUpScript){\n\t\t\t\t\t\treturn keyUpScript;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//updoot tags\n\t\tconst oldTags = theUI.wrapper.querySelectorAll(`.${UIPrefix(COMPONENT_CLASS)}-tag`);\n\n\t\toldTags.forEach((tag) => {\n\t\t\ttag.parentNode.removeChild(tag);\n\t\t});\n\n\n\t\tlet valArr = Tags.toArr(this.renderValue, true);\n\n\t\ttheUI.input.setAttribute(\n\t\t\t'data-ui-i',\n\t\t\tthis.UIInputIdx\n\t\t);\n\n\t\t//validate tags\n\t\t// valArr = valArr.reduce((acc, tag) => {\n\t\t// \tif (!acc.includes(tag)) {\n\t\t// \t\tacc.push(tag);\n\t\t// \t}\n\t\t// \treturn acc;\n\t\t// }, []);\n\n\t\tvalArr.forEach((tag, i) => {\n\t\t\t//get index of input\n\t\t\tif (tag !== Tags.__is) {\n\t\t\t\tconst tagHtml = document.createElement('span');\n\n\t\t\t\tif(i < this.UIInputIdx){\n\t\t\t\t\ttheUI.input.insertAdjacentElement(\n\t\t\t\t\t\t'beforebegin',\n\t\t\t\t\t\ttagHtml\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\ttheUI.wrapper.appendChild(tagHtml);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\ttagHtml.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-tag`\n\t\t\t\t);\n\n\t\t\t\ttagHtml.innerHTML = `<button\n\t\t\t\t\t\tdata-ui-i=\"${i}\"\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-tag-text ${UIPrefix(COMPONENT_CLASS)}-tag-button\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${tag}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button data-ui-i=\"${i}\" class=\"${UIPrefix(COMPONENT_CLASS)}-tag-close ${UIPrefix(COMPONENT_CLASS)}-tag-button\" type=\"button\">\n\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t</button>`;\n\t\t\t}\n\t\t});\n\n\t\t//attribues\n\t\tfor (let i = 0; i < element.attributes.length; i++) {\n\t\t\tlet attr = element.attributes[i];\n\n\t\t\tif (attr.specified) {\n\t\t\t\tif (\n\t\t\t\t\tattr.name.includes('data')\n\t\t\t\t\t&& !attr.name.includes('data-tags')\n\t\t\t\t\t&& !attr.name.includes('data-toggle')\n\t\t\t\t\t&& !attr.name.includes('data-value-ui')\n\t\t\t\t) {\n\t\t\t\t\ttheUI.container.setAttribute(attr.name, attr.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\telement.setAttribute('data-value-ui', this.renderValue);\n\n\t\t//keep that shoit bisibol\n\t\tthis._scrollToUIInput();\n\t\tFwEvent.trigger(element,EVENT_AFTER_RENDER);\n\t}\n\n\tfocus(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('poku','naAAANDATAAAOOOO');\n\t\t\tself.UIInput.focus();\n\t\t}, 0);\n\t\tself.UIRoot.classList.add(FOCUS_CLASS);\n\t\tself._scrollToUIInput();\n\t}\n\n\tblur(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('bru','naAAANDATAAAOOOO');\n\t\t\tself.UIInput.blur();\n\t\t}, 0);\n\t\tself.UIRoot.classList.remove(FOCUS_CLASS);\n\t}\n\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tthis.update();\n\t}\n\n\tstatic initAll(){\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\tconst tagsInputs = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\t\n\t\ttagsInputs.forEach((poot) => {\n\t\t\tconst tagsInput = new Tags(poot);\n\t\t\t\n\t\t\ttagsInput.init();\n\t\t});\n\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst tagsInput = new Tags(e.target);\n\t\t\ttagsInput.update();\n\t\t}\n\t}\n\n\tstatic handleEditablePaste() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst pasted =\n\t\t\t\t\te.clipboardData\n\t\t\t\t\t|| window.clipboardData\n\t\t\t\t\t|| e.originalEvent.clipboardData;\n\t\t\t\t\n\t\t\t\ttagsInput.UIInputValue += pasted.getData('text');\n\n\t\t\t\ttagsInput.blur();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableFocus() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target);\n\t\t\t\ttagsInput.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableBlur() {\n\t\treturn (e) => {\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\t\t//value para mareset ta kung hain si buloy\n\t\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue);\n\t\n\t\t\t\tif(\n\t\t\t\t\ttagsInput.UIInputValue\n\t\t\t\t){\n\t\t\t\t\tcurrValue.splice(\n\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttagsInput.UIInputValue.replace(',', '')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\n\t\t\t\ttagsInput.UIInputValue = '';\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tTags.toVal(currValue,false),\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\n\t\t\t\ttagsInput.blur(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableKeydown() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\n\t\t\t} else {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\tlet currUIValue = Tags.toArr(tagsInput.renderValue),\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter = false;\n\n\t\t\t\tswitch (e.key) {\n\t\t\t\t\t//enter\n\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\ttagsInput.blur();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//comma\n\t\t\t\t\tcase ',':\n\t\t\t\t\t\tif (!Modifiers.hasActive()) {\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\ttagsInput.UIInputValue.replace(',', '')\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\ttagsInput.UIInputValue = '';\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// currUIValue.splice()\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//left\n\t\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx > 0\n\t\t\t\t\t\t\t\t? tagsInput.UIInputIdx - 1\n\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//right\n\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx < currUIValue.length\n\t\t\t\t\t\t\t\t\t? tagsInput.UIInputIdx + 1\n\t\t\t\t\t\t\t\t\t: currUIValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUIInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//up\n\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//down\n\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\tcurrUIValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUIInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//backspace\n\t\t\t\t\tcase 'Backspace':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx - 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//delete\n\t\t\t\t\tcase 'Delete':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx + 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\n\t\t\t\tnewValue = Tags.toVal(currUIValue);\n\t\t\t\t// tagsInput._scrollToUIInput();\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleDelete() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToRemove = parseInt(e.target.getAttribute(\n\t\t\t\t\t\t'data-ui-i'\n\t\t\t\t\t));\n\n\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\tparseInt(tagToRemove),\n\t\t\t\t\t1\n\t\t\t\t);\n\t\n\t\t\t\tconst newValue = Tags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleEdit() {\n\t\treturn (e) => {\n\t\t\tconst triggerer = e.target;\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(triggerer)) {\n\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToEdit = parseInt(e.target.getAttribute(\n\t\t\t\t\t'data-ui-i'\n\t\t\t\t));\n\n\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue,false);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\ttagToEdit,\n\t\t\t\t\t1,\n\t\t\t\t\tTags.__is\n\t\t\t\t);\n\t\n\t\t\t\tconst newUIValue = Tags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnull,\n\t\t\t\t\tfalse,\n\t\t\t\t\tnewUIValue,\n\t\t\t\t\te.target.innerText\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tTags.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_PASTE,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditablePaste()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableFocus()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableBlur()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYDOWN,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableKeydown()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-tag-close`,\n\t\t\tTags.handleDelete()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-tag-text`,\n\t\t\tTags.handleEdit()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Tags.initAll;\n\t\tInitiator.Q.on_resize = Tags.initAll;\n\n\t}\n\tstatic destroyListeners(){\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tTags.handleChange()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_PASTE,\n\t\t\tTags.handleEditablePaste()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tTags.handleEditableFocus()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\tTags.handleEditableBlur()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYDOWN,\n\t\t\tTags.handleEditableKeydown()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tTags.handleDelete()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tTags.handleEdit()\n\t\t);\n\t}\n}\n\nexport default Tags;\n\nTags.initListeners();","import Calendar from './form/form-calendar.js';\nimport Tags from './form/form-tags.js';\n\nconst Form = { \n\tCalendar,\n\tTags\n}\n\nexport default Form;","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UITriggerer } from './util/ui.js';\n\nconst NAME = 'lazy';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CLASS_SVG = `${COMPONENT_CLASS}-svg`;\nconst ACTIVATED_CLASS = `${NAME}-loaded`;\nconst SVG_REPLACED_CLASS = `${COMPONENT_CLASS}-svg-replacement`;\nconst COMPONENT_SELECTOR = `*[data-src],*[data-srcset],.${COMPONENT_CLASS}`;\n\nconst BODY_LOADING_CLASS = `body-${NAME}-loading`;\nconst BODY_LOADED_CLASS = `body-${NAME}-loaded`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_SVGCONVERSION = `before_svgconversion${EVENT_KEY}`;\n\tconst EVENT_SVGCONVERSION = `svgconversion${EVENT_KEY}`;\n\tconst EVENT_AFTER_SVGCONVERSION = `after_svgconversion${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_LOAD = `before_load${EVENT_KEY}`;\n\tconst EVENT_LOAD = `load${EVENT_KEY}`;\n\tconst EVENT_AFTER_LOAD = `after_load${EVENT_KEY}`;\n\nclass Lazy extends FwComponent {\n\n\tconstructor(element){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_ogElement:false \n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget theSrc(){\n\t\treturn super.UIEl().getAttribute('data-src');\n\t}\n\n\tget theSrcSet(){\n\t\treturn super.UIEl().getAttribute('data-srcset');\n\t}\n\n\tget UIOriginal() {\n\t\treturn this._ogElement || super.UIEl();\n\t}\n\n\tset UIOriginal(elem){\n\t\tthis._ogElement = elem;\n\t}\n\n\treadyLoaded(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\telement.classList.add(`${ACTIVATED_CLASS}`);\n\t}\n\n\tloadSVG(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_SVGCONVERSION);\n\n\t\tconst imgID = element.getAttribute('id');\n\t\tconst imgClass = element.getAttribute('class');\n\n\t\tfetch(this.theSrc)\n\t\t\t.then((response) => response.text())\n\t\t\t.then((markup) => {\n\t\t\t\tFwEvent.trigger(element,EVENT_SVGCONVERSION);\n\t\t\t\tconst parser = new DOMParser();\n\t\t\t\tconst dom = parser.parseFromString(markup, 'text/html');\n\t\t\t\t\n\t\t\t\tconst svg = dom.querySelector('svg');\n\n\t\t\t\tif (svg) {\n\t\t\t\t\tif (element.hasAttribute('id')) {\n\t\t\t\t\t\tsvg.setAttribute('id', imgID);\n\t\t\t\t\t}\n\t\t\t\t\tif (element.hasAttribute('class')) {\n\t\t\t\t\t\tsvg.setAttribute(\n\t\t\t\t\t\t\t'class',\n\t\t\t\t\t\t\t`${imgClass} ${SVG_REPLACED_CLASS}`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsvg.removeAttribute('xmlns:a');\n\t\t\t\t\tthis.UIOriginal = element;\n\t\t\t\t\tsuper._resetUIEl(svg);\n\t\t\t\t\telement.replaceWith(svg);\n\t\t\t\t}\n\t\t\t\tthis.readyLoaded();\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_SVGCONVERSION);\n\t\t\t});\n\t}\n\n\tload(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_LOAD);\n\n\n\t\t\tif(element.classList.contains(`${COMPONENT_CLASS}`)){\n\t\t\t\tFwEvent.trigger(element,EVENT_LOAD);\n\t\t\t\tif (element.matches('img') || element.closest('picture')) {\n\t\t\t\t\t\n\t\t\t\t\tthis.theSrc && element.setAttribute('src', this.theSrc);\n\t\t\t\t\tthis.theSrcSet && element.setAttribute('srcset', this.theSrcSet);\n\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.theSrc\n\t\t\t\t\t\t\t|| this.theSrcSet\n\t\t\t\t\t\t)\n\t\t\t\t\t\t&& FwString.GetFileExtension(this.theSrc) == 'svg'\n\t\t\t\t\t\t&& element.classList.contains(COMPONENT_CLASS_SVG)\n\t\t\t\t\t){\n\t\t\t\t\t\tthis.loadSVG();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.readyLoaded();\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\telement.style.backgroundImage = `url(${this.theSrc})`;\n\t\t\t\t\tthis.readyLoaded();\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_LOAD);\n\t\t\t}\n\n\t}\n\n\tstatic setStatus(status) {\n\t\tstatus = status || 'loaded';\n\n\t\tlet addClass,removeClass;\n\n\t\tswitch(status){\n\t\t\tcase 'loading':\n\t\t\t\taddClass = BODY_LOADING_CLASS;\n\t\t\t\tremoveClass = BODY_LOADED_CLASS;\n\t\t\t\tbreak;\n\t\t\tcase 'loaded':\n\t\t\t\taddClass = BODY_LOADED_CLASS;\n\t\t\t\tremoveClass = BODY_LOADING_CLASS;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tdocument.body.\n\t\t\tclassList.remove(removeClass);\n\t\tdocument.body.\n\t\t\tclassList.add(addClass);\n\t}\n\n\tstatic loadAll(images){\n\t\t\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\t\t\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\tLazy.setStatus('loading');\n\t\timages = images || document.querySelectorAll(COMPONENT_SELECTOR);\n\n\t\timages.forEach((img) => {\n\t\t\tconst lazy = new Lazy(img);\n\t\t\tlazy.load();\n\t\t});\n\t\n\t\tLazy.setStatus('loaded');\n\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\t\n\n\tstatic initListeners(){\n\t\tif(Settings.get('lazyLoad') ){\n\t\t\tInitiator.Q.on_ready = Lazy.loadAll;\n\t\t}\n\t}\n}\n\n\nexport default Lazy;\n\nLazy.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'listGroup';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}-toggle`; //coz toggling shit only work when this class is heeerr\n\nconst CHILD_CLASS = `${FwString.ToDashed(NAME)}-item`;\nconst COMPONENT_TOGGLEGROUP_PREFIX = `list`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass ListGroup extends FwComponent {\n\n\tconstructor(element,triggeredChild){\n\t\telement = element || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_triggeredChild:(\n\t\t\t\t\ttriggeredChild\n\t\t\t\t\t\t? new FwDom(triggeredChild)\n\t\t\t\t\t: false\n\t\t\t\t)\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UITriggeredChild(){\n\t\treturn this._triggeredChild\n\t}\n\t\n\tset UITriggeredChild(triggd){\n\t\tif(FwDom.isDescendant(super.UIEl(),triggd)){\n\t\t\tthis._triggeredChild = triggd;\n\t\t}\n\t}\n\n\ttoggle(triggd){\n\t\tconst triggeredChild = triggd ?\n\t\t\ttriggd\n\t\t\t: this.UITriggeredChild;\n\n\t\tthis.UITriggeredChild = triggeredChild;\n\n\t\tif(!triggeredChild || !FwDom.isDescendant(super.UIEl(),triggeredChild)){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_TOGGLE);\n\t\tUIToggleGroup(\n\t\t\tthis.UITriggeredChild,\n\t\t\t`${COMPONENT_TOGGLEGROUP_PREFIX}`,\n\t\t\tnull,\n\t\t\t`li, .${CHILD_CLASS}`\n\t\t);\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst listGroup = new ListGroup(\n\t\t\t\t\te.target.parentNode.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t);\n\t\t\t\tlistGroup.toggle(e.target);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS} > .${CHILD_CLASS}, .${COMPONENT_CLASS} > li`,\t\n\t\t\tListGroup.handleToggle()\n\t\t);\n\t}\n\n\tstatic destroyListeners(){\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tListGroup.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default ListGroup;\n\nListGroup.initListeners();\n","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIPrefix,UIToggled,UIBodyClass,UIChangeHash } from './util/ui.js';\n\nconst NAME = 'modal';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `active`;\n\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE_PREFIX = `${NAME}`;\n\nconst DEFAULT_NAME = `default`;\nconst BOARD_NAME = `board`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_HASHCHANGE = `hashchange${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DESTROY = `before_destroy${EVENT_KEY}`;\n\tconst EVENT_DESTROY = `destroy${EVENT_KEY}`;\n\tconst EVENT_AFTER_DESTROY = `after_destroy${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RESIZE = `before_resize${EVENT_KEY}`;\n\tconst EVENT_RESIZE = `resize${EVENT_KEY}`;\n\tconst EVENT_AFTER_RESIZE = `after_resize${EVENT_KEY}`;\n\n\nconst CURRENT_MODAL_INSTANCE = {}\n\nconst VALID_MODAL_MODES = [\n\tBOARD_NAME,\n\tDEFAULT_NAME // default's just named after the component istels fo im not confusion also make it last\n];\n\n\nVALID_MODAL_MODES.forEach(mode=>{\n\tCURRENT_MODAL_INSTANCE[mode] = {\n\t\telement:false,\n\t\targs:false\n\t};\n})\n\nclass Modal extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\t//4 on init by hash\n\n\n\t\telement = element || false;\n\t\targs = args || false;\n\n\t\t//get currMode\n\t\tlet currMode = false;\n\n\t\t//look by triggerer first\n\t\tif(triggerer && !element){\n\t\t\t//look for subcom\n\t\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttriggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}`)\n\t\t\t\t\t\t|| triggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}-open`)\n\t\t\t\t\t\t|| triggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}-close`)\n\t\t\t\t\t)\n\t\t\t\t\t&& !currMode\n\t\t\t\t){\n\t\t\t\t\tcurrMode = mode;\n\t\t\t\t}\n\t\t\t});\n\t\t}else if(element){\n\t\t\t//look for subcom\n\t\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\t\tif(element.classList.contains(`${COMPONENT_CLASS}-${mode}`) && !currMode){\n\t\t\t\t\tcurrMode = mode;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//ok default probable\n\t\t\tif(element.classList.contains(COMPONENT_CLASS) && !currMode){\n\t\t\t\tcurrMode = DEFAULT_NAME;\n\t\t\t}\n\t\t}\n\n\t\t//kill if not a valid bode boi\n\t\tif(!currMode){\n\t\t\telement = false;\n\t\t}else{\n\t\t\tif(currMode && !element){\n\t\t\t\telement = Modal.current(currMode).element;\n\t\t\t}\n\t\t}\n\n\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer: triggerer,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false,\n\t\t\t\t_mode: currMode,\n\t\t\t}\n\t\t);\n\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic current(mode) {\n\t\treturn mode ? CURRENT_MODAL_INSTANCE[mode] : CURRENT_MODAL_INSTANCE;\n\t}\n\n\tget #current(){\n\t\treturn CURRENT_MODAL_INSTANCE[this.mode];\n\t}\n\n\tset #current(obj){\n\t\tCURRENT_MODAL_INSTANCE[this.mode].element = obj.element;\n\t\tCURRENT_MODAL_INSTANCE[this.mode].args = obj.args;\n\t}\n\n\tget mode(){\n\t\treturn this._mode;\n\n\t}\n\n\tget UIId (){\n\t\treturn `${Settings.get('prefix')}-${NAME}-${this.mode}`\n\t}\n\n\tget UIContentBlock() {\n\t\treturn this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup-content`)\n\t}\n\n\tget UIRoot () {\n\t\treturn document.getElementById(this.UIId);\n\t}\n\tget UIElId (){\n\t\treturn super.UIEl().getAttribute('id');\n\t}\n\n\tstatic #modeToggle(mode){\n\t\treturn FwString.ToDashed(`${TOGGLE_MODE_PREFIX}-${mode}`);\n\t}\n\n\tget modeToggle(){\n\t\treturn Modal.#modeToggle(this.mode);\n\t}\n\n\tstatic #modeClass(mode){\n\t\treturn FwString.ToDashed(`${TOGGLE_MODE_PREFIX}-${mode}`);\n\t}\n\n\tget modeClass(){\n\t\treturn Modal.#modeClass(this.mode);\n\t}\n\n\tstatic get configDefaults(){\n\t\tconst mode = this.mode;\n\t\treturn {\n\t\t\t\n\t\t\tchangeHash: true,\n\t\t\ttitle: '',\n\t\t\tclose: true,\n\t\t\tdisableOverlay: true,\n\t\t\twidth: null,\n\t\t\tcallback: null,\n\t\t\tclasses: '',\n\t\t\tcloseClasses: '',\n\t\t\t\n\t\t\t\n\t\t\talign: {\n\t\t\t\tvalue:'left',\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tresizeClasses: {\n\t\t\t\tvalue:null,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tresize: {\n\t\t\t\tvalue:false,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`),\n\t\t\t\t\ttitle:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-title`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-title`),\n\t\t\t\t\tdisableOverlay:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disable-overlay`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disable-overlay`),\n\t\t\t\t\twidth:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tcallback:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`),\n\t\t\t\t\tclasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-classes`),\n\t\t\t\t\tclose:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close`),\n\t\t\t\t\tcloseClasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close-classes`),\n\t\t\t\t\tfullscreen: //@TODO program this pityur\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen`),\n\t\t\t\t\tfullscreenClasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen-classes`),\n\n\t\t\t\t\t//board specific\n\t\t\t\t\t\talign:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-align`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-align`),\n\t\t\t\t\t\tresize:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize`),\n\t\t\t\t\t\t\n\t\t\t\t\t\tresizeClasses:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize-classes`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize-classes`),\n\n\t\t\t\t\t//custom specific\n\t\t\t\t\t\t// customMarkup: //halat weit\n\t\t\t\t}\n\t\t\t),\n\t\t\tModal.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tcreate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\t\t\n\t\tif(element || !window.location.hash){\n\t\t\tthis.destroy();\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\n\t\tconst id = this.UIElId || this.UIId;\n\n\t\tid !== `${this.UIId}` && this.args.changeHash && UIChangeHash(id);\n\n\n\t\tconst theUI = document.createElement('div');\n\t\tdocument.querySelector('body').appendChild(theUI);\n\t\ttheUI.className = `${UIPrefix(COMPONENT_CLASS)}  ${UIPrefix(COMPONENT_CLASS)}-mode-${this.mode} ${UIPrefix(COMPONENT_CLASS)}-component\n\t\t\t${this.args.align ? `${UIPrefix(COMPONENT_CLASS)}-align-${this.args.align}` : ''}\n\t\t\t${this.args.classes}`;\n\t\ttheUI.setAttribute('id', this.UIId);\n\n\t\ttheUI.innerHTML = this._markup;\n\n\n\t\tFwDom.moveContents(\n\t\t\telement,\n\t\t\tthis.UIContentBlock\n\t\t);\n\n\t\tthis.#current = {\n\t\t\telement: element,\n\t\t\targs: this.args\n\t\t\t\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\tthis.resize();\n\t\t}\n\n\t\tthis.update();\n\t\t\n\t\tif (this.args.callback) {\n\t\t\tthis._runFn(this.args.callback);\n\t\t}\n\n\t\ttheUI.classList.add(ACTIVATED_CLASS);\n\t\tdocument.body.classList.add(UIBodyClass.noScroll);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t}\n\n\tdestroy(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.#current.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_DESTROY);\n\t\tFwEvent.trigger(element,EVENT_DESTROY);\n\t\t// removeHash = removeHash || false;\n\n\t\tlet canRemoveHash = false;\n\t\n\t\tif (\n\t\t\telement.hasAttribute('id')\n\t\t\t&& element.getAttribute('id') == window.location.hash.replace('#','')\n\t\t) {\n\t\t\tcanRemoveHash = true;\n\t\t}\n\t\n\t\tif (this.UIRoot) {\n\t\t\tFwDom.moveContents(\n\t\t\t\tthis.UIContentBlock,\n\t\t\t\telement\n\t\t\t);\n\t\n\t\t\tthis.UIRoot.classList.remove('active');\n\t\t\tthis.UIRoot.parentNode.removeChild(this.UIRoot);\n\t\t}\n\t\n\t\t\n\t\n\t\tlet removeBodClass = true;\n\t\tif(\n\t\t\tdocument.getElementById(this.UIId)\n\t\t\t&& removeBodClass == true\n\t\t){\n\t\t\tremoveBodClass = false;\n\t\t}\n\t\n\t\tif(removeBodClass){\n\t\t\tdocument.body.classList.remove(UIBodyClass.noScroll)\n\t\t};\n\t\n\t\tcanRemoveHash && UIChangeHash('');\n\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_DESTROY);\n\n\t\tthis.#current = {\n\t\t\telement: false,\n\t\t\targs: false\n\t\t}\n\t}\n\n\tupdate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.#current.element;\n\t\n\t\tif(!element) {\n\t\t\treturn\n\t\t}\n\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_UPDATE);\n\t\tFwEvent.trigger(element,EVENT_UPDATE);\n\n\t\t// buttons\n\t\t\t// resize\n\t\t\t\tconst currentWidth = this.UIRoot\n\t\t\t\t\t.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`).clientWidth;\n\t\t\t\t\t\n\t\t\t\tconst resizeBtn = this.UIRoot\n\t\t\t\t\t.querySelectorAll(`*[data-toggle-${this.modeToggle}-resize]`);\n\n\t\t\t\tif(resizeBtn && currentWidth < parseInt(this.args.width)){\n\t\t\t\t\tresizeBtn.forEach((butt) => {\n\t\t\t\t\t\tbutt.classList.add('disabled');\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tresizeBtn.forEach((butt) => {\n\t\t\t\t\t\tbutt.classList.remove('disabled');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_UPDATE);\n\t}\n\n\tresize(width){\n\n\t\n\t\tif(!this.#current) {\n\t\t\treturn\n\t\t}\n\n\t\tconst args = args || this.args || this.#current.args || {};\n\t\twidth = width || args.width || null;\n\n\t\tif(this.UIRoot && parseInt(width) >= parseInt(args.width)){\n\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_BEFORE_RESIZE);\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_RESIZE);\n\n\t\t\t//all\n\t\t\tif(this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`)){\n\t\t\t\tthis.UIRoot.\n\t\t\t\t\tquerySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`)\n\t\t\t\t\t\t.style.width = width;\n\t\t\t}\n\n\t\t\t//bboard\n\t\t\tif(this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-button-wrapper`)){\n\t\t\t\tthis.UIRoot.\n\t\t\t\t\tquerySelector(`.${UIPrefix(COMPONENT_CLASS)}-button-wrapper`)\n\t\t\t\t\t\t.style.width = width;\n\t\t\t}\n\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_AFTER_RESIZE);\n\t\t}\n\t}\n\t\n\tget _markup(){\n\t\tthis.triggerer && console.warn(this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-title`));\n\t\t\n\t\tlet html =\n\t\t\t`<div\n\t\t\t\tclass=\"\n\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-wrapper\"\n\t\t\t>`;\n\t\n\t\t\t\t//overlay\n\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-close-overlay\"\n\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\tthis.args.disableOverlay == false\n\t\t\t\t\t\t\t\t? `data-toggle-${this.modeToggle}-close`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t></a>`;\n\t\n\t\t\t\t\tswitch (this.mode) {\n\t\t\t\t\t\tcase 'board':\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-button-wrapper\">`;\n\t\t\t\t\t\t\t\tif (this.args.close !== false) {\n\t\t\t\t\t\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-close ${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.args.closeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t? this.args.closeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-button-default`}\"\n\t\t\t\t\t\t\t\t\t\tdata-toggle-${ this.modeToggle }-close\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-close \"></i>\n\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (this.args.resize !== false && this.args.width) {\n\t\t\t\t\t\t\t\t\thtml += `<a\n\t\t\t\t\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-resize ${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.args.resizeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t? this.args.resizeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-button-default`}\"\n\t\t\t\t\t\t\t\t\t\tdata-toggle-${this.modeToggle}-resize\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-arrow-tail-left \"></i>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-arrow-tail-right \"></i>\n\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup\">`;\n\t\n\t\t\t\t\t\t\t\tif (this.args.title) {\n\t\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-header\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class=\"${UIPrefix(COMPONENT_CLASS)}-title\">${decodeURIComponent(this.args.title)}</h1>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup-content\"></div>`;\n\t\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup\">`;\n\t\n\t\t\t\t\t\t\t\tif (this.args.title) {\n\t\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-header\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class=\"${UIPrefix(COMPONENT_CLASS)}-title\">${decodeURIComponent(this.args.title)}</h1>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tif (this.args.close !== false) {\n\t\t\t\t\t\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-close ${this.args.closeClasses}\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle-${this.modeToggle}-close\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup-content\"></div>`;\n\t\t\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\thtml += '</div>';\n\n\t\treturn html;\n\n\t}\n\t\n\n\tstatic handleResize(mode) {\n\t\treturn (e) => {\n\t\t\tVALID_MODAL_MODES.forEach(mode=>{\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tModal.current(mode).element,\n\t\t\t\t\tnull,\n\t\t\t\t\tModal.current(mode).args\n\t\t\t\t);\n\t\t\t\tmodal.resize();\n\t\t\t\tmodal.update();\n\t\t\t});\t\n\t\t}\n\t\t\n\t}\n\t\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\t\t\tif(Settings.get('initializeModal')){\n\n\t\t\t\tVALID_MODAL_MODES.forEach(mode=>{\n\t\t\t\t\tconst modal = new Modal(\n\t\t\t\t\t\tUIToggled(\n\t\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tmodal.create();\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t\t\n\t}\n\t\n\n\tstatic handleOpen(mode) {\n\t\treturn (e) => {\n\n\t\t\te.preventDefault();\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\te.target,\n\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t),\n\t\t\t\t\te.target,\n\t\t\t\t);\n\t\t\t\tmodal.create();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleClose(mode) {\n\t\treturn (e) => {\n\n\t\t\te.preventDefault();\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\te.target,\n\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t),\n\t\t\t\t\te.target,\n\t\t\t\t);\n\t\t\t\tmodal.destroy();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\tconst modeToggle = Modal.#modeToggle(mode);\n\t\t\n\t\t\tFwEvent.addListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\t`*[data-toggle-${modeToggle}], *[data-toggle-${modeToggle}-open]`,\n\t\t\t\tModal.handleOpen(mode)\n\t\t\t);\n\t\t\t\n\t\t\tFwEvent.addListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\t`*[data-toggle-${modeToggle}-close]`,\n\t\t\t\tModal.handleClose(mode)\n\t\t\t);\n\t\t});\n\t\t\n\n\t\tFwEvent.addListener(\n\t\t\tnull,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\twindow,\n\t\t\tModal.handleUniversal()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Modal.handleUniversal();\n\t\tInitiator.Q.on_resize = Modal.handleResize();\n\n\t}\n\tstatic destroyListeners(){\n\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\tconst modeToggle = Modal.#modeToggle(mode);\n\t\t\n\t\t\tFwEvent.removeListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\tModal.handleOpen(mode)\n\t\t\t);\n\t\t\t\n\t\t\tFwEvent.removeListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\tModal.handleClose(mode)\n\t\t\t);\n\t\t});\n\t\t\n\n\t\tFwEvent.removeListener(\n\t\t\twindow,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\tModal.handleUniversal()\n\t\t);\n\t}\n}\n\nexport default Modal;\n\nModal.initListeners();","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\nimport FwArray from './data-helper/array.js';\n\nimport FwComponent from './classes/component.js';\nimport { BrTag,ValidateBr } from './util/breakpoint.js';\n\n\nconst NAME = 'moduleGrid';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CHILDREN_CLASS = `module`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER_GRID = `before_render_grid${EVENT_KEY}`;\n\tconst EVENT_RENDER_GRID = `render_grid${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER_GRID = `after_render_grid${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER_BLOCK = `before_render_block${EVENT_KEY}`;\n\tconst EVENT_RENDER_BLOCK = `render_block${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER_BLOCK = `after_render_block${EVENT_KEY}`;\n\n\nconst PROPERTIES_WRAPPER = [\n\t\t'grid-template-columns',\n\t\t'grid-template-rows',\n\t\t'grid-template-areas',\n\t\t'grid-column-start',\n\t\t'grid-template-end',\n\t\t'grid-template',\n\t\t'grid-column-gap',\n\t\t'grid-row-gap',\n\t\t'justify-items',\n\t\t'align-items',\n\t\t'justify-content',\n\t\t'align-content',\n\t\t'place-content',\n\t\t'grid-auto-columns',\n\t\t'grid-auto-rows',\n\t\t'grid-auto-flow',\n\t\t'grid',\n\t];\n\nconst PROPERTIES_CHILDREN = [\n\t'grid-area',\n\t'grid-column',\n\t'grid-row',\n\t'grid-column-start',\n\t'grid-column-end',\n\t'grid-row-start',\n\t'grid-row-end',\n\t'justify-self',\n\t'align-self',\n\t'place-self',\n];\n\n\nclass ModuleGrid extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UIChildren () {\n\t\treturn super.UIEl().querySelectorAll(`.${COMPONENT_CHILDREN_CLASS}`);\n\t}\n\n\t_loopProps(block,props){\n\t\tprops.forEach((prop) => {\n\t\t\tlet propsSet = false,\n\t\t\t\tpropSetBr = false,\n\t\t\t\tsmallestStyledBr = false;\n\n\t\t\t//check for breakpointz first\n\t\t\tFwArray.reverse(BrTag).forEach((br) => {\n\t\t\t\tif (\n\t\t\t\t\tblock.hasAttribute(`data-${prop}-${br}`)\n\t\t\t\t\t&& !propsSet\n\t\t\t\t) {\n\t\t\t\t\tsmallestStyledBr = br;\n\t\t\t\t\tif (ValidateBr(br, 'above')) {\n\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t.style[FwString.ToCamelCase(prop)] = block.getAttribute(\n\t\t\t\t\t\t\t\t`data-${prop}-${br}`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tpropsSet = true;\n\t\t\t\t\t\tpropSetBr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tblock.hasAttribute(`data-${prop}`)\n\t\t\t\t&& !propsSet\n\t\t\t) {\n\t\t\t\t//check for all breakpoint\n\t\t\t\tif (\n\t\t\t\t\t!propsSet\n\t\t\t\t\t&& !propSetBr\n\t\t\t\t) {\n\t\t\t\t\tblock\n\t\t\t\t\t\t.style[FwString.ToCamelCase(prop)] = block.getAttribute(\n\t\t\t\t\t\t\t`data-${prop}`\n\t\t\t\t\t\t);\n\t\t\t\t\tpropsSet = true;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tblock.style[FwString.ToCamelCase(prop)] !== null\n\t\t\t\t\t&& smallestStyledBr\n\t\t\t\t\t&& !ValidateBr(smallestStyledBr, 'above')\n\t\t\t\t) {\n\t\t\t\t\tblock.style[FwString.ToCamelCase(prop)] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\trenderGrid(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(elem,EVENT_BEFORE_RENDER_GRID);\n\t\t\tFwEvent.trigger(elem,EVENT_RENDER_GRID);\n\n\t\t\tthis._loopProps(element,PROPERTIES_WRAPPER);\n\n\t\t\tFwEvent.trigger(elem,EVENT_AFTER_RENDER_GRID);\n\t}\n\n\trenderBlocks(){\n\n\t\tthis.UIChildren.forEach((child)=>{\n\n\t\t\tFwEvent.trigger(child,EVENT_BEFORE_RENDER_BLOCK);\n\t\t\tFwEvent.trigger(child,EVENT_RENDER_BLOCK);\n\n\t\t\tthis._loopProps(child,PROPERTIES_CHILDREN);\n\n\t\t\tFwEvent.trigger(child,EVENT_AFTER_RENDER_BLOCK);\n\t\t});\n\t}\n\n\trender(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\n\t\t\tFwEvent.trigger(elem,EVENT_BEFORE_RENDER);\n\t\t\tFwEvent.trigger(elem,EVENT_RENDER);\n\n\t\t\tthis.renderGrid(element);\n\t\t\tthis.renderBlocks();\n\t\t\n\t\t\tFwEvent.trigger(elem,EVENT_AFTER_RENDER);\n\t}\n\t\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\n\n\t\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\t\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\t\tconst grids = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\t\tgrids.forEach((grid)=>{\n\t\t\t\tconst moduleGrid = new ModuleGrid(grid);\n\t\t\t\tmoduleGrid.render();\n\t\t\t})\n\n\t\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t\t}\n\t\t\n\t}\n\n\tstatic initListeners(){\n\t\tInitiator.Q.on_ready = ModuleGrid.handleUniversal();\n\t\tInitiator.Q.on_resize = ModuleGrid.handleUniversal();\n\t}\n}\n\n\nexport default ModuleGrid;\nModuleGrid.initListeners();","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UIPurge } from './util/ui.js';\n\n\nconst NAME = 'switch';\nconst TOGGLE_MODE = `${NAME}`;\nconst TOGGLE_MODE_ON = `${TOGGLE_MODE}-on`;\nconst TOGGLE_MODE_OFF = `${TOGGLE_MODE}-off`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\tconst COMPONENT_CLASS_STATUS_OFF = `${COMPONENT_CLASS}-to-off`;\n\tconst COMPONENT_CLASS_STATUS_ON = `${COMPONENT_CLASS}-to-on`;\n\tconst COMPONENT_CLASS_IDLE = `${COMPONENT_CLASS}-idle`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\n\nconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\nconst EVENT_INIT = `init${EVENT_KEY}`;\nconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\nconst EVENT_BEFORE_ON = `before_on${EVENT_KEY}`;\nconst EVENT_ON = `on${EVENT_KEY}`;\nconst EVENT_AFTER_ON = `after_on${EVENT_KEY}`;\n\nconst EVENT_BEFORE_OFF = `before_off${EVENT_KEY}`;\nconst EVENT_OFF = `off${EVENT_KEY}`;\nconst EVENT_AFTER_OFF = `after_off${EVENT_KEY}`;\n\n\nclass Switch extends FwComponent {\n\n\tconstructor(element){\n\t\telement = element || UIToggled(TOGGLE_MODE) || false;\n\n\t\tsuper(element);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tisOff(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\treturn element.classList.contains(COMPONENT_CLASS_STATUS_OFF);\n\t}\n\n\n\tisOn(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\treturn element.classList.contains(COMPONENT_CLASS_STATUS_ON) || !this.isOff();\n\n\n\t}\n\t\n\tisIdle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\t\n\t\t\telement.classList.contains(COMPONENT_CLASS_IDLE);\n\t}\n\n\t//catch bois that re not off\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element.classList.contains(COMPONENT_CLASS_STATUS_ON) && !element.classList.contains(COMPONENT_CLASS_STATUS_OFF)){\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_OFF);\n\t\t}\n\n\t}\n\n\tturnOff(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OFF);\n\n\t\t\tFwEvent.trigger(element,EVENT_OFF);\n\t\t\telement.classList.remove(COMPONENT_CLASS_STATUS_ON);\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_OFF);\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OFF);\n\t}\n\n\tturnOn(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_ON);\n\t\t\tFwEvent.trigger(element,EVENT_ON);\n\n\t\t\telement.classList.remove(COMPONENT_CLASS_STATUS_OFF);\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_ON);\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_ON);\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\n\t\t\tif(this.isOff()){\n\t\t\t\tthis.turnOn();\n\t\t\t}else{\n\t\t\t\tthis.turnOff();\n\t\t\t}\n\t\t\n\t}\n\t\n\n\tstatic purge(exempted){\n\t\tUIPurge(\n\t\t\texempted,\n\t\t\t`.${COMPONENT_CLASS}:not(.${COMPONENT_CLASS_IDLE})`,\n\t\t\t(elem)=> {\n\t\t\t\tnew Switch(elem).turnOff();\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic handleToggleOn() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst switchElement = new Switch(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target)\n\t\t\t\t);\n\t\t\t\tSwitch.purge(UIToggled(TOGGLE_MODE,e.target));\n\t\t\t\tswitchElement.turnOn();\n\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleOff() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst switchElement = new Switch(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target)\n\t\t\t\t);\n\t\t\t\tswitchElement.turnOff();\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleInit(){\n\t\treturn () => {\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\t\tUIPurge(\n\t\t\t\tfalse,\n\t\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\t\t(elem)=> {\n\t\t\t\t\tnew Switch(elem).init();\n\t\t\t\t}\n\t\t\t);\n\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(){\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle-${TOGGLE_MODE_ON}]`)\n\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE_OFF}]`)\n\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t){\n\t\t\t\t\tSwitch.purge();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_OFF}]`,\n\t\t\tSwitch.handleToggleOff()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_ON}]`,\n\t\t\tSwitch.handleToggleOn()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*`,\n\t\t\tSwitch.handleUniversalPurge()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Switch.handleInit();\n\t}\n\tstatic destroyListeners(){\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tSwitch.handleToggleOff()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tSwitch.handleToggleOn()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\tSwitch.handleUniversalPurge()\n\t\t);\n\t}\n}\n\nexport default Switch;\n\nSwitch.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\n\nconst NAME = 'tabs';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CHILDREN_CLASS = 'tab';\nconst COMPONENT_CHILDREN_TAG = 'li';\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_ACTIVATE = `before_activate${EVENT_KEY}`;\n\tconst EVENT_ACTIVATE = `activate${EVENT_KEY}`;\n\tconst EVENT_AFTER_ACTIVATE = `after_activate${EVENT_KEY}`;\n\nclass Tabs extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tUIChildren(){\n\t\treturn super.UIEl().querySelectorAll(`.${COMPONENT_CHILDREN_CLASS}, ${COMPONENT_CHILDREN_TAG}`);\n\t}\n\n\tUIActive(){\n\t\treturn super.UIEl().querySelector(`.${COMPONENT_CHILDREN_CLASS}.${ACTIVATED_CLASS}, ${COMPONENT_CHILDREN_TAG}.${ACTIVATED_CLASS}`);\n\t}\n\n\ttarget(element){\n\t\tif(element) return new FwDom(element).closest(`.${COMPONENT_CHILDREN_CLASS}`);\n\t}\n\n\tactivate(target,elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\t\n\t\tconst theTab = this.target(target);\n\n\t\tif(!theTab){\n\t\t\treturn false;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_ACTIVATE);\n\n\t\tif (!theTab.classList.contains(`${ACTIVATED_CLASS}`)) {\n\t\t\tFwEvent.trigger(element,EVENT_ACTIVATE);\n\t\t\tconst triggererSiblings = FwDom.getSiblings(\n\t\t\t\ttheTab\n\t\t\t);\n\t\t\ttriggererSiblings\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tsibling.matches(`.${COMPONENT_CHILDREN_CLASS}`)\n\t\t\t\t\t\t|| sibling.matches(`${COMPONENT_CHILDREN_TAG}`)\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.forEach((sibling) => {\n\t\t\t\t\tsibling.classList.remove(`${ACTIVATED_CLASS}`);\n\t\t\t\t});\n\n\t\t\ttheTab.classList.add(`${ACTIVATED_CLASS}`);\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_ACTIVATE);\n\n\t}\n\n\n\tstatic handleClick() {\n\t\treturn (e) => {\n\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\n\t\t\t} else {\n\t\t\t\tconst tabs = new Tabs(e.target.closest('.tabs'));\n\t\t\t\ttabs.activate(e.target);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS} > ${COMPONENT_CHILDREN_TAG} > *, .${COMPONENT_CHILDREN_CLASS}, .${COMPONENT_CHILDREN_CLASS} > *`,\n\t\t\tTabs.handleClick()\n\t\t);\n\t}\n\n\tstatic destroyListeners(){\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tTabs.handleClick()\n\t\t);\n\t}\n\t\n}\n\nexport default Tabs;\n\nTabs.initListeners(); ","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\nimport {Palette} from './util/validation.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\nconst NAME = 'tooltip';\nconst TOGGLE_MODE_CLICK = `${NAME}-click`;\nconst TOGGLE_MODE_HOVER = `${NAME}-hover`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CUSTOM_WIDTH_CLASS = `${COMPONENT_CLASS}-has-custom-width`;\nconst COMPONENT_PURGER_CLASS = `${COMPONENT_CLASS}-purger`;\nconst COMPONENT_ALLOW_INTERACTION_CLASS = `${COMPONENT_CLASS}-allow-interaction`;\nconst ACTIVATED_CLASS = `active`;\n\n\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`;\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DESTROY = `before_destroy${EVENT_KEY}`;\n\tconst EVENT_DESTROY = `destroy${EVENT_KEY}`;\n\tconst EVENT_AFTER_DESTROY = `after_destroy${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_POSITION = `before_position${EVENT_KEY}`;\n\tconst EVENT_POSITION = `position${EVENT_KEY}`;\n\tconst EVENT_AFTER_POSITION = `after_position${EVENT_KEY}`;\n\n\tconst CURRENT_TOOLTIP_INSTANCE = {\n\t\tUI: null,\n\t\ttriggerer:null,\n\t\targs: null\n\t}\n\nclass Tooltip extends FwComponent {\n\t\n\tconstructor(triggerElement,args){\n\n\t\ttriggerElement = triggerElement || Tooltip.current.triggerer || false;\n\n\t\tsuper(\n\t\t\ttriggerElement,\n\t\t\t{\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get current() {\n\t\treturn CURRENT_TOOLTIP_INSTANCE;\n\t}\n\n\tstatic set current(obj){\n\t\tCURRENT_TOOLTIP_INSTANCE.UI = obj.UI;\n\t\tCURRENT_TOOLTIP_INSTANCE.args = obj.args;\n\t\tCURRENT_TOOLTIP_INSTANCE.triggerer = obj.triggerer;\n\t}\n\n\tget UICurrent(){\n\t\treturn Tooltip.current.UI;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tplacement: 'left',\n\t\t\tbadge: false,\n\t\t\tbadgeBg: 'primary',\n\t\t\tbadgeSize: '',\n\t\t\tclasses: '',\n\t\t\tinverse:false,\n\t\t\tsize: '',\n\t\t\tcontent: '<em class=\"color-neutral tooltip-placeholder\">No info...</em>',\n\t\t\tcenterX: false,\n\t\t\tcenterY: false,\n\t\t\tx: false,\n\t\t\ty: false,\n\t\t\twidth: null,\n\t\t\tallowInteraction: false\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tplacement:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-placement`),\n\t\t\t\t\tbadge:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge`),\n\t\t\t\t\tbadgeBg:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge-background`),\n\t\t\t\t\tbadgeSize:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge-size`),\n\t\t\t\t\tclasses:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-classes`),\n\t\t\t\t\tcontent:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-content`),\n\t\t\t\t\tinverse:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-inverse`),\n\t\t\t\t\tsize:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-size`),\n\t\t\t\t\tcenterX:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-center-x`),\n\t\t\t\t\tcenterY:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-center-y`),\n\t\t\t\t\tx:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-x`),\n\t\t\t\t\ty:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-y`),\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-width`),\n\t\t\t\t\tallowInteraction:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-allow-interaction`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tTooltip.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\t_markup(){\n\t\tlet html = '';\n\n\t\tif (this.args.badge) {\n\t\t\thtml += `<span class=\"badge ${NAME}-badge`;\n\t\t\t\tif (\n\t\t\t\t\tthis.args.badgeSize == 'small'\n\t\t\t\t\t|| this.args.badgeSize == 'large'\n\t\t\t\t) {\n\t\t\t\t\thtml += ` badge-${this.args.badgeSize}`;\n\t\t\t\t}\n\n\t\t\t\tif (Palette.includes(this.args.badgeBg)) {\n\t\t\t\t\thtml += ` badge-${this.args.badgeBg}`;\n\t\t\t\t} else {\n\t\t\t\t\thtml += `\" style=\"background-color:${this.args.badgeBg};`;\n\t\t\t\t}\n\t\t\thtml += `\"></span>`;\n\t\t}\n\n\t\thtml += `<div class=\"${NAME}-content ${this.args.classes}\">${this.args.content}</div></div>`;\n\n\t\treturn html;\n\t}\n\n\tget elementOffset(){\n\t\tconst element = super.UIEl();\n\n\t\treturn {\n\t\t\ttop:\n\t\t\t\telement.getBoundingClientRect().top + window.pageYOffset,\n\t\t\tleft:\n\t\t\t\telement.getBoundingClientRect().left + window.pageXOffset,\n\t\t\theight:\n\t\t\t\telement.getBoundingClientRect().height,\n\t\t\twidth:\n\t\t\t\telement.getBoundingClientRect().width,\n\t\t}\n\t}\n\n\tget _pointWidth(){\n\n\t\tlet toReturn = parseFloat(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(Tooltip.current.UI, ':before')\n\t\t\t\t.getPropertyValue('width')\n\t\t);\n\t\t\t\n\t\t\ttoReturn = Math.sqrt(toReturn * toReturn * 2) * 0.5;\n\t\t\tisNaN(toReturn) && (toReturn = 15);\n\n\t\treturn toReturn;\n\t}\n\n\tget badge(){\n\t\tif(!this.UICurrent){\n\t\t\treturn\n\t\t}\n\t\treturn this.UICurrent.querySelector(`.${COMPONENT_CLASS}-badge`);\n\t}\n\n\tget width(){\n\t\treturn this.UICurrent.getBoundingClientRect().width;\n\t}\n\n\tget height(){\n\t\treturn this.UICurrent.getBoundingClientRect().height;\n\t}\n\n\tset width(val){\n\t\tthis.UICurrent.style.width = val;\n\t}\n\n\tset height(val){\n\t\tthis.UICurrent.style.height = val;\n\t}\n\n\tcreate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\n\t\tthis.destroy();\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\t\n\t\tconst tip = document.createElement('div');\n\t\t\tdocument.body.appendChild(tip);\n\n\t\ttip.className = `${COMPONENT_CLASS} ${COMPONENT_CLASS}-${this.args.placement}\n\t\t\t${(this.args.width ? COMPONENT_CUSTOM_WIDTH_CLASS : '')}\n\t\t\t${(this.args.allowInteraction ? COMPONENT_ALLOW_INTERACTION_CLASS : '')}\n\t\t\t${(this.args.size ? `${COMPONENT_CLASS}-${this.args.size}` : '')}\n\t\t\t${(this.args.inverse ? 'theme-inverse' : '')}`;\n\n\t\tif (this.args.width) {\n\t\t\ttip.style.width = this.args.width;\n\t\t}\n\n\t\ttip.innerHTML += this._markup();\n\n\t\tTooltip.current = {\n\t\t\tUI: tip,\n\t\t\targs: this.args,\n\t\t\ttriggerer: element\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\tthis.width = this.args.width;\n\t\t}\n\n\t\ttip.classList.add(ACTIVATED_CLASS);\n\n\t\tthis.position();\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t\t\n\t}\n\n\tdestroy(){\n\t\tconst element = Tooltip.current.UI;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_DESTROY);\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_DESTROY);\n\n\t\telement\n\t\t\t.parentNode.removeChild(element);\n\t\n\t\tTooltip.current = {\n\t\t\tUI: false,\n\t\t\targs: false,\n\t\t\ttriggerer: false\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_DESTROY);\n\t}\n\n\tget UIOffset(){\n\t\t\n\t\tlet the_x = this.width * -0.5; //top and bottom\n\t\tlet badgeOffsetX = 0;\n\n\t\tswitch (this.args.placement) {\n\t\t\tcase 'right':\n\t\t\t\tthe_x = this._pointWidth;\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tthe_x = -(this.width + this._pointWidth);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (\n\t\t\tthis.badge\n\t\t\t&& (\n\t\t\t\tthis.args.placement == 'left'\n\t\t\t\t|| this.args.placement == 'right'\n\t\t\t)\n\t\t) {\n\t\t\tbadgeOffsetX =\n\t\t\t\tthis.args.placement == 'left'\n\t\t\t\t\t? this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.width * -0.5\n\t\t\t\t\t: this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.width * 0.5;\n\t\t}\n\n\t\tthe_x += badgeOffsetX;\n\n\n\t\tlet the_y = this.height * -0.5; // left and right\n\t\tlet badgeOffsetY = 0;\n\n\t\tswitch (this.args.placement) {\n\t\t\tcase 'bottom':\n\t\t\t\tthe_y = this._pointWidth;\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tthe_y = -(this.height + this._pointWidth);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (\n\t\t\tthis.badge\n\t\t\t&& (\n\t\t\t\tthis.args.placement == 'top'\n\t\t\t\t|| this.args.placement == 'bottom'\n\t\t\t)\n\t\t) {\n\t\t\tbadgeOffsetY =\n\t\t\t\tthis.args.placement == 'top'\n\t\t\t\t\t? this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.height * -0.5\n\t\t\t\t\t: this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.height * 0.5;\n\t\t}\n\n\t\tthe_y += badgeOffsetY;\n\n\t\treturn {\n\t\t\tx: the_x,\n\t\t\ty: the_y\n\t\t\t// x: 0,\n\t\t\t// y: 0\n\t\t};\n\t}\n\n\tposition(posX,posY){\n\t\tconst element = super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_POSITION);\n\t\tif(!Tooltip.current.UI){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_POSITION);\n\n\t\tconst toolTip = Tooltip.current.UI;\n\n\t\tposX = posX || this.elementOrigin.x;\n\t\tposY = posY || this.elementOrigin.y;\n\n\t\ttoolTip.style.left = posX + this.UIOffset.x + 'px';\n\t\ttoolTip.style.top = posY + this.UIOffset.y + 'px';\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_POSITION);\n\t}\n\n\tget elementOrigin(){\n\t\n\t\tif(!Tooltip.current.UI){\n\t\t\treturn;\n\t\t}\n\n\t\tlet the_x =\n\t\t\tthis.elementOffset.left + this.elementOffset.width * 0.5; //top and bottom\n\n\t\tif (!this.args.x) {\n\t\t\tif (!this.args.centerX) {\n\t\t\t\tswitch (this.args.placement) {\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthe_x =\n\t\t\t\t\t\t\tthis.elementOffset.left +\n\t\t\t\t\t\t\tthis.elementOffset.width;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthe_x = this.elementOffset.left;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthe_x = parseFloat(this.args.x);\n\t\t}\n\n\t\tlet the_y =\n\t\t\tthis.elementOffset.top + this.elementOffset.height * 0.5; // left and right\n\t\tif (!this.args.y) {\n\t\t\tif (!this.args.centerY) {\n\t\t\t\tswitch (this.args.placement) {\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tthe_y =\n\t\t\t\t\t\t\tthis.elementOffset.top +\n\t\t\t\t\t\t\tthis.elementOffset.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tthe_y = this.elementOffset.top;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthe_y = parseFloat(this.args.y);\n\t\t}\n\t\t\n\t\treturn {\n\t\t\tx: the_x,\n\t\t\ty: the_y\n\t\t}\n\t}\n\n\tstatic handleToggleClickOn(){\n\t\treturn (e)=>{\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tooltip = new Tooltip(e.target);\n\t\t\t\ttooltip.create();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(){\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle-${TOGGLE_MODE_CLICK}]`)\n\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE_HOVER}]`)\n\t\t\t\t\t// && !e.target.closest(`.${COMPONENT_CLASS}.${COMPONENT_ALLOW_INTERACTION_CLASS}`)\n\t\t\t\t){\n\t\t\t\t\tconst tooltip =  new Tooltip();\n\t\t\t\t\ttooltip.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleHoverOn(){\n\t\treturn (e)=>{\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\tconst tooltip = new Tooltip(e.target);\n\t\t\t\ttooltip.create();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleHoverOff(){\n\t\treturn (e)=>{\n\t\t\tconst tooltip =  new Tooltip();\n\t\t\ttooltip.destroy();\n\t\t}\n\t}\n\n\t\n\n\tstatic handleResizeScroll() {\n\t\treturn () => {\n\t\t\tif(Tooltip.current.triggerer){\n\t\t\t\ttooltip = new Tooltip(Tooltip.current.triggerer);\n\n\t\t\t\ttooltip.position();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSEENTER,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_HOVER}]`,\n\t\t\tTooltip.handleToggleHoverOn()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSELEAVE,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_HOVER}]`,\n\t\t\tTooltip.handleToggleHoverOff()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_CLICK}]`,\n\t\t\tTooltip.handleToggleClickOn()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*, .${COMPONENT_PURGER_CLASS}`,\n\t\t\tTooltip.handleUniversalPurge()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Tooltip.handleResizeScroll();\n\t\tInitiator.Q.on_resize = Tooltip.handleResizeScroll();\n\t\t\n\t}\n\n\tstatic destroyListeners(){\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSEENTER,\n\t\t\tTooltip.handleToggleHoverOn()\n\t\t);\n\t\t\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSELEAVE,\n\t\t\tTooltip.handleToggleHoverOff()\n\t\t);\n\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\tTooltip.handleToggleClickOn()\n\t\t);\n\t\t\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\tTooltip.handleUniversalPurge()\n\t\t);\n\t}\n}\n\nexport default Tooltip;\n\nTooltip.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\n\nconst NAME = 'zone';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\tconst ACTIVATED_CLASS = `${COMPONENT_CLASS}-has-content`;\n\tconst COMPONENT_TEXT_CLASS = `${ACTIVATED_CLASS}-text`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_ACTIVATE = `before_activate${EVENT_KEY}`;\n\tconst EVENT_ACTIVATE = `activate${EVENT_KEY}`;\n\tconst EVENT_AFTER_ACTIVATE = `after_activate${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DEACTIVATE = `before_deactivate${EVENT_KEY}`;\n\tconst EVENT_DEACTIVATE = `deactivate${EVENT_KEY}`;\n\tconst EVENT_AFTER_DEACTIVATE = `after_deactivate${EVENT_KEY}`;\n\nclass Zone extends FwComponent {\n\n\tconstructor(element,formControl){\n\t\telement = element || false;\n\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_formControl:(\n\t\t\t\t\tformControl\n\t\t\t\t\t\t? new FwDom(formControl)\n\t\t\t\t\t: false\n\t\t\t\t)\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tget UIControl(){\n\t\treturn this._formControl;\n\t}\n\n\tget UIDyText(){\n\t\treturn super.UIEl().querySelector(`.${COMPONENT_TEXT_CLASS}`);\n\t}\n\n\t_killDyText(){\n\t\tthis.UIDyText && this.UIDyText.parentNode.removeChild(this.UIDyText);\n\t}\n\n\tactivate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_ACTIVATE);\n\t\t\tFwEvent.trigger(element,EVENT_ACTIVATE);\n\n\t\t\tthis._killDyText();\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\t\t\telement.innerHTML += `<div class=\"${COMPONENT_TEXT_CLASS}\">\n\t\t\t\t\t<span>${this.UIControl.files.length} files selected.<br> Click or drag and drop to reselect</span>\n\t\t\t\t</div>`;\n\t\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_ACTIVATE);\n\n\t}\n\n\tdeactivate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_DEACTIVATE);\n\t\t\tFwEvent.trigger(element,EVENT_DEACTIVATE);\n\n\t\t\tthis._killDyText();\n\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_DEACTIVATE);\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tthis.UIDyText && this.UIDyText.parentNode.removeChild(this.UIDyText);\n\n\t\tif (this.UIControl.value && this.UIControl.files.length) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\t}\n\n\n\tstatic handleClick() {\n\t\treturn (e) => {\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst zone = new Zone(e.target.closest(`.${COMPONENT_CLASS}`),e.target);\n\t\t\t\tzone.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\tZone.handleClick()\n\t\t);\n\t}\n\n\tstatic destroyListeners(){\n\t\tFwEvent.removeListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tZone.handleClick()\n\t\t);\n\t}\n\t\n}\n\nexport default Zone;\n\nZone.initListeners(); ","// import FwArrayay from './src/data-helper/array.js';\n// import FwString from './src/data-helper/string.js';\n// import FwDate from './src/data-helper/date.js';\n// import FwDom from './src/data-helper/dom.js';\n\n\nimport Initiator from './imports/core/initiator.js';\nimport Settings from './imports/core/settings.js';\n\nimport Accordion from './imports/accordion.js';\nimport Alert from './imports/alert.js';\nimport Button from './imports/button.js';\nimport Dropdown from './imports/dropdown.js';\nimport Form from './imports/form.js';\nimport Lazy from './imports/lazy.js';\nimport ListGroup from './imports/list-group.js';\nimport Modal from './imports/modal.js';\nimport ModuleGrid from './imports/module-grid.js';\nimport Switch from './imports/switch.js';\nimport Tabs from './imports/tabs.js';\nimport Tooltip from './imports/tooltip.js';\nimport Zone from './imports/zone.js';\n\nconst FrameWork = {\n\tInitiator,\n\tSettings,\n\tAccordion,\n\tAlert,\n\tButton,\n\tDropdown,\n\tForm,\n\tLazy,\n\tListGroup,\n\tModal,\n\tModuleGrid,\n\tSwitch,\n\tTabs,\n\tTooltip,\n\tZone,\n};\nexport default FrameWork"],"names":["CORE_SETTINGS","prefix","lazyLoad","initializeModal","initializeAccordion","dynamicHash","uiClass","uiJsClass","replace","Settings","modify","key","value","hasOwnProperty","get","toReturn","DisableClasses","lookupResetToParentClass","lookupResetFromClosestComponent","lookupResetFromClosestComponentUi","DateTimePreset","HumanDate","placeholder","pattern","template","HumanTime24","HumanTime12","Value","ValueDateTimePreset","dayNames","dayNamesShort","dayNamesShorter","monthNames","monthNamesShort","Palette","FwDataHelper","data","dataParser","dat","_FwData","getData","FwDom","selection","document","querySelectorAll","length","querySelector","slideDown","elem","style","display","slideUp","getSiblings","Array","prototype","filter","call","parentNode","children","child","isDescendant","parent","node","getAncestors","selector","parents","firstChar","charAt","classList","contains","substr","push","id","hasAttribute","tagName","toLowerCase","moveContents","elementToMoveContentsTo","oldParent","newParent","childNodes","appendChild","scrollToElem","ToScrollTo","direction","methods","scrollOpts","getBoundingClientRect","scrollTo","RunFnForChildren","ancestorElem","parentSelector","fn","forEach","closest","isSameNode","FwString","GetFileExtension","str","toString","split","pop","ToCamelCase","word","index","toUpperCase","ToDashed","UIPrefix","componentName","UIDynamicClass","UIBodyClass","noScroll","onDrag","loading","loaded","UITriggerer","triggerer","isGroupable","UIToggled","toggleMode","componentClass","selectorToMatch","getAttribute","startsWith","matches","i","possibleSiblings","nextElementSibling","window","location","hash","UIChangeHash","idToGoTo","history","pushState","scrollV","scrollH","title","pathname","search","body","scrollTop","scrollLeft","UIToggleGroup","element","activatedClass","siblingSelector","resetterClass","noActiveClass","multipleClass","console","log","resetter","butt","remove","selectorSiblings","sibling","toggle","add","UIPurge","exempted","callback","FwQueue","_on_load","_on_ready","_on_resize","_on_scroll","_on_rightAway","_on_init","INITIATOR_QUEUE","is_started","Initiator","resizeTimerInternal","scrollTimerInternal","isDocReady","readyState","addEventListener","setState","mode","setTimeout","setLoadingState","setCompleteState","start","ini","isStarted","Q","on_init","restart","info","val","fnsArray","on_rightAway","on_ready","on_load","clearTimeout","on_resize","on_scroll","NativeEvents","FwEvent","UIDEvent","uid","uidEvent","getEvent","eventRegistry","classNester","selArr","sel","addListener","evt","selectorOrParentFallback","handler","elemToAddTo","evtNoApi","isNative","includes","event","target","trigger","detail","nativeEvt","_selection","removeListener","el","customEventOpts","createEvent","initEvent","CustomEvent","dispatchEvent","bubbles","cancelable","_dataobj","storage","_set","fwKeys","_get","keyProperties","_remove","DataHandler","set","elm","FwComponent","props","constructor","DATA_KEY","dispose","getInstance","UIEl","_resetUIEl","Error","_runFn","eval","exec","err","error","_setInitState","beforeEvent","happeningEvent","afterEvent","_parseArgs","arr","defaults","args","prop","undefined","parser","isDisabled","classString","isDynamic","BrValue","xxs","xs","parseFloat","getComputedStyle","documentElement","getPropertyValue","sm","md","lg","xl","BrTag","Object","keys","BrMobileMax","ValidateBr","breakpoint","currIndex","indexOf","clientWidth","NAME","ARG_ATTRIBUTE_NAME","TOGGLE_MODE","COMPONENT_CLASS","ACTIVATED_CLASS","EVENT_KEY","EVENT_CLICK","EVENT_HASHCHANGE","EVENT_BEFORE_CLOSE","EVENT_CLOSE","EVENT_AFTER_CLOSE","EVENT_BEFORE_OPEN","EVENT_OPEN","EVENT_AFTER_OPEN","Accordion","_customArgs","_siblicide","_isWithinGroupMultiple","UIGroot","accBbies","close","_isValidWithinQuery","_isWithinAllowNoActive","_probablyToggle","changeHash","_id","open","handleToggler","e","preventDefault","accordion","handleHash","initListeners","destroyListeners","configDefaults","Alert","removeChild","closeAll","instance","alertInstance","handleClose","alert","handleCloseAll","EVENT_BEFORE_TOGGLE","EVENT_TOGGLE","EVENT_AFTER_TOGGLE","Button","handleToggle","button","COMPONENT_PURGER_CLASS","NAV_ANCESTOR","EVENT_CLICK_PURGE","EVENT_FOCUS","EVENT_BLUR","Dropdown","setDimensions","UIElNavcestor","purge","width","maxHeight","dropdown","handleFocusOpen","blur","handleBlurClose","handleUniversalPurge","isPurger","FwDate","toParsed","d","yr","mo","dy","hr","mn","dateArr","timeArr","getFullYear","getMonth","getDate","getHours","getMinutes","RegExp","isValid","test","DateTimePresetArr","parseInt","Date","toHuman","date","format","iFormat","output","literal","lookAhead","match","formatNumber","len","num","formatName","shortNames","longNames","getDay","Math","round","getTime","toVal","adjacentMonth","offsetByMonth","dateOverride","currMonth","currYear","newMonth","newYear","defOffset","setMonth","setFullYear","setDate","EVENT_KEYUP","EVENT_CHANGE","EVENT_BEFORE_INIT","EVENT_INIT","EVENT_AFTER_INIT","EVENT_BEFORE_RENDER","EVENT_RENDER","EVENT_AFTER_RENDER","EVENT_BEFORE_UPDATE","EVENT_UPDATE","EVENT_AFTER_UPDATE","Calendar","valueToRender","UIValue","_arrowHtml","buttonClass","symbolClass","arrowDate","disValid","arrowClass","_calendar","startDate","validates","year","month","htmlString","_blockHtml","customClass","update","newValue","theValue","uiValue","renderValue","_renderUI","UIRoot","UIDates","UIInput","UIInputValue","rangeOnly","checkAgainst","disabledDates","dateNow","setHours","max","min","theUI","container","createElement","insertBefore","setAttribute","inputWrapper","components","component","textInput","innerHTML","heading","butts","yearSkip","monthSkip","dropdownInit","dropdownLimit","yearSpan","listItemDate","dateForValidation","currClass","listItem","grid","append","days","daysHTML","dayToRetrieve","startDay","dates","freeGridSpacePrev","calendarPrevDayStart","prevDay","offset","prevDate","loopDatePrev","dateBlockPrev","lastDate","dateBlockCurr","currNextFirstDay","freeGridSpaceNext","loopDateNext","dateBlockNext","init","initAll","calendars","cal","calendar","handleChange","handleUpdateKeyup","uiInput","y","m","preParsedVal","handleUpdateClick","handleRenderClick","theRenderDate","renderDate","Modifiers","ctrl","shift","alt","meta","hasActive","shiftKey","ctrlKey","altKey","metaKey","FwArrayay","moveItem","oi","ni","k","splice","reverse","newArray","FOCUS_CLASS","EVENT_KEYDOWN","EVENT_PASTE","INPUT_STRING","Tags","_scrollToUIInput","multipleLines","offsetLeft","offsetWidth","toArr","returnsWithInput","isArray","reduce","acc","tag","__is","join","filterValue","custFn","fnToFilter","applyFilter","valueToFilter","filterFnName","noInputValueToFilter","UIInputIdx","allowFilter","inputText","focus","wrapper","input","contentEditable","onKeyUp","keyUpScript","oldTags","valArr","tagHtml","insertAdjacentElement","attributes","attr","specified","name","disableNative","self","tagsInputs","poot","tagsInput","handleEditablePaste","pasted","clipboardData","originalEvent","handleEditableFocus","handleEditableBlur","currValue","handleEditableKeydown","currUIValue","FwArray","handleDelete","tagToRemove","handleEdit","tagToEdit","newUIValue","innerText","renderTags","inputValue","Form","COMPONENT_CLASS_SVG","SVG_REPLACED_CLASS","COMPONENT_SELECTOR","BODY_LOADING_CLASS","BODY_LOADED_CLASS","EVENT_BEFORE_SVGCONVERSION","EVENT_SVGCONVERSION","EVENT_AFTER_SVGCONVERSION","EVENT_BEFORE_LOAD","EVENT_LOAD","EVENT_AFTER_LOAD","Lazy","_ogElement","readyLoaded","loadSVG","imgID","imgClass","fetch","theSrc","then","response","text","markup","DOMParser","dom","parseFromString","svg","removeAttribute","UIOriginal","replaceWith","load","theSrcSet","backgroundImage","setStatus","status","addClass","removeClass","loadAll","images","img","lazy","CHILD_CLASS","COMPONENT_TOGGLEGROUP_PREFIX","ListGroup","triggeredChild","_triggeredChild","triggd","UITriggeredChild","listGroup","TOGGLE_MODE_PREFIX","DEFAULT_NAME","BOARD_NAME","EVENT_BEFORE_CREATE","EVENT_CREATE","EVENT_AFTER_CREATE","EVENT_BEFORE_DESTROY","EVENT_DESTROY","EVENT_AFTER_DESTROY","EVENT_BEFORE_RESIZE","EVENT_RESIZE","EVENT_AFTER_RESIZE","CURRENT_MODAL_INSTANCE","VALID_MODAL_MODES","Modal","currMode","current","_mode","create","destroy","UIElId","UIId","className","align","classes","_markup","UIContentBlock","resize","canRemoveHash","removeBodClass","getElementById","currentWidth","resizeBtn","modeToggle","handleResize","modal","handleUniversal","handleOpen","disableOverlay","closeClasses","fullscreen","fullscreenClasses","resizeClasses","warn","html","decodeURIComponent","obj","COMPONENT_CHILDREN_CLASS","EVENT_BEFORE_RENDER_GRID","EVENT_RENDER_GRID","EVENT_AFTER_RENDER_GRID","EVENT_BEFORE_RENDER_BLOCK","EVENT_RENDER_BLOCK","EVENT_AFTER_RENDER_BLOCK","PROPERTIES_WRAPPER","PROPERTIES_CHILDREN","ModuleGrid","_loopProps","block","propsSet","propSetBr","smallestStyledBr","br","renderGrid","renderBlocks","UIChildren","render","grids","moduleGrid","TOGGLE_MODE_ON","TOGGLE_MODE_OFF","COMPONENT_CLASS_STATUS_OFF","COMPONENT_CLASS_STATUS_ON","COMPONENT_CLASS_IDLE","EVENT_BEFORE_ON","EVENT_ON","EVENT_AFTER_ON","EVENT_BEFORE_OFF","EVENT_OFF","EVENT_AFTER_OFF","Switch","isOff","isOn","isIdle","turnOff","turnOn","handleToggleOn","switchElement","handleToggleOff","handleInit","COMPONENT_CHILDREN_TAG","EVENT_BEFORE_ACTIVATE","EVENT_ACTIVATE","EVENT_AFTER_ACTIVATE","Tabs","UIActive","activate","theTab","triggererSiblings","handleClick","tabs","TOGGLE_MODE_CLICK","TOGGLE_MODE_HOVER","COMPONENT_CUSTOM_WIDTH_CLASS","COMPONENT_ALLOW_INTERACTION_CLASS","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_BEFORE_POSITION","EVENT_POSITION","EVENT_AFTER_POSITION","CURRENT_TOOLTIP_INSTANCE","UI","Tooltip","triggerElement","badge","badgeSize","badgeBg","content","tip","placement","allowInteraction","size","inverse","position","posX","posY","toolTip","elementOrigin","x","left","UIOffset","top","handleToggleClickOn","tooltip","handleToggleHoverOn","handleToggleHoverOff","handleResizeScroll","centerX","centerY","pageYOffset","pageXOffset","height","sqrt","isNaN","UICurrent","the_x","badgeOffsetX","_pointWidth","the_y","badgeOffsetY","elementOffset","COMPONENT_TEXT_CLASS","EVENT_BEFORE_DEACTIVATE","EVENT_DEACTIVATE","EVENT_AFTER_DEACTIVATE","Zone","formControl","_formControl","_killDyText","UIDyText","UIControl","files","deactivate","zone","FrameWork"],"mappings":"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"}