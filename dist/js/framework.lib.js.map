{"version":3,"file":"framework.lib.js","sources":["../../src/js/imports/core/settings.js","../../src/js/imports/util/validation.js","../../src/js/imports/classes/data-helper.js","../../src/js/imports/data-helper/dom.js","../../src/js/imports/data-helper/string.js","../../src/js/imports/util/ui.js","../../src/js/imports/core/initiator.js","../../src/js/imports/data-helper/event.js","../../src/js/imports/util/datahandler.js","../../src/js/imports/classes/component.js","../../src/js/imports/util/breakpoint.js","../../src/js/imports/accordion.js","../../src/js/imports/alert.js","../../src/js/imports/button.js","../../src/js/imports/dropdown.js","../../src/js/imports/data-helper/date.js","../../src/js/imports/form/form-calendar.js","../../src/js/imports/util/modifiers.js","../../src/js/imports/data-helper/array.js","../../src/js/imports/form/form-tags.js","../../src/js/imports/form.js","../../src/js/imports/lazy.js","../../src/js/imports/list-group.js","../../src/js/imports/modal.js","../../src/js/imports/module-grid.js","../../src/js/imports/switch.js","../../src/js/imports/tabs.js","../../src/js/imports/tooltip.js","../../src/js/imports/zone.js","../../src/js/framework.lib.js"],"sourcesContent":["const CORE_SETTINGS = {};\n\tCORE_SETTINGS.prefix = 'fw';\n\tCORE_SETTINGS.lazyLoad = true;\n\tCORE_SETTINGS.initializeModal = true;\n\tCORE_SETTINGS.initializeAccordion = true;\n\tCORE_SETTINGS.dynamicHash = true;\n\tCORE_SETTINGS.uiClass = `${CORE_SETTINGS.prefix}-ui`; //for styles\n\tCORE_SETTINGS.uiJsClass = CORE_SETTINGS.uiClass.replace('-','_'); // for scripting events and shit\n\nclass Settings {\n\n\tstatic modify(key,value){\n\t\tif(this.hasOwnProperty(key)){\n\t\t\tCORE_SETTINGS[key] = value;\n\t\t}\n\t}\n\n\tstatic get(key){\n\t\tconst toReturn = {\n\t\t\tprefix: CORE_SETTINGS.prefix,\n\t\t\tlazyLoad: CORE_SETTINGS.lazyLoad,\n\t\t\tinitializeModal: CORE_SETTINGS.initializeModal,\n\t\t\tinitializeAccordion: CORE_SETTINGS.initializeAccordion,\n\t\t\tdynamicHash: CORE_SETTINGS.dynamicHash,\n\t\t\tuiClass: CORE_SETTINGS.uiClass,\n\t\t\tuiJsClass: CORE_SETTINGS.uiJsClass,\n\t\t}\n\n\t\tif(key){\n\t\t\treturn toReturn[key];\n\t\t}else{\n\t\t\treturn toReturn;\n\t\t}\n\t}\n}\n\n\nexport default Settings;","//valid shits\nexport const DisableClasses = [\n\t'table-row-disabled',\n\t'tab-disabled',\n\t'btn-disabled',\n\t'input-disabled',\n\t'disabled'\n];\n\n// @TODO push instead of hard coding to arrays because\n\nexport const lookupResetToParentClass = [\n\t'input-group',\n\t'btn-group',\n];\n\nexport const lookupResetFromClosestComponent = [\n\t'dropdown',\n\t'modal-default',\n\t'modal-board',\n\t'switch',\n\t'alert',\n];\n\nexport const lookupResetFromClosestComponentUi = [\n\t//root component name, subcomponent mods\n\t'modal-default',\n\t'modal-board',\n\t'input-calendar',\n\t'input-tags',\n];\n\n\nexport const DateTimePreset = {\n\tHumanDate: {\n\t\tplaceholder: 'mm/dd/yyyy',\n\t\tpattern: /^\\d{2}\\/\\d{2}\\/\\d{4}$/,\n\t\ttemplate: 'mm/dd/yy'\n\t},\n\tHumanTime24: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tHumanTime12: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tValue: {\n\t\tplaceholder: 'yyyy-mm-dd',\n\t\tpattern: /^\\d{4}[-]\\d{2}[-]\\d{2}$/,\n\t\ttemplate: 'yy-mm-dd'\n\t},\n\tValueDateTimePreset:{\n\t\tplaceholder:\"yy-mm-ddThh:gg\",\n\t\tpattern:\"\",\n\t\ttemplate:\"yy-mm-ddThh:gg\"\n\t}\n};\n\nexport const dayNames = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Friday',\n\t'Saturday'\n];\n\nexport const dayNamesShort = [\n\t'Sun',\n\t'Mon',\n\t'Tue',\n\t'Wed',\n\t'Thu',\n\t'Fri',\n\t'Sat'\n];\n\nexport const dayNamesShorter = [\n\t'Su',\n\t'Mo',\n\t'Tu',\n\t'We',\n\t'Th',\n\t'Fr',\n\t'Sa'\n];\n\nexport const monthNames = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December'\n];\n\nexport const monthNamesShort = [\n\t'Jan',\n\t'Feb',\n\t'Mar',\n\t'Apr',\n\t'May',\n\t'Jun',\n\t'Jul',\n\t'Aug',\n\t'Sep',\n\t'Oct',\n\t'Nov',\n\t'Dec'\n];\n\n\n\t\n\n\nexport const Palette = [\n\t'base',\n\t'primary',\n\t'secondary',\n\t'accent',\n\t'neutral',\n\t'error',\n\t'caution',\n\t'success'\n];\n\n\n\n","class FwDataHelper {\n\tconstructor(data,dataParser){\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tdataParser = dataParser || function(dat){\n\t\t\treturn dat;\n\t\t}\n\n\t\tthis._FwData = dataParser(data);\n\n\t\treturn this.getData();\n\t}\n\n\tgetData() {\n\t\treturn this._FwData;\n\t}\n}\n\nexport default FwDataHelper;","import FwDataHelper from './../classes/data-helper.js';\n\n\nclass FwDom extends FwDataHelper {\n\n\tconstructor(data){\n\n\t\tsuper(\n\t\t\tdata,\n\t\t\t(dat) => {\n\t\t\t\t\n\t\t\t\tlet toReturn;\n\t\t\t\n\t\t\t\tif(typeof dat === 'string'){\n\t\t\t\t\t// console.log('looks like a selector');\n\t\t\t\t\tconst selection = document.querySelectorAll(dat);\n\t\t\n\t\t\t\t\tif(selection.length > 1){\n\t\t\t\t\t\ttoReturn = selection;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoReturn = document.querySelector(dat);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// console.log('looks like a dom obj');\n\t\t\t\t\ttoReturn = dat;\n\t\t\t\t}\n\t\n\t\t\t\treturn toReturn;\n\t\t\t}\n\t\t);\n\t\t\n\t}\n\n\t\n\n\tstatic slideDown(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'block');\n\n\t\treturn elem\n\t}\n\n\tstatic slideUp(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'none');\n\n\t\treturn elem\n\t}\n\n\tstatic getSiblings(elem){\n\t\telem = elem || super.getData();\n\t\treturn Array.prototype.filter.call(\n\t\t\telem.parentNode.children,\n\t\t\t(child)=>{\n\t\t\t\treturn child !== elem;\n\t\t\t}\n\t\t);\n\t}\n\t\n\tstatic isDescendant(parent, child) {\n\t\tvar node = child.parentNode;\n\t\twhile (node != null) {\n\t\t\tif (node == parent) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n   }\n\n\tstatic getAncestors(elem,selector){\n\t\telem = elem || super.getData();\n\t\tconst parents = [];\n\n\t\tlet firstChar;\n\n\t\tif (selector) {\n\t\t\tfirstChar = selector.charAt(0);\n\t\t}\n\n\t\t// Get matches\n\t\tfor (; elem && elem !== document; elem = elem.parentNode) {\n\n\t\t\tif (selector) {\n\t\t\t\t// If selector is a class\n\t\t\t\tif (firstChar === '.') {\n\t\t\t\t\tif (elem.classList.contains(selector.substr(1))) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is an ID\n\t\t\t\tif (firstChar === '#') {\n\t\t\t\t\tif (elem.id === selector.substr(1)) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a data attribute\n\t\t\t\tif (firstChar === '[') {\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.hasAttribute(selector.substr(1, selector.length - 1))\n\t\t\t\t\t) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a tag\n\t\t\t\tif (elem.tagName.toLowerCase() === selector) {\n\t\t\t\t\tparents.push(elem);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tparents.push(elem);\n\t\t\t}\n\n\t\t}\n\t\t// Return parents if any exist\n\t\tif (parents.length === 0) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn parents;\n\t\t}\n\t}\n\n\tstatic moveContents(elem,elementToMoveContentsTo){\n\t\telem = elem || super.getData();\n\t\tconst oldParent = elem;\n\t\tconst newParent = new FwDom(elementToMoveContentsTo);\n\n\t\tif(!elem && !elementToMoveContentsTo){\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (\n\t\t\tnewParent\n\t\t\t&& newParent !== oldParent) {\n\t\t\twhile (oldParent.childNodes.length > 0) {\n\t\t\t\tnewParent.appendChild(oldParent.childNodes[0]); \n\t\t\t}\n\t\t}\n\n\t\treturn elem;\n\t}\n\n\tstatic scrollToElem(elem,ToScrollTo,direction){\n\t\telem = elem || super.getData();\n\t\tif(!ToScrollTo){\n\t\t\treturn;\n\t\t}\n\n\t\tdirection = direction || 'y';\n\n\t\t\tconst methods =\n\t\t\t\tdirection == 'x'\n\t\t\t\t\t? ['scrollLeft', 'left']\n\t\t\t\t\t: ['scrollTop', 'top'];\n\n\t\t\tconst scrollOpts = {};\n\n\t\t\tscrollOpts[methods[1]] =\n\t\t\t\telem[methods[0]]\n\t\t\t\t- elem.getBoundingClientRect()[methods[1]]\n\t\t\t\t+ ToScrollTo.getBoundingClientRect()[methods[1]]\n\n\t\t\telem.scrollTo(scrollOpts);\n\n\t\t\treturn elem;\n\t}\n\n\tstatic RunFnForChildren(ancestorElem,selector,parentSelector,fn) { //@TODO wtf\n\n\t\tif(\n\t\t\tancestorElem\n\t\t\t&& selector\n\t\t\t&& parentSelector\n\t\t\t&& fn\t\n\t\t){\n\t\t\tlet children = ancestorElem.querySelectorAll(selector);\n\t\n\t\t\tchildren.forEach((child) => {\n\t\n\t\t\t\tif(\n\t\t\t\t\tchild.closest(parentSelector)\n\t\t\t\t\t&& (ancestorElem.isSameNode(child.closest(parentSelector)))\n\t\t\t\t){\n\t\t\t\t\tfn(child);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn ancestorElem;\n\t\t}\n\t}\n\t\n}\n\nexport default FwDom;","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwString extends FwDataHelper {\n\tconstructor(data){\n\t\tsuper(data);\n\t}\n\tstatic GetFileExtension (str) {\n\t\tstr = str.toString();\n\t\treturn str.split('.').pop();\n\t}\n\tstatic ToCamelCase (str) {\n\t\tstr = str.toString();\n\t\n\t\treturn str\n\t\t\t.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\n\t\t\t\treturn index == 0\n\t\t\t\t\t? word.toLowerCase()\n\t\t\t\t\t: word.toUpperCase();\n\t\t\t})\n\t\t\t.replace(/-|\\s/g, '');\n\t}\n\t\n\n\tstatic ToDashed(str) {\n\t\tstr = str.toString();\n\n\t\treturn FwString.ToCamelCase(str).replace( /([a-z]|[0-9])([A-Z])/g, '$1-$2' ).toLowerCase();\n\t}\n}\n\nexport default FwString;","\nimport Settings from './../core/settings.js';\nimport {lookupResetToParentClass,lookupResetFromClosestComponent,lookupResetFromClosestComponentUi} from './validation.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwString from './../data-helper/string.js';\n\nexport const UIPrefix = (componentName) => {\n\treturn `${componentName}-ui`;\n}\n\nexport const UIDynamicClass = `${Settings.get('uiJsClass')}_internal_toggle`;\n\nexport const UIBodyClass = {\n\tnoScroll: `body-no-scroll`,\n\tonDrag: `body-on-drag`,\n\tloading: `body-loading`,\n\tloaded: `body-loaded`,\n}\n//convert toggler if it's a dynamic chu so no sadness\nexport const UITriggerer = (triggerer,isGroupable) => {\n\ttriggerer = triggerer || false;\n\tisGroupable = isGroupable || false;\n\n\tlet toReturn;\n\n\tif (triggerer) {\n\t\tif ( isGroupable ){\n\t\t\treturn;\n\t\t} else if ( //calendar fix\n\t\t\ttriggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UIDynamicClass}`)\n\t\t) {\n\t\t\ttoReturn = triggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`);\n\n\t\t} else {\n\t\t\ttoReturn = triggerer;\n\t\t}\n\n\t\treturn toReturn;\n\t}\n}\n\n// case 'dropdown':\n// \tcase 'modal':\n// \tcase 'board':\n// \tcase 'switch':\n// \tcase 'alert-close':\n\nexport const UIToggled = (toggleMode,triggerer,selector) => {\n\ttriggerer = triggerer || false;\n\ttoggleMode = toggleMode || false;\n\tselector = selector || false;\n\n\tconst componentClass = `${FwString.ToDashed(\n\t\ttoggleMode\n\t\t\t.replace('-open', '')\n\t\t\t.replace('-close', '')\n\t)}`;\n\n\tif(!toggleMode){\n\t\treturn\n\t}\n\n\tconst selectorToMatch = selector\n\t\t? selector\n\t\t: `.${componentClass}`;\n\t\t// lookup_reset_to_parent\n\t\t// lookup_from_closest\n\n\n\tlet toReturn = null;\n\n\tif (triggerer) {\n\t\t//lookup by href\n\t\tif (\n\t\t\ttriggerer.hasAttribute('href')\n\t\t\t&& triggerer.getAttribute('href').startsWith('#')\n\t\t\t&& triggerer.getAttribute('href') !== '#'\n\t\t\t&& (\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t)\n\t\t\t\t&& document.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t).matches(selectorToMatch)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('toggle found by href');\n\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('href'));\n\n\t\t//lookup by data-href\n\t\t} else if (\n\t\t\ttriggerer.hasAttribute('data-href')\n\t\t\t&& triggerer.getAttribute('data-href').startsWith('#')\n\t\t\t&& triggerer.getAttribute('data-href') !== '#'\n\t\t\t&& (\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t)\n\t\t\t\t&& document.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t).matches(selectorToMatch)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('toggle found by data-href');\n\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('data-href'));\n\n\t\t//lookup by closest [data-toggle]\n\t\t} else if (\n\t\t\ttoggleMode\n\t\t\t&& triggerer\n\t\t\t\t.parentNode\n\t\t\t\t.closest(`[data-toggle-${toggleMode}]`)\n\t\t) {\n\t\t\t// console.warn('toggle searching closest data-toggle');\n\t\t\ttoReturn = UIToggled(\n\t\t\t\ttoggleMode,\n\t\t\t\ttriggerer.parentNode.closest(`[data-toggle-${toggleMode}]`)\n\t\t\t);\n\n\t\t//look up by tag `lookup_reset_to_parent`\n\t\t} else if (\n\t\t\ttoggleMode\n\t\t\t&& lookupResetToParentClass.filter(i => {\n\t\t\t\treturn triggerer.parentNode.matches(`.${i}`)\n\t\t\t}).length > 0\n\t\t) {\n\t\t\t// console.warn('toggle trigger was in group');\n\t\t\ttoReturn = UIToggled(\n\t\t\t\ttoggleMode,\n\t\t\t\ttriggerer.parentNode\n\t\t\t);\n\t\t} else {\n\t\t\tlet possibleSiblings = triggerer.nextElementSibling;\n\t\t\t\n\t\t\twhile (possibleSiblings) {\n\t\t\t\tif (possibleSiblings.matches(selectorToMatch)) {\n\t\t\t\t\t// console.warn('toggle trigger anybody whos a sibling');\n\t\t\t\t\treturn possibleSiblings;\n\t\t\t\t}\n\t\t\t\tpossibleSiblings =\n\t\t\t\t\tpossibleSiblings.nextElementSibling;\n\t\t\t}\n\t\t\ttoReturn = possibleSiblings;\n\t\t}\n\t}\n\n\tif (\n\t\t!toReturn\n\t\t&& lookupResetFromClosestComponent.filter((i)=> {\n\t\t\treturn i == componentClass\n\t\t})\n\t) {\n\t\t//look if theres an ancestor it can toggle. last prioroty\n\t\t// console.warn('has a ttrigger, looking for closest compopnent');\n\n\n\t\tif (\n\t\t\ttriggerer\n\t\t\t&& toggleMode\n\t\t\t&& (\n\t\t\t\tlookupResetFromClosestComponentUi.filter(i => {\n\t\t\t\t\treturn triggerer.parentNode.matches(`.${i}`)\n\t\t\t\t}).length > 0\n\t\t\t\t&& triggerer.parentNode.closest(`.${UIPrefix(componentClass)}`)\n\t\t\t)\n\t\t){\n\t\t\t// console.warn('found for a ui ancestor');\n\t\t\ttoReturn = triggerer.parentNode.closest(`.${componentClass}`);\n\t\t}else if(\n\t\t\ttriggerer\n\t\t\t&& toggleMode\n\t\t\t&& triggerer.parentNode.closest(selectorToMatch)\n\t\t){\n\t\t\t// console.warn('found for an ancestor');\n\t\t\ttoReturn = triggerer.parentNode.closest(selectorToMatch);\n\t\t}\n\t}\n\n\tif(!toReturn) {\n\t\t\n\t\tif (\n\t\t\twindow.location.hash !== ''\n\t\t\t&& document.querySelector(window.location.hash)\n\t\t\t&& document\n\t\t\t\t.querySelector(window.location.hash)\n\t\t\t\t.matches(selectorToMatch)\n\t\t) {\n\t\t\t// console.warn('no trigger but found the hash is a matching toggle');\n\t\t\ttoReturn = document.querySelector(window.location.hash);\n\t\t}\n\t}\n\n\treturn toReturn;\n}\n\nexport const UIChangeHash = (id) => {\n\tid = id || '';\n\n\tif (Settings.get('dynamicHash')) {\n\t\tconst idToGoTo = (id !== '' ? `#${id}` : null);\n\t\tif (idToGoTo) {\n\t\t\tif (window.history.pushState) {\n\t\t\t\twindow.history.pushState(\n\t\t\t\t\tnull,\n\t\t\t\t\tnull,idToGoTo\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.location.hash = idToGoTo;\n\t\t\t}\n\n\t\t} else {\n\t\t\tlet scrollV, scrollH;\n\t\t\tif (window.history.pushState)\n\t\t\t\twindow.history.pushState(\n\t\t\t\t\t\"\",\n\t\t\t\t\tdocument.title,\n\t\t\t\t\twindow.location.pathname + window.location.search\n\t\t\t\t);\n\t\t\telse {\n\t\t\t\t// Prevent scrolling by storing the page's current scroll offset\n\t\t\t\tscrollV = document.body.scrollTop;\n\t\t\t\tscrollH = document.body.scrollLeft;\n\n\t\t\t\twindow.location.hash = \"\";\n\n\t\t\t\t// Restore the scroll offset, should be flicker free\n\t\t\t\tdocument.body.scrollTop = scrollV;\n\t\t\t\tdocument.body.scrollLeft = scrollH;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const UIToggleGroup = (element, prefix, activatedClass, siblingSelector, resetterClass, noActiveClass,multipleClass) => {\n\tprefix = prefix || false;\n\n\tif(!prefix){\n\t\treturn;\n\t}\n\tsiblingSelector = siblingSelector || `.${prefix}`;\n\tactivatedClass = activatedClass || 'active';\n\tresetterClass = resetterClass || `${prefix}-group-toggle-reset`;\n\tnoActiveClass = noActiveClass || `${prefix}-group-toggle-allow-no-active`;\n\tmultipleClass = multipleClass || `${prefix}-group-toggle-multiple`;\n\n\tif(\n\t\telement.closest(siblingSelector)\n\t\t&& !element.classList.contains(prefix)\n\t){\n\t\telement = element.closest(siblingSelector);\n\t}\n\n\tif(!element) {\n\t\treturn;\n\t}\n\n\t//reset da resetti\n\tconst resetter = FwDom\n\t\t.getSiblings(element)\n\t\t.filter((butt) => {\n\t\t\treturn butt.classList.contains(resetterClass);\n\t\t});\n\tresetter.forEach((butt) => {\n\t\tbutt.classList.remove(activatedClass);\n\t});\n\n\t//dem siblongs\n\tconst selectorSiblings = FwDom\n\t\t.getSiblings(element)\n\t\t.filter((sibling) => {\n\t\t\treturn sibling.matches(siblingSelector);\n\t\t});\n\n\tif (\n\t\t!element.closest(`.${multipleClass}`)\n\t\t|| element.classList.contains(resetterClass)\n\t) {\n\t\tselectorSiblings.forEach((sibling) => {\n\t\t\tsibling.classList.remove(activatedClass);\n\t\t});\n\t}\n\n\tif (\n\t\t(\n\t\t\telement.closest(`.${multipleClass}`)\n\t\t\t&& selectorSiblings\n\t\t\t\t.filter((butt) => {\n\t\t\t\t\treturn butt.classList.contains(activatedClass);\n\t\t\t\t})\n\t\t\t\t.length > 0\n\t\t)\n\t\t|| element\n\t\t\t.closest(`.${noActiveClass}`)\n\t) {\n\t\telement.classList.toggle(activatedClass);\n\n\t} else {0\n\t\telement.classList.add(activatedClass);\n\t}\n}\n\nexport const UIPurge = (exempted,selector,callback) => {\n\t\n\tdocument.querySelectorAll(selector).forEach((elem) => {\n\n\t\tif (\n\t\t\t!exempted\n\t\t\t|| (\n\t\t\t\texempted\n\t\t\t\t&& elem !== exempted\n\t\t\t\t&& !elem.contains(exempted)\n\t\t\t )\n\t\t) {\n\t\t\tcallback(elem);\n\t\t}else{\n\t\t\t// console.log('exepmted',exempted);\n\t\t}\n\t});\n}","\nimport { UIBodyClass } from '../util/ui.js';\n\n\n class FwQueue {\n\tconstructor(){\n\t\tthis._on_load = [];\n\t\tthis._on_ready = [];\n\t\tthis._on_resize = [];\n\t\tthis._on_scroll = [];\n\t\tthis._on_rightAway = [];\n\t\tthis._on_init = [];\n\t}\n\n\tget on_load(){\n\t\treturn this._on_load;\n\t}\n\tget on_ready(){\n\t\treturn this._on_ready;\n\t}\n\tget on_resize(){\n\t\treturn this._on_resize;\n\t}\n\tget on_scroll(){\n\t\treturn this._on_scroll;\n\t}\n\tget on_rightAway(){\n\t\treturn this._on_rightAway;\n\t}\n\tget on_init(){\n\t\treturn this._on_init;\n\t}\n\tset on_load(fn){\n\t\tthis._on_load.push(fn);\n\t}\n\tset on_ready(fn){\n\t\tthis._on_ready.push(fn);\n\t}\n\tset on_resize(fn){\n\t\tthis._on_resize.push(fn);\n\t}\n\tset on_scroll(fn){\n\t\tthis._on_scroll.push(fn);\n\t}\n\tset on_rightAway(fn){\n\t\tthis._on_rightAway.push(fn);\n\t}\n\tset on_init(fn){\n\t\tthis._on_init.push(fn);\n\t}\n}\n\nconst INITIATOR_QUEUE = new FwQueue();\n\nlet is_started = false;\n\nclass Initiator {\n\t\n\tconstructor(){\n\t\tthis.resizeTimerInternal = null;\n\t\tthis.scrollTimerInternal = null;\n\t}\n\n\tstatic get isStarted(){\n\t\treturn is_started;\n\t}\n\n\tstatic set isStarted(val){\n\t\tis_started = val;\n\t}\n\n\tstatic get Q(){\n\t\treturn INITIATOR_QUEUE;\n\t}\n\n\t#execqt(fnsArray){\n\t\tfnsArray.forEach((fn) => {\n\t\t\tfn(); \n\t\t});\n\t}\n\n\tstatic isDocReady(fn){\n\t\tif (document.readyState != 'loading') {\n\t\t\tfn();\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t\t}\n\t}\n\n\t#runRightAway(){\n\t\tthis.#execqt(Initiator.Q.on_rightAway);\n\t}\n\t\n\t#runReady(){\n\t\tthis.#execqt(Initiator.Q.on_ready);\n\t}\n\t\n\t#runLoad(){\n\t\tthis.#execqt(Initiator.Q.on_load);\n\t}\n\n\t#runResize() {\n\t\tconst ini = this;\n\t\tclearTimeout(ini.resizeTimerInternal);\n\t\tini.resizeTimerInternal = setTimeout(() => {\n\t\t\tini.#execqt(Initiator.Q.on_resize);\n\t\t}, 100);\n\t}\n\t\n\t#runScroll() {\n\t\tconst ini = this;\n\t\tclearTimeout(ini.scrollTimerInternal);\n\t\tini.scrollTimerInternal = setTimeout(() => {\n\t\t\tini.#execqt(Initiator.Q.on_scroll);\n\t\t}, 100);\n\t}\n\n\tstatic setState(mode) {\n\t\tmode = mode || 'complete';\n\n\t\tconst body = document.querySelector('body');\n\n\t\tswitch(mode){\n\t\t\tcase 'loading':\n\t\t\t\tbody\n\t\t\t\t\t.classList\n\t\t\t\t\t.remove(UIBodyClass.loaded);\n\t\t\t\tbody\n\t\t\t\t\t.classList\n\t\t\t\t\t.add(UIBodyClass.loading);\n\t\t\t\tbreak;\n\t\t\tcase 'complete':\n\t\t\tdefault:\n\t\t\t\tsetTimeout(()=>{ \n\t\t\t\t\tbody\n\t\t\t\t\t\t.classList\n\t\t\t\t\t\t.remove(UIBodyClass.loading);\n\t\t\t\t\tbody\n\t\t\t\t\t\t.classList\n\t\t\t\t\t\t.add(UIBodyClass.loaded);\n\t\t\t\t},100);\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\tstatic setLoadingState(){\n\t\tInitiator.setState('loading');\n\t}\n\n\tstatic setCompleteState(){\n\t\tInitiator.setState('complete');\n\t}\n\n\tstatic start(){\n\t\t//component events\n\t\tconst ini = new Initiator();\n\n\t\t\tInitiator.isStarted = true;\n\n\t\t\tini.#execqt(Initiator.Q.on_init);\n\n\t\t\tini.#runRightAway();\n\n\t\t\tInitiator.isDocReady(()=>{\n\t\t\t\tini.#runReady();\n\t\t\t\tInitiator.setCompleteState();\n\t\t\t});\n\n\t\t\twindow.addEventListener('load', () => {\n\t\t\t\tini.#runLoad()\n\t\t\t});\n\t\t\twindow.addEventListener('resize', () => {\n\t\t\t\tini.#runResize()\n\t\t\t});\n\t\t\twindow.addEventListener('scroll', () => {\n\t\t\t\tini.#runScroll()\n\t\t\t});\n\t}\n\n\tstatic restart(){\n\t\tif(!Initiator.isStarted){\n\t\t\treturn;\n\t\t}\n\t\tconst ini = new Initiator();\n\n\t\tInitiator.setLoadingState();\n\t\tini.#runRightAway();\n\t\tini.#runReady();\n\t\tInitiator.setCompleteState();\n\t\tini.#runLoad();\n\t\tconsole.info('frameWork restarted');\n\t}\n\n}\n\nInitiator.start();\n\nexport default Initiator;\n","\nimport Settings from './../core/settings.js';\nimport FwDataHelper from './../classes/data-helper.js';\n// const customEvents = [];\nconst NativeEvents = [\n\t'click',\n\t'dblclick',\n\t'mouseup',\n\t'mousedown',\n\t'contextmenu',\n\t'mousewheel',\n\t'DOMMouseScroll',\n\t'mouseover',\n\t'mouseout',\n\t'mousemove',\n\t'selectstart',\n\t'selectend',\n\t'keydown',\n\t'keypress',\n\t'keyup',\n\t'paste',\n\t'orientationchange',\n\t'touchstart',\n\t'touchmove',\n\t'touchend',\n\t'touchcancel',\n\t'pointerdown',\n\t'pointermove',\n\t'pointerup',\n\t'pointerleave',\n\t'pointercancel',\n\t'gesturestart',\n\t'gesturechange',\n\t'gestureend',\n\t'focus',\n\t'blur',\n\t'change',\n\t'reset',\n\t'select',\n\t'submit',\n\t'focusin',\n\t'focusout',\n\t'load',\n\t'unload',\n\t'beforeunload',\n\t'resize',\n\t'move',\n\t'DOMContentLoaded',\n\t'readystatechange',\n\t'error',\n\t'abort',\n\t'scroll'\n  ];\n  \n\nclass FwEvent extends FwDataHelper {\n\t\n\n\tstatic get cusEventOptsDef () {\n\t\treturn {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t}\n\t}\n\n\tstatic classNester(selector){\n\t\tif(selector === '*' || typeof selector !== 'string'){\n\t\t\treturn selector;\n\t\t}else{\n\t\t\tconst selArr = selector.split(',');\n\t\t\tlet toReturn  = selector;\n\t\t\tselArr.forEach(sel => {\n\n\t\t\t\t\n\t\t\t\ttoReturn += `, ${sel} *`;\n\t\t\t});\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\n\tstatic addListener(parent, evt, selectorOrParentFallback, handler){\n\t\tparent = parent || false;\n\t\t\n\t\t// runNative = runNative !== false || runNative == true; //no apipipi\n\t\t//dai mo ilaag sa ddocument ta maerror si matches habo nya ki element\n\n\t\tconst elemToAddTo = parent || selectorOrParentFallback;\n\t\tconst evtNoApi = evt.split(`.${Settings.get('prefix')}`)[0];\n\t\tconst isNative = NativeEvents.includes(evt);\n\t\tif(!isNative){\n\t\t\telemToAddTo.addEventListener(\n\t\t\t\tevtNoApi,\n\t\t\t\t(event)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t!parent\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tparent\n\t\t\t\t\t\t\t&& event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t\t\t\t\t\t// && event.target.closest(selectorOrParentFallback)\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\tFwEvent.trigger(\n\t\t\t\t\t\t\tevent.target,\n\t\t\t\t\t\t\tevt,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\t\tnativeEvt:event,\n\t\t\t\t\t\t\t\t\t_selection: FwEvent.classNester(selectorOrParentFallback)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\telemToAddTo.addEventListener(\n\t\t\tevt,\n\t\t\t(event) => {\n\t\t\t\tif (\n\t\t\t\t\t!parent\n\t\t\t\t\t|| (\n\t\t\t\t\t\tparent\n\t\t\t\t\t\t// && event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t\t\t\t\t&& event.target.closest(selectorOrParentFallback)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tif(!isNative){\n\t\t\t\t\t\thandler(event.detail.nativeEvt);\n\t\t\t\t\t}else{\n\t\t\t\t\t\thandler(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\n\t\t\n\t\t// //stable no api\n\t\t// elemToAddTo.addEventListener(\n\t\t// \tevtNoApi,\n\t\t// \t(event)=>{\n\t\t// \t\tif(\n\t\t// \t\t\t!parent\n\t\t// \t\t\t|| (\n\t\t// \t\t\t\tparent\n\t\t// \t\t\t\t&& event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t// \t\t\t\t// && event.target.closest(selectorOrParentFallback)\n\t\t// \t\t\t)\n\t\t// \t\t){\n\t\t// \t\t\thandler(event);\n\t\t// \t\t}\n\t\t// \t},\n\t\t// \ttrue\n\t\t// );\t\n\t}\n\t\n\n\n\tstatic translateToNative(event){\n\n\t}\n\n\tstatic trigger(el, evt, customEventOpts) {\n\t\tlet event;\n\t\tel = el || document;\n\t\tif (NativeEvents.includes(evt)) {\n\t\t\tevent = document.createEvent('HTMLEvents');\n\t\t\tevent.initEvent(evt, true, false);\n\t\t} else {\n\t\t\tcustomEventOpts = customEventOpts || false;\n\t\t\tif(customEventOpts) {\n\t\t\t\tevent = new CustomEvent(evt, customEventOpts);\n\t\t\t}else{\n\t\t\t\tevent = new CustomEvent(evt)\n\t\t\t}\n\t\t}\n\t\tel.dispatchEvent(event);\n\t\n\t\t// return event;\n\t}\n\n\n}\n\nexport default FwEvent;\n\n","\n\nconst _dataobj = (() => {\n\tconst storage = {};\n\tlet id = 1;\n\treturn {\n\t\t_set(element, key, data) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\telement.fwKeys = {\n\t\t\t\tkey,\n\t\t\t\tid\n\t\t\t}\n\t\t\tid++\n\t\t\t}\n\n\t\t\tstorage[element.fwKeys.id] = data\n\t\t},\n\t\t_get(element, key) {\n\t\t\tif (!element || typeof element.fwKeys === 'undefined') {\n\t\t\treturn null\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\treturn storage[keyProperties.id]\n\t\t\t}\n\n\t\t\treturn null\n\t\t},\n\t\t_remove(element, key) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\treturn\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\tdelete storage[keyProperties.id]\n\t\t\tdelete element.fwKeys\n\t\t\t}\n\t\t}\n\t}\n})()\n\nconst DataHandler = {\n\tset(elm, key, data) {\n\t_dataobj._set(elm, key, data)\n\t},\n\tget(elm, key) {\n\treturn _dataobj._get(elm, key)\n\t},\n\tremove(elm, key) {\n\t_dataobj._remove(elm, key)\n\t}\n}\n\n\nexport default DataHandler;","import DataHandler from '../util/datahandler.js';\nimport { DisableClasses } from '../util/validation.js';\nimport { UIDynamicClass } from '../util/ui.js';\n\n/*\nNAME\nTOGGLE_MODE\nDATA_KEY\nCONTAINED_BY_NAME\n\n\tcase 'dropdown':\n\tcase 'modal':\n\tcase 'board':\n\tcase 'switch':\n\tcase 'alert-close':\n\nFwToggleMode\n\n*/\n\nclass FwComponent {\n\tconstructor(element,props) {\n\t\tif (!element) {\n\t\t\treturn\n\t\t}\n\n\t\tDataHandler.set(element, this.constructor.DATA_KEY, this);\n\t\tthis.element = element;\n\n\t\tif(\n\t\t\ttypeof props === 'object'){\n\t\t\tfor (let key in props) {\n\t\t\t\tthis[key] = props[key];\n\t\t\t}\n\t\t}\n\t\n\t}\n\n\tdispose() {\n\t\tDataHandler.delete(this.element, this.constructor.DATA_KEY, this);\n\t\tthis.element = null;\n\t}\n\n\tstatic getInstance(element) {\n\t\treturn DataHandler.get(element, this.DATA_KEY);\n\t}\n\n\tUIEl(elem){\n\t\tif(elem){\n\t\t\tthis._resetUIEl(elem);\n\t\t}\n\t\treturn this.element;\n\t}\n\n\t_resetUIEl(element){\n\t\tif(element){\n\t\t\tthis.element = element\n\t\t}else{\n\t\t\tthrow new Error('Needs a valid element to reset component UI root element');\n\t\t}\n\t}\n\n\t_runFn (callback) {\n\t\tif (callback) {\n\t\t\tlet fn;\n\t\t\ttry {\n\t\t\t\tfn = eval(/^[^(]+/.exec(callback)[0]);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t\tif (typeof fn === 'function') {\n\t\t\t\teval(callback);\n\t\t\t}\n\t\t}\n\t}\n\n\t_setInitState(beforeEvent,happeningEvent,afterEvent,callback){\n\t\t\n\t\tcallback = callback || false;\n\n\t\tif(callback){\n\t\t\tFwEvent.trigger(element,beforeEvent);\n\t\t\tFwEvent.trigger(element,happeningEvent);\n\t\t\t\n\t\t\tcallback(this.element);\n\n\t\t\tFwEvent.trigger(element,afterEvent);\n\t\t}\n\t}\n\n\tstatic _parseArgs (arr, defaults) {\n\n\t\tconst args = {};\n\t\n\t\tfor (let prop in defaults) {\n\t\t\tif(\n\t\t\t\t(\n\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t&& arr[prop] !== ''\n\t\t\t\t)\n\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t){\n\t\t\t\targs[prop] = defaults[prop].value;\n\t\t\t}else{\n\t\t\t\targs[prop] = defaults[prop];\n\t\t\t}\n\t\t}\n\t\n\t\tfor (let prop in arr) {\n\t\t\tif (\n\t\t\t\tarr.hasOwnProperty(prop)\n\t\t\t\t&& arr[prop] !== undefined\n\t\t\t\t&& arr[prop] !== null\n\t\t\t\t&& arr[prop] !== ''\n\t\t\t) {\n\t\t\t\t// Push each value from `obj` into `extended`\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t)\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('parser')\n\t\t\t\t){\n\t\t\t\t\targs[prop] = defaults[prop].parser(arr[prop]);\n\t\t\t\t}else{\n\t\t\t\t\targs[prop] = arr[prop];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// catch boolean\n\t\t\t\tif (args[prop] == 'false' || args[prop] == 'true') {\n\t\t\t\t\targs[prop] = args[prop] == 'true' ? true : false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn args;\n\t}\n\n\tstatic isDisabled (elem){\n\t\tif(!elem){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet toReturn = false;\n\n\t\tif (elem.closest('[disabled]') || elem.matches(':disabled')) {\n\t\t\ttoReturn = true;\n\t\t}\n\n\t\tDisableClasses.forEach((classString) => {\n\t\t\tif (elem.closest(`.${classString}`) && !toReturn) {\n\t\t\t\ttoReturn = true;\n\t\t\t}\n\t\t});\n\n\t\treturn toReturn;\n\t}\n\tstatic isDynamic(elem){\t\n\t\treturn elem.classList.contains(UIDynamicClass)\n\t} \n\n\t\n}\n\nexport default FwComponent;","export const BrValue = {\n\txxs: 0,\n\txs:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-xs')\n\t\t)\n\t\t|| 600,\n\tsm:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-sm')\n\t\t)\n\t\t|| 1200,\n\tmd:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-md')\n\t\t)\n\t\t|| 1600,\n\tlg:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-lg')\n\t\t)\n\t\t|| 1800,\n\txl: 9999999\n};\n\nexport const BrTag = Object.keys(BrValue);\n// Br_to_loop =  ['xs','sm','md','lg'];\n\nexport const BrMobileMax =\nparseFloat(\n\tgetComputedStyle(\n\t\tdocument.documentElement\n\t).getPropertyValue('--fw-br-mobile-max')\n)\n|| 'sm';\n\nexport const ValidateBr = (breakpoint, mode) => {\n\tmode = mode || 'below'; //below,within,above\n\tconst currIndex = BrTag.indexOf(breakpoint);\n\n\tswitch (mode) {\n\t\tcase 'below': //max-width\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<= BrValue[breakpoint]\n\t\t\t);\n\n\t\tcase 'within':\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<=BrValue[breakpoint]\n\t\t\t\t&& document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t);\n\n\t\tcase 'above':\n\t\t\treturn currIndex > 0\n\t\t\t\t? document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t\t: document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex]];\n\t}\n};","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UIChangeHash } from './util/ui.js';\nimport {BrMobileMax,ValidateBr} from './util/breakpoint.js';\n\n\nconst NAME = 'accordion';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `open`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_HASHCHANGE = `hashchange${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Accordion extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\telement = element || UIToggled(TOGGLE_MODE) || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? triggerer\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tchangeHash: 'true',\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl()\n\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tAccordion.configDefaults\n\t\t);\n\t}\n\n\tget _isValidWithinQuery() {\n\t\treturn !(\n\t\t\tsuper.UIEl().classList.contains(`${NAME}-mobile`)\n\t\t\t&& !ValidateBr(BrMobileMax, 'above')\n\t\t)\n\t}\n\n\tget _isWithinGroupMultiple () {\n\t\treturn this.UIGroot && this.UIGroot.classList.contains(`${NAME}-group-multiple`)\n\t}\n\n\tget _isWithinAllowNoActive() {\n\t\treturn this.UIGroot && this.UIGroot.classList.contains(`${NAME}-group-allow-no-active`)\n\t}\n\n\tget _probablyToggle() {\n\t\tlet toReturn = [];\n\n\t\tconst selection = document.querySelectorAll(\n\t\t\t`[data-toggle-${TOGGLE_MODE}][href=\"#${this._id}\"],\n\t\t\t[data-toggle-${TOGGLE_MODE}][data-href=\"#${this._id}\"]`\n\t\t);\n\n\t\tif(selection.length) {\n\t\t\ttoReturn = selection;\n\t\t}\n\n\t\treturn toReturn;\n\n\t}\n\n\tget _id(){\n\t\treturn super.UIEl().hasAttribute('id')\n\t\t\t? super.UIEl().getAttribute('id')\n\t\t: false;\n\t}\n\n\t_siblicide(){\n\n\t\tif ( !this._isWithinGroupMultiple ) {\n\t\t\tFwDom.RunFnForChildren(\n\t\t\t\tthis.UIGroot,\n\t\t\t\t`[data-toggle-${TOGGLE_MODE}],.${COMPONENT_CLASS}`,\n\t\t\t\t`.${COMPONENT_CLASS}-group`,\n\t\t\t\t(accBbies)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& (accBbies !== this.triggerer)\n\t\t\t\t\t\t\t&& (accBbies !== super.UIEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\t!this.triggerer\n\t\t\t\t\t\t\t&& (accBbies !== super.UIEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\taccBbies.classList.remove(ACTIVATED_CLASS)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\t//which came first the accordion-gruoup or the accordiiinbsbob?? the actual bitch none of that accordion-group shit\n\tget UIGroot () {\n\t\t\tlet toReturn = super.UIEl().parentNode.closest(`.${COMPONENT_CLASS},.${COMPONENT_CLASS}-group`);\n\n\t\t\t//has to actually be accordion-group closest before accordion\n\t\t\tif(\n\t\t\t\t!toReturn\n\t\t\t\t|| (\n\t\t\t\t\ttoReturn\n\t\t\t\t\t&& !toReturn.matches(`.${COMPONENT_CLASS}-group`) //***\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\n\t\t\treturn toReturn;\n\t}\t\n\n\tclose(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\t\t//is not within an accordion group that needs one of them open \n\t\t\tif ( !this.UIGroot || this._isWithinAllowNoActive ) {\n\n\t\t\t\t\n\t\t\t\ttriggerer && triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t});\n\n\t\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\n\t\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\n\t\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\t\tUIChangeHash('');\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t\t}\n\t\t}\n\t}\n\n\topen(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tthis._siblicide();\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\t\n\t\t\t\ttriggerer && triggerer.classList.add(ACTIVATED_CLASS);\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.add(ACTIVATED_CLASS);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\tUIChangeHash(this._id);\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t\t}\n\t\t\n\t}\n\n\n\n\ttoggle(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(elem,triggerer);\n\t\t}else{\n\t\t\tthis.open(elem,triggerer);\n\t\t}\n\t}\n\n\tstatic handleToggler() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst accordion = new Accordion(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target),\n\t\t\t\t\te.target\n\t\t\t\t);\n\n\t\t\t\taccordion.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleHash() {\n\t\treturn () => {\n\t\t\tif(Settings.get('initializeAccordion')){\n\t\t\t\tconst accordion = new Accordion();\n\t\t\t\taccordion.open();\n\t\t\t};\n\t\t}\n\t}\n\n\tstatic initListeners() {\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]`,\n\t\t\tAccordion.handleToggler()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tnull,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\twindow,\n\t\t\tAccordion.handleHash()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Accordion.handleHash();\n\t}\n\t\n}\n\nexport default Accordion;\n\nAccordion.initListeners();\n\n","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled } from './util/ui.js';\n\n\nconst NAME = 'alert';\nconst TOGGLE_MODE = `${NAME}-close`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\nclass Alert extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tclose(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\n\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\telement.parentNode.removeChild(element);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t}\n\n\tstatic closeAll(){\n\t\tconst selector = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\tif (selector.length) {\n\t\t\tselector.forEach((instance) => {\n\t\t\t\tif (\n\t\t\t\t\tinstance.querySelectorAll('[data-toggle-alert-close]').length\n\t\t\t\t\t|| instance.classList.contains(`${NAME}-closeable`)\n\t\t\t\t) {\n\t\t\t\t\tconst alertInstance = new Alert(instance);\n\t\t\t\t\talertInstance.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tstatic handleClose() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst alert = new Alert( UIToggled(TOGGLE_MODE,e.target) );\n\t\t\t\talert.close();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleCloseAll() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tAlert.closeAll()\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]`,\n\t\t\tAlert.handleClose()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}-all]`,\n\t\t\tAlert.handleCloseAll()\n\t\t);\n\t}\n}\n\nexport default Alert;\n\nAlert.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'btn';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass Button extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(element,EVENT_TOGGLE);\n\t\tUIToggleGroup(element, NAME);\n\t\tFwEvent.trigger(element,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst button = new Button( e.target );\n\t\t\t\tbutton.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS}-group-toggle > .${COMPONENT_CLASS}`,\t\n\t\t\tButton.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default Button;\n\nButton.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UITriggerer,UIPurge, UIDynamicClass } from './util/ui.js';\n\nconst NAME = 'dropdown';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_PURGER_CLASS = `${COMPONENT_CLASS}-purger`;\nconst ACTIVATED_CLASS = `open`;\n\nconst NAV_ANCESTOR = `li, .nav-item`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\nconst EVENT_FOCUS = `focus${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Dropdown extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? triggerer\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tmaxHeight: null\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t) || this.element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t),\n\t\t\t\t\tmaxHeight:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t\t) || this.element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t\t),\n\t\t\tDropdown.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UIElNavcestor() {\n\t\treturn this.element.closest(NAV_ANCESTOR);\n\t}\n\n\tget UIElUncles() {\n\t\tif(this.UIElNavcestor){\n\t\t\treturn FwDom.getSiblings(this.UIElNavcestor)\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn sibling.matches(\n\t\t\t\t\t\tNAV_ANCESTOR\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\n\tclose(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\n\t\tthis.setDimensions(\n\t\t\tnull,\n\t\t\tDropdown.configDefaults\n\t\t);\n\t\n\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\ttriggerer\n\t\t\t&& triggerer.classList.remove(ACTIVATED_CLASS);\n\t\tthis.UIElNavcestor\n\t\t\t&& this.UIElNavcestor.classList.remove(ACTIVATED_CLASS);\n\t\t\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t}\n\n\topen(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\t\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\n\t\tDropdown.purge(element);\n\t\n\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\tthis.setDimensions();\n\n\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\ttriggerer\n\t\t\t&& triggerer.classList.add(ACTIVATED_CLASS);\n\n\t\t// if(this.UIElUncles){\n\t\t// \tthis.UIElUncles.forEach((uncle) => {\n\t\t// \t\tuncle.classList.remove(ACTIVATED_CLASS);\n\t\t// \t});\n\t\t// }\n\n\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t}\n\n\ttoggle(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\ttriggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UIDynamicClass}`)\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(element,triggerer);\n\t\t}else{\n\t\t\tthis.open(element,triggerer);\n\t\t}\n\t}\n\t\n\n\tsetDimensions(elem,args){\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\targs = args || this.args;\n\n\t\tif (args.width) {\n\t\t\telement.style.width = args.width;\n\t\t}\n\n\t\tif (args.maxHeight) {\n\t\t\telement.style.maxHeight = args.maxHeight;\n\t\t}\n\t}\n\n\tstatic purge(exempted) {\n\t\tUIPurge(\n\t\t\texempted,\n\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\t(elem) => {\n\t\t\t\tnew Dropdown(elem).close();\n\t\t\t}\n\t\t);\n\t}\n\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\t\t\t\tdropdown.toggle();\n\t\t\t}\n\t\t}\n\t}\n\tstatic handleFocusOpen(i) {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.target.blur();\n\t\t\t}else{\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\n\t\t\t\tdropdown.open();\n\t\t\t\ttriggerer.classList.add('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\tstatic handleBlurClose() {\n\t\treturn (e) => {\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdropdown.close();\n\t\t\t\t}, 200);\n\t\t\t\ttriggerer.classList.remove('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(isPurger) {\n\t\tisPurger = isPurger || false;\n\t\t\n\n\t\treturn (e) => {\n\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\tisPurger\n\t\t\t\t\t|| (\n\t\t\t\t\t\t!isPurger\n\t\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE}]`)\n\t\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tDropdown.purge();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]:not(input):not([contenteditable]):not(.${Settings.get('uiJsClass')})`,\n\t\t\tDropdown.handleToggle()\n\t\t);\n\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_FOCUS,\n\t\t\t`input[data-toggle-${TOGGLE_MODE}], *[contenteditable][data-toggle-${TOGGLE_MODE}], .${Settings.get('uiJsClass')}[data-toggle-${TOGGLE_MODE}] [contenteditable]`,\n\t\t\tDropdown.handleFocusOpen()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\t`input[data-toggle-${TOGGLE_MODE}], *[contenteditable][data-toggle-${TOGGLE_MODE}], .${Settings.get('uiJsClass')}[data-toggle-${TOGGLE_MODE}] [contenteditable]`,\n\t\t\tDropdown.handleBlurClose()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*, .${COMPONENT_PURGER_CLASS}`,\n\t\t\tDropdown.handleUniversalPurge()\n\t\t);\n\t}\n}\n\n\nexport default Dropdown;\n\nDropdown.initListeners();","import FwDataHelper from './../classes/data-helper.js';\nimport { \n\tDateTimePreset,\n\tdayNames,\n\tdayNamesShort,\n\tmonthNames,\n\tmonthNamesShort,\n} from '../util/validation';\n\nclass FwDate extends FwDataHelper {\n\n\tstatic toParsed (d){\n\t\n\t\tif (d) {\n\n\t\t\tlet yr,\n\t\t\t\tmo,\n\t\t\t\tdy,\n\t\t\t\thr,\n\t\t\t\tmn,\n\t\t\t\tdateArr = [],\n\t\t\t\ttimeArr = [];\n\t\t\t\n\t\t\tif (Object.prototype.toString.call(d) === '[object Date]') {\n\t\t\t\t//make a new date out of its methods because js will think u are referring to the same date everythere and ur math becomes a hellhole... dont.. hOE\n\t\t\t\tyr = d.getFullYear() || null;\n\t\t\t\tmo = d.getMonth() || null;\n\t\t\t\tdy = d.getDate() || null;\n\t\t\t\thr = d.getHours() || null;\n\t\t\t\tmn = d.getMinutes() || null;\n\t\t\t\t\n\t\t\t} else {\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.Value.pattern\n\t\t\t\t);\n\t\t\t\tconst isValid = pattern.test(d);\n\t\n\t\t\t\tif (isValid) {\n\t\t\t\t\tlet DateTimePresetArr = d.split('T') || [];\n\t\n\t\t\t\t\t//date\n\t\t\t\t\tif (DateTimePresetArr[0]) {\n\t\t\t\t\t\tdateArr = DateTimePresetArr[0].split('-');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t//time\n\t\t\t\t\tif (DateTimePresetArr[1]) {\n\t\t\t\t\t\ttimeArr = DateTimePresetArr[1].split(':');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tyr = parseInt(dateArr[0]) || null;\n\t\t\t\t\tmo = parseInt(dateArr[1] - 1) || null;\n\t\t\t\t\tdy = parseInt(dateArr[2]) || null;\n\t\t\t\t\thr = parseInt(timeArr[0]) || null;\n\t\t\t\t\tmn = parseInt(timeArr[1]) || null;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tlet toReturn = false;\n\t\n\t\t\tif (\n\t\t\t\tObject.prototype.toString.call(\n\t\t\t\t\tnew Date(yr, mo, dy, hr, mn)\n\t\t\t\t) == '[object Date]'\n\t\t\t) {\n\t\t\t\ttoReturn = new Date(yr, mo, dy, hr, mn);\n\t\t\t}\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\t\n\tstatic toHuman (date,format) {\n\t\tconst d = FwDate.toParsed(date);\n\t\tformat = format || DateTimePreset.HumanDate.template;\n\t\n\t\tif (d) {\n\t\t\tlet iFormat,\n\t\t\t\toutput = '',\n\t\t\t\tliteral = false;\n\t\n\t\t\t// Check whether a format character is doubled\n\t\t\tconst lookAhead = (match) => {\n\t\t\t\t\tlet matches =\n\t\t\t\t\t\tiFormat + 1 < format.length\n\t\t\t\t\t\t&& format.charAt(iFormat + 1) === match;\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tiFormat++;\n\t\t\t\t\t}\n\t\t\t\t\treturn matches;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a number, with leading zero if necessary\n\t\t\t\tformatNumber = (match, value, len) => {\n\t\t\t\t\tlet num = '' + value;\n\t\t\t\t\tif (lookAhead(match)) {\n\t\t\t\t\t\twhile (num.length < len) {\n\t\t\t\t\t\t\tnum = '0' + num;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn num;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a name, short or long as requested\n\t\t\t\tformatName = (match, value, shortNames, longNames) => {\n\t\t\t\t\treturn lookAhead(match)\n\t\t\t\t\t\t? longNames[value]\n\t\t\t\t\t\t: shortNames[value];\n\t\t\t\t};\n\t\t\t\t\n\t\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\n\t\t\t\tif (literal) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tformat.charAt(iFormat) === \"'\" && !lookAhead(\"'\")\n\t\t\t\t\t) {\n\t\t\t\t\t\tliteral = false;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt(iFormat);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\t\tcase 'd': //date number\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'd',\n\t\t\t\t\t\t\t\td.getDate(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'D': //day of the week\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'D',\n\t\t\t\t\t\t\t\td.getDay(),\n\t\t\t\t\t\t\t\tdayNamesShort,\n\t\t\t\t\t\t\t\tdayNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'o': //day of year hmm\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'o',\n\t\t\t\t\t\t\t\tMath.round(\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\t\t\t\td.getDate()\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t\t- new Date(\n\t\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t/ 86400000\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm': //month\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'm',\n\t\t\t\t\t\t\t\td.getMonth() + 1,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'M': //month but name\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'M',\n\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\tmonthNamesShort,\n\t\t\t\t\t\t\t\tmonthNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'y': //year\n\t\t\t\t\t\t\toutput += lookAhead('y')\n\t\t\t\t\t\t\t\t? d.getFullYear()\n\t\t\t\t\t\t\t\t: (d.getFullYear() % 100 < 10\n\t\t\t\t\t\t\t\t\t\t? '0'\n\t\t\t\t\t\t\t\t\t\t: '') +\n\t\t\t\t\t\t\t\t(d.getFullYear() % 100);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'H': //12 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'H',\n\t\t\t\t\t\t\t\td.getHours() % 12 || 12,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'h': //24 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'h',\n\t\t\t\t\t\t\t\td.getHours(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'i': //minute\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\td.getMinutes(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'a': //am /pm\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'pm' : 'am';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'A': //AM/PM\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'PM' : 'AM';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif (lookAhead(\"'\")) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt(iFormat);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic toVal(date) {\n\t\tconst d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\treturn this.toHuman(\n\t\t\t\td,\n\t\t\t\tDateTimePreset.Value.template\n\t\t\t);\n\t\t}\n\t}\n\n\tstatic adjacentMonth (date,offsetByMonth, dateOverride) {\n\t\tlet d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\tdateOverride = dateOverride || null;\n\t\n\t\t\tconst currMonth = d.getMonth(),\n\t\t\t\tcurrYear = d.getFullYear(),\n\t\t\t\tnewMonth = (() => {\n\t\t\t\t\tlet toReturn;\n\t\t\t\t\tif (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 > 12\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) - 12;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) + 12;\n\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoReturn = (currMonth + offsetByMonth) % 12;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})(),\n\t\n\t\t\t\tnewYear = (() => {\n\t\t\t\t\tconst defOffset = parseInt(offsetByMonth / 12);\n\t\t\t\t\tlet toReturn = currYear + defOffset;\n\t\n\t\t\t\t\t//offset to adjacent year\n\t\t\t\t\tif (\n\t\t\t\t\t\toffsetByMonth < 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn -= 1;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\toffsetByMonth > 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) > 11\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn += 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})()\n\t\t\t\t;\n\t\n\t\t\td.setMonth(newMonth);\n\t\t\td.setFullYear(newYear);\n\t\n\t\t\tif (dateOverride) {\n\t\t\t\td.setDate(dateOverride);\n\t\t\t}\n\t\n\t\t\treturn d;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport default FwDate;","import Settings from './../core/settings.js';\nimport Initiator from './../core/initiator.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwDate from './../data-helper/date.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UIPrefix,UIDynamicClass } from '../util/ui.js';\nimport { DateTimePreset, dayNamesShorter, monthNamesShort } from '../util/validation.js';\n\nimport Dropdown from './../dropdown.js';\n\nconst NAME = 'formCalendar';\nconst ARG_ATTRIBUTE_NAME = 'calendar';\nconst COMPONENT_CLASS = `input-calendar`;\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nclass Calendar extends FwComponent {\n\t\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUIValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UIValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tget theValue() {\n\t\treturn super.UIEl().value\n\t\t\t? FwDate.toVal(super.UIEl().value)\n\t\t\t: false;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\n\t\t\tsuper.UIEl().setAttribute('value', FwDate.toVal(theValue));\n\t\t\tsuper.UIEl().value = FwDate.toVal(theValue);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst theRenderDate = this.UIValue\n\t\t\t? this.UIValue\n\t\t: this.theValue\n\t\t\t? this.theValue\n\t\t:  new Date()\n\n\t\treturn FwDate.toVal(theRenderDate);\n\t}\n\n\tset renderValue(renderDate) {\n\t\tthis.UIValue = renderDate;\n\t}\n\n\tget UIInputValue() {\n\t\treturn this.UIInput && FwDate.toVal(this.UIInput.value)\n\t}\n\n\tset UIInputValue(uiValue) {\n\t\tif(uiValue){\n\t\t\tthis.UIInput.setAttribute('value', FwDate.toHuman(uiValue));\n\t\t\tthis.UIInput.value = FwDate.toHuman(uiValue);\n\t\t}\n\t}\n\n\tget UIRoot () {\n\t\treturn super.UIEl().closest(`.${UIPrefix(COMPONENT_CLASS)}`);\n\t}\n\n\tget UIDates () {\n\t\treturn this.UIRoot && this.UIRoot.querySelectorAll(`.${UIPrefix(COMPONENT_CLASS)}-date`);\n\t}\n\n\tget UIInput(){\n\t\treturn this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input input`);\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tclass: '',\n\t\t\tstartDay: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\treturn parseInt(value) % 7\n\t\t\t\t}\n\t\t\t}, // su,mo,tu,we,th,fr,sa,\n\t\t\tmin: null,\n\t\t\tmax: null,\n\t\t\tyearSpan: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif (parseInt(value) <= 0) {\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisabledDates: '', //yyyy-mm-dd,weekends,past,future\n\t\t\ttextInput: false,\n\t\t\tmonthSkip: true,\n\t\t\tyearSkip: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tclass:\n\t\t\t\t\t\tsuper.UIEl().getAttribute('class'),\n\t\t\t\t\tstartDay:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-start-day`), // 0,1,2,3,4,5,6\n\t\t\t\t\tmin:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-min`)\n\t\t\t\t\t\t|| super.UIEl().getAttribute('min'),\n\t\t\t\t\tmax:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max`)\n\t\t\t\t\t\t|| super.UIEl().getAttribute('max'),\n\t\t\t\t\tyearSpan:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-span`),\n\t\t\t\t\tdisabledDates:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disabled-dates`),\n\t\t\t\t\ttextInput:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-text-input`),\n\t\t\t\t\tmonthSkip:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-month-skip`),\n\t\t\t\t\tyearSkip:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-skip`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tCalendar.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tupdate(newValue,valueToRender) {\n\n\t\tconst element = this.element;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_UPDATE);\n\n\t\tconst theValue = \n\t\t\tFwDate.toVal(newValue)\n\t\t\t|| this.theValue;\n\t\t\n\t\tconst uiValue =\n\t\t\tFwDate.toVal(valueToRender)\n\t\t\t|| theValue\n\t\t\t|| this.renderValue;\n\t\t\t\n\t\t\n\t\tFwEvent.trigger(element,EVENT_UPDATE);\n\t\t//set up calendar\n\t\tif (this.validates(theValue) || !theValue) {\n\t\t\tthis.theValue = FwDate.toVal(theValue, false);\n\t\t\tthis.renderValue = uiValue;\n\n\t\t\tthis._renderUI();\n\t\t}\n\t\n\t\t//user visual feedback if it has a valid bitch\n\t\tif (this.validates(theValue)) {\n\t\t\tthis.UIRoot\n\t\t\t\t.classList.remove('input-error');\n\t\t} else {\n\t\t\tthis.UIRoot\n\t\t\t\t.classList.add('input-error');\n\t\t}\n\t\n\t\tif (this.theValue) {\n\t\n\t\t\tthis.UIDates.forEach((date) => {\n\t\t\t\tif (\n\t\t\t\t\tdate.getAttribute('data-value') == theValue\n\t\t\t\t) {\n\t\t\t\t\tdate.classList.add(ACTIVATED_CLASS);\n\t\t\t\t} else {\n\t\t\t\t\tdate.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tif (this.UIInput) {\n\t\t\t\tthis.UIInputValue = theValue;\n\t\t\t}\n\t\t}\n\t\tFwEvent.trigger(element,EVENT_AFTER_UPDATE);\n\t}\n\n\t\n\tvalidates(date,rangeOnly) {\n\n\t\tdate = date || this.theValue;\n\t\trangeOnly = rangeOnly || false; //range,spot\n\t\n\t\tconst d = FwDate.toParsed(date),\n\t\t\tcheckAgainst = this.args.disabledDates.split(',');\n\t\n\t\tlet toReturn = true;\n\t\n\t\tif (!rangeOnly) {\n\t\t\t//if in disabled dates\n\t\t\tif (checkAgainst.includes(FwDate.toVal(d))) {\n\t\t\t\t// console.warn('value is declared disabled specifically || ',FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\n\t\t\t//weekend\n\t\t\tif (\n\t\t\t\tcheckAgainst.includes('weekends')\n\t\t\t\t&& (d.getDay() == 0 || d.getDay() == 6)\n\t\t\t) {\n\t\t\t\t// console.warn('value was a weekend || ',FwDate.toVal(d),FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\t}\n\t\n\t\t//in the past\n\t\tlet dateNow = new Date();\n\t\tdateNow.setHours(0, 0, 0, 0);\n\t\tif (\n\t\t\tcheckAgainst.includes('past')\n\t\t\t&& d < dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the past || ',FwDate.toVal(d),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\tif (\n\t\t\tcheckAgainst.includes('future')\n\t\t\t&& d > dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the future || ',FwDate.toVal(date),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\t//if  in range of min or max\n\t\tif (\n\t\t\t(\n\t\t\t\tFwDate.toParsed(this.args.max)\n\t\t\t\t&& FwDate.toParsed(this.args.max) < d\n\t\t\t)\n\t\t\t|| (\n\t\t\t\tFwDate.toParsed(this.args.min)\n\t\t\t\t&& d < FwDate.toParsed(this.args.min)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('value not in max and width || ',FwDate.toVal(d));;\n\t\t\ttoReturn = false;\n\t\t}\n\n\t\t//check if values are actually legit dates\n\t\t\t//month\n\t\t\t//date\n\n\t\n\t\treturn toReturn;\n\t}\n\n\tget _calendar() {\n\t\tconst renderDate = this.renderValue;\n\n\t\tconst toReturn = {\n\t\t\tyear: FwDate.toParsed(renderDate).getFullYear(),\n\t\t\tmonth: FwDate.toParsed(renderDate).getMonth(),\n\t\t}\n\t\ttoReturn.startDate = new Date(toReturn.year, toReturn.month, 1);\n\n\t\ttoReturn.lastDate = new Date(toReturn.year, toReturn.month + 1, 0);\n\n\t\ttoReturn.prevDate = new Date(toReturn.year, toReturn.month, 0);\n\t\ttoReturn.prevDay = toReturn.prevDate.getDay();\n\n\t\treturn toReturn;\n\t}\n\n\t_arrowHtml = (buttonClass) => {\n\t\tlet symbolClass, arrowDate, disValid,arrowClass;\n\t\t//set a new date with no date because fuck that boi\n\t\t// console.warn(buttonClass,'hello i fucked up','\\n',FwDate.toParsed(uiValue),'\\n',this._calendar.startDate,'\\n', new Date(this._calendar.year,this._calendar.month));\n\t\tswitch (buttonClass) {\n\t\t\tcase 'prev-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-left';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'prev-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-left';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year - 1, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-right';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month + 1, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-right';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year + 1, this._calendar.month, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//kung yung at least yung last day nang prev or first day ng next man lang ay valid pwidi sya ipindoot\n\t\tlet htmlString = `<button type=\"button\" \n\t\t\tclass=\"\n\t\t\t\t${!disValid ? `disabled ` : ''}\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-navigation\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-${arrowClass}\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-${buttonClass}\" data-value=\"${arrowDate}\"\n\t\t\t>\n\t\t\t\t<i class=\"${UIPrefix(COMPONENT_CLASS)}symbol symbol ${symbolClass}\"></i>\n\t\t\t</button>`;\n\n\t\treturn htmlString;\n\t}\n\n\t_blockHtml = (date, customClass) => {\n\t\tcustomClass = customClass || '';\n\t\treturn `<button type=\"button\" data-value=\"${FwDate.toVal(date)}\"\n\t\t\t\tclass=\"\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-block\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-date\n\t\t\t\t${customClass}\n\t\t\t\">\n\t\t\t\t<span>${date.getDate()}</span>\n\t\t\t</button>`;\n\t}\n\n\t_renderUI(elem,uiValue) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_RENDER);\n\n\t\tuiValue =\n\t\t\tuiValue\n\t\t\t|| this.renderValue;\n\n\t\tthis.renderValue = uiValue;\n\n\t\tconst theUI = {};\n\n\t\tFwEvent.trigger(element,EVENT_RENDER);\n\n\t\ttheUI.container = this.UIRoot;\n\t\t\t\n\t\tif (!theUI.container) {\n\t\t\ttheUI.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUI.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUI.container.appendChild(element);\n\t\t\ttheUI.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${Settings.get('uiClass')}\n\t\t\t\t${Settings.get('uiJsClass')}\n\t\t\t\t${element.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUIPrefix(COMPONENT_CLASS)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\n\t\ttheUI.inputWrapper = theUI.container\n\t\t\t.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\n\t\tconst components = FwDom.getSiblings(element);\n\t\tcomponents.forEach((component) => {\n\t\t\tif (component !== theUI.inputWrapper) {\n\t\t\t\tcomponent.parentNode.removeChild(component);\n\t\t\t}\n\t\t});\n\n\t\t//input\n\t\tif (this.args.textInput) {\n\t\t\tif (!theUI.inputWrapper) {\n\t\t\t\ttheUI.inputWrapper = document.createElement('div');\n\t\t\t\ttheUI.container.appendChild(theUI.inputWrapper);\n\t\t\t\ttheUI.inputWrapper.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-input`\n\t\t\t\t);\n\t\t\t\ttheUI.inputWrapper.innerHTML =\n\t\t\t\t\t'<input class=\"input input-single-line\" type=\"text\" maxlength=\"10\" placeholder=\"MM/DD/YYYY\" />';\n\t\t\t}\n\t\t}\n\n\t\t//date 4 u\n\n\t\t//heading\n\t\t\ttheUI.heading = document.createElement('div');\n\t\t\ttheUI.container.appendChild(theUI.heading);\n\t\t\ttheUI.heading.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-heading`\n\t\t\t);\n\n\t\t//arrowz\n\n\t\t\tconst butts = [\n\t\t\t\t'prev-year',\n\t\t\t\t'prev-month',\n\t\t\t\t'next-month',\n\t\t\t\t'next-year',\n\t\t\t];\n\n\t\t\tbutts.forEach((butt) => {\n\t\t\t\tif (\n\t\t\t\t\t(\n\t\t\t\t\t\tthis.args.yearSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-year'\n\t\t\t\t\t\t\t|| butt == 'next-year'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t|| (\n\t\t\t\t\t\tthis.args.monthSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-month'\n\t\t\t\t\t\t\t|| butt == 'next-month'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\ttheUI.heading.innerHTML += this._arrowHtml(butt);\n\t\t\t\t}\n\t\t\t});\n\n\t\t//title\n\t\t\ttheUI.title = document.createElement('div');\n\t\t\ttheUI.heading.appendChild(theUI.title);\n\t\t\ttheUI.title.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-title ${UIPrefix(COMPONENT_CLASS)}-dropdown-toggle\n\t\t\t\t${UIDynamicClass}` //NEED THIS AT ALL TIMES IF U DONT WANNA DIE\n\t\t\t);\n\t\t\ttheUI.title.setAttribute('data-toggle-dropdown','');\n\t\t\ttheUI.title.innerHTML = `<span\n\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month-text\">\n\t\t\t\t\t${monthNamesShort[this._calendar.month]}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"${UIPrefix(COMPONENT_CLASS)}-year-text\">\n\t\t\t\t\t${this._calendar.year}\n\t\t\t\t</span>\n\t\t\t\t<i class=\"${UIPrefix(COMPONENT_CLASS)}-symbol symbol symbol-caret-down no-margin-x\"></i>`;\n\n\t\t//dropdown\n\t\t\tconst dropdown = document.createElement('ul');\n\t\t\ttheUI.heading.appendChild(dropdown);\n\t\t\tdropdown.setAttribute('data-dropdown-width', '100%');\n\t\t\tdropdown.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-dropdown dropdown dropdown-center-x dropdown-top-flush text-align-center`\n\t\t\t);\n\t\t\tdropdown.innerHTML += `<li \n\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-current-month-year active\"\n\t\t\t\t>\n\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month\"\n\t\t\t\t\t\tdata-value=\"${FwDate.toVal(this._calendar.startDate)}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${monthNamesShort[this._calendar.month]} ${this._calendar.year}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li><hr class=\"dropdown-separator\"></li>`;\n\n\t\t\ttheUI.dropdown = new Dropdown(dropdown,theUI.title);\n\n\t\t\tlet dropdownInit, dropdownLimit;\n\n\n\t\t\tif (this.args.yearSpan == 0) {\n\t\t\t\tdropdownInit =   this._calendar.startDate.getMonth() * -1;\n\t\t\t\tdropdownLimit = 11 - this._calendar.startDate.getMonth();\n\t\t\t} else {\n\t\t\t\tdropdownInit = parseInt(\n\t\t\t\t\t-12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t\tdropdownLimit = parseInt(\n\t\t\t\t\t12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//update dropdown\n\t\t\tfor (let i = dropdownInit; i <= dropdownLimit; i++) {\n\t\t\t\tconst listItemDate = FwDate.adjacentMonth(\n\t\t\t\t\tthis._calendar.startDate,\n\t\t\t\t\ti\n\t\t\t\t);\n\n\t\t\t\tconst dateForValidation = (() => {\n\t\t\t\t\tlet toReturn;\n\n\t\t\t\t\tif (i >= 0) {\n\t\t\t\t\t\t//first day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth(),\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//last day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth() + 1,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})();\n\n\n\n\t\t\t\tif (this.validates(dateForValidation, true)) {\n\t\t\t\t\t\n\t\t\t\t\tlet currClass = i == 0 ? 'active' : '',\n\t\t\t\t\t\tlistItem = `<li class=\"${currClass}\">\n\t\t\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month\"\n\t\t\t\t\t\t\t\tdata-value=\"${FwDate.toVal(listItemDate)}\">\n\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\tmonthNamesShort[\n\t\t\t\t\t\t\t\t\t\t\tlistItemDate.getMonth()\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t} ${listItemDate.getFullYear()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t${listItemDate.getMonth() == 11\n\t\t\t\t\t\t\t&& i !== dropdownLimit\n\t\t\t\t\t\t\t\t? `</li><li><hr class=\"dropdown-separator\">`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>`;\n\t\t\t\t\ttheUI.dropdown.element.innerHTML += listItem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t//generate grid\n\t\t\ttheUI.grid = document.createElement('div');\n\t\t\ttheUI.container.append(theUI.grid);\n\t\t\ttheUI.grid.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-grid`\n\t\t\t);\n\n\t\t//days heading\n\t\t\ttheUI.days = document.createElement('div');\n\t\t\ttheUI.grid.append(theUI.days);\n\t\t\ttheUI.days.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-days`\n\t\t\t);\n\n\t\t\tlet daysHTML = '',\n\t\t\t\tdayToRetrieve = parseInt(this.args.startDay);\n\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tif (dayToRetrieve > 6) {\n\t\t\t\t\tdayToRetrieve -= 7;\n\t\t\t\t}\n\n\t\t\t\tdaysHTML += `<div\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-block\n\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-day\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${dayNamesShorter[dayToRetrieve]}\n\t\t\t\t\t</div>`;\n\n\t\t\t\tdayToRetrieve++;\n\t\t\t}\n\n\t\t\ttheUI.days.innerHTML = daysHTML;\n\n\t\t//days\n\t\t\ttheUI.dates = document.createElement('div');\n\t\t\ttheUI.grid.append(theUI.dates);\n\t\t\ttheUI.dates.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-dates`\n\t\t\t);\n\n\t\t\t//previous month\n\t\t\t\tconst freeGridSpacePrev = \n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._calendar.startDate.getDay()\n\t\t\t\t\t\t\t- parseInt(this.args.startDay)\n\t\t\t\t\t\t\t+ 7\n\t\t\t\t\t\t) % 7,\n\t\t\t\t\tcalendarPrevDayStart =\n\t\t\t\t\t\tthis._calendar.prevDay == 6\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: this._calendar.prevDay + 1;\n\n\t\t\t\tif (calendarPrevDayStart !== parseInt(this.args.startDay)) {\n\t\t\t\t\t//if it doenst take its own row of shit\n\n\t\t\t\t\t// i = 0; i <= freeGridSpacePrev; i++\n\t\t\t\t\t// @TODO AAAAAAAAAAAA FIGURE OUT THE MATH\n\t\t\t\t\t// for( dayLoopI = this._calendar.prevDay; dayLoopI >= (parseInt(this.args.startDay)); dayLoopI--){\n\t\t\t\t\t// for(let i = 0; i < 7; i++){\n\t\t\t\t\tfor (let i = 0; i < freeGridSpacePrev; i++) {\n\t\t\t\t\t\tlet offset = this._calendar.prevDate.getDate() - i;\n\n\t\t\t\t\t\tlet loopDatePrev = new Date(\n\t\t\t\t\t\t\tthis._calendar.prevDate.getFullYear(),\n\t\t\t\t\t\t\tthis._calendar.prevDate.getMonth(),\n\t\t\t\t\t\t\toffset\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tlet dateBlockPrev = this._blockHtml(\n\t\t\t\t\t\t\tloopDatePrev,\n\t\t\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-block-adjacent\n\t\t\t\t\t\t\t${(!this.validates(loopDatePrev)\n\t\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//prepend because we loopped this bitch in reverse\n\t\t\t\t\t\ttheUI.dates.innerHTML += dateBlockPrev;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t//curr month\n\n\t\t\t\tfor (let i = 1; i <= this._calendar.lastDate.getDate(); i++) {\n\t\t\t\t\tlet dateBlockCurr = this._blockHtml(\n\t\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, i),\n\t\t\t\t\t\t!this.validates(new Date(this._calendar.year, this._calendar.month, i))\n\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUI.dates.innerHTML += dateBlockCurr;\n\t\t\t\t}\n\n\t\t\t//next month just fill the shit\n\t\t\tconst currNextFirstDay = new Date(\n\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t1\n\t\t\t\t).getDay(),\n\t\t\t\tfreeGridSpaceNext =\n\t\t\t\t\t(7 - currNextFirstDay + parseInt(this.args.startDay)) % 7;\n\n\t\t\tif (currNextFirstDay !== parseInt(this.args.startDay)) {\n\t\t\t\tfor (let i = 1; i <= freeGridSpaceNext; i++) {\n\t\t\t\t\tlet loopDateNext = new Date(\n\t\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t\ti\n\t\t\t\t\t);\n\n\t\t\t\t\tlet dateBlockNext = this._blockHtml(\n\t\t\t\t\t\tloopDateNext,\n\t\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-block-adjacent\n\t\t\t\t\t\t${(!this.validates(loopDateNext) ? 'disabled' : '')}`\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUI.dates.innerHTML += dateBlockNext;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_RENDER);\n\t}\n\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_INIT);\n\t\t\tFwEvent.trigger(element,EVENT_INIT);\n\n\n\t\tthis.update();\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_INIT);\n\t}\n\n\tstatic initAll(){\n\n\t\tconst calendars = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\t\n\t\tcalendars.forEach((cal) => {\n\t\t\tconst calendar = new Calendar(cal);\n\t\t\t\n\t\t\tcalendar.init();\n\t\t});\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst calendar = new Calendar(e.target);\n\t\t\tcalendar.update();\n\t\t}\n\t}\n\n\tstatic handleUpdateKeyup() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)){\n\t\t\t\te.preventDefault();\n\t\t\t}else{\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\n\t\t\t\tconst uiInput = e.target.value;\n\t\t\t\tif (uiInput.match(/^\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t} else if (uiInput.match(/^\\d{2}\\/\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t}\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.HumanDate.pattern\n\t\t\t\t);\n\t\n\t\t\t\tconst isValid = pattern.test(uiInput);\n\t\n\t\t\t\tif (calendar && isValid) {\n\t\t\t\t\tconst theValue = uiInput.split('/');\n\t\n\t\t\t\t\tconst y = theValue[2] || '';\n\t\t\t\t\tconst m = theValue[0] || '';\n\t\t\t\t\tconst d = theValue[1] || '';\n\t\n\t\t\t\t\tconst preParsedVal = `${y}-${m}-${d}`;\n\n\t\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tpreParsedVal\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleUpdateClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleRenderClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tCalendar.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYUP,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-input input`,\n\t\t\tCalendar.handleUpdateKeyup()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-date`,\n\t\t\tCalendar.handleUpdateClick()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-month, .${UIPrefix(COMPONENT_CLASS)}-year`,\n\t\t\tCalendar.handleRenderClick()\n\t\t);\n\t\tInitiator.Q.on_ready = Calendar.initAll;\n\n\t}\n}\n\nexport default Calendar;\n\nCalendar.initListeners();\n","const Modifiers =  {\n\tkeys: {\n\t\tctrl: false,\n\t\tshift: false,\n\t\talt: false,\n\t\tmeta: false,\n\t},\n\thasActive(key) {\n\t\tkey = key || false;\n\t\n\t\tif (key && this.keys.hasOwnProperty(key)) {\n\t\t\treturn this.keys[key];\n\t\t\t\n\t\t} else {\n\t\t\treturn (\n\t\t\t\tthis.keys.ctrl\n\t\t\t\t|| this.keys.shift\n\t\t\t\t|| this.keys.alt\n\t\t\t\t|| this.keys.meta\n\t\t\t);\n\t\t}\n\t},\n\tupdate(event){\n\t\tthis.keys.shift = event.shiftKey;\n\t\tthis.keys.ctrl = event.ctrlKey;\n\t\tthis.keys.alt = event.altKey;\n\t\tthis.keys.meta = event.metaKey;\n\t}\n\t\n}\n\n//key events\n\tdocument.addEventListener(\n\t\t'keydown',\n\t\t(e) => {\n\t\t\tModifiers.update(e);\n\t\t}\n\t);\n\n\tdocument.addEventListener(\n\t\t'keyup',\n\t\t(e) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tModifiers.update(e);\n\t\t\t}, 100);\n\t\t}\n\t);\n\nexport default Modifiers","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwArrayay extends FwDataHelper {\n\t\n\tstatic moveItem(arr, oi, ni){\n\n\t\twhile (oi < 0) {\n\t\t\toi += arr.length;\n\t\t}\n\n\t\twhile (ni < 0) {\n\t\t\tni += arr.length;\n\t\t}\n\n\t\tif (ni >= arr.length) {\n\t\t\tlet k = ni - arr.length;\n\t\t\twhile (k-- + 1) {\n\t\t\t\tarr.push(undefined);\n\t\t\t}\n\t\t}\n\n\t\tarr.splice(ni, 0, arr.splice(oi, 1)[0]);\n\n\t\treturn arr;\n\t}\n\n\tstatic reverse(arr) {\n\t\tlet newArray = [];\n\t\tfor (let i = arr.length - 1; i >= 0; i--) {\n\t\t\tnewArray.push(arr[i]);\n\t\t}\n\t\treturn newArray;\n\t}\n}\n\n\nexport default FwArrayay;","import Settings from './../core/settings.js';\nimport Initiator from './../core/initiator.js';\n\nimport Modifiers from './../util/modifiers.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwArray from './../data-helper/array.js';\nimport FwDom from './../data-helper/dom.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UIPrefix } from '../util/ui.js';\nimport Form from '../form.js';\n\nconst NAME = 'formTags';\nconst ARG_ATTRIBUTE_NAME = 'tags';\nconst COMPONENT_CLASS = `input-tags`;\nconst FOCUS_CLASS = `focus`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\nconst EVENT_PASTE = `paste${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nconst INPUT_STRING = `__fw_input__`;\n\nclass Tags extends FwComponent {\n\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUIValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UIValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tstatic get __is () {\n\t\treturn INPUT_STRING;\n\t}\n\n\tget theValue() {\n\t\treturn super.UIEl().value;;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\t\t\tsuper.UIEl().setAttribute('value', Tags.toVal(theValue,false));\n\t\t\tsuper.UIEl().value = Tags.toVal(theValue,false);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst renderTags = this.UIValue\n\t\t\t? this.UIValue\n\t\t: (super.UIEl().hasAttribute('data-value-ui'))\n\t\t\t? super.UIEl().getAttribute('data-value-ui')\n\t\t: this.theValue;\n\t\treturn renderTags;\n\t}\n\n\tset renderValue(renderTags) {\n\t\tthis.UIValue = Tags.toVal(renderTags);\n\t}\n\n\tget UIRoot () {\n\t\treturn super.UIEl().closest(`.${UIPrefix(COMPONENT_CLASS)}`);\n\t}\n\n\tget UIInput(){\n\t\treturn this.UIRoot && this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\t}\n\n\tget UIInputValue() {\n\t\treturn this.UIInput.innerText;\n\t}\n\n\tset UIInputValue(inputValue) {\n\t\tthis.UIInput.innerText = inputValue.toString().replace(\n\t\t\t/\\n|\\r/g,\n\t\t\t'\\\\n'\n\t\t);\n\t}\n\n\tget UIInputIdx() {\n\t\tlet toReturn = Tags.toArr(this.renderValue).indexOf(Tags.__is);\n\n\n\t\tif(toReturn < 0){\n\t\t\tTags.toArr(this.renderValue).length > 0\n\t\t\t? Tags.toArr(this.renderValue).length - 1\n\t\t\t: 0;\n\t\t}\n\n\t\treturn toReturn;\n\t\t\n\t\t// (\n\t\t// \tthis.UIInput\n\t\t// \t&& parseInt(this.UIInput.getAttribute('data-ui-i'))\n\t\t// )\n\t\t// || Tags.toArr(this.renderValue).indexOf(Tags.__is)\n\t\t// || Tags.toArr(this.theValue).length;\n\t}\n\n\n\t_scrollToUIInput(){\n\t\tif(this.args.multipleLines || !this.UIInput){\n\t\t\treturn\n\t\t}\n\n\t\tif(\n\t\t\t(this.UIRoot.scrollLeft > (this.UIInput.offsetLeft + this.UIInput.offsetWidth))\n\t\t\t|| ((this.UIRoot.scrollLeft + this.UIRoot.clientWidth) < (this.UIInput.offsetLeft + this.UIInput.offsetWidth))\n\t\t){\n\t\t\tFwDom.scrollToElem(this.UIRoot,this.UIInput,'x');\n\t\t\tFwDom.scrollToElem(this.UIRoot,this.UIInput,'y');\n\t\t}\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tfilter: null,\n\t\t\tonKeyUp: null,\n\t\t\tmultipleLines: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tonKeyUp:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-on-keyup`),\n\t\t\t\t\tfilter:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-filter`),\n\t\t\t\t\tmultipleLines:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-multiple-lines`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tTags.configDefaults\n\t\t);\n\t}\n\n\tstatic toArr (value,returnsWithInput) {\n\t\t\n\t\treturnsWithInput =\n\t\t\treturnsWithInput !== false || returnsWithInput == true;\n\t\n\t\tlet toReturn = Array.isArray(value)\n\t\t\t\t? value\n\t\t\t: typeof value == 'string'\n\t\t\t\t? value.split(',')\n\t\t\t: [];\n\t\n\t\t//remove duplicates\n\t\ttoReturn = toReturn.reduce((acc, tag) => {\n\t\t\tif (!acc.includes(tag)  && tag !== '') {\n\t\t\t\tacc.push(tag);\n\t\t\t}\n\t\n\t\t\treturn acc;\n\t\t}, []);\n\t\n\t\n\t\t//check for ya boi\n\t\ttoReturn.forEach((tag, i) => {\n\t\t\tif (\n\t\t\t\t(!tag || tag == '')\n\t\t\t\t|| (tag === Tags.__is && !returnsWithInput)\n\t\t\t) {\n\t\t\t\ttoReturn.splice(i, 1);\n\t\t\t}\n\t\t});\n\t\n\t\tif (returnsWithInput && toReturn.indexOf(Tags.__is) < 0) {\n\t\t\ttoReturn.push(Tags.__is);\n\t\t}\n\n\t\treturn toReturn;\n\t};\n\n\tstatic toVal (value,returnsWithInput){\n\t\treturn Tags.toArr(value, returnsWithInput).join(',');\n\t}\n\n\tfilterValue(custFn){\n\t\tlet fnToFilter,applyFilter;\n\n\t\ttry {\n\t\t\tfnToFilter = custFn || eval(this.args.filter);\n\t\t} catch (err) {}\n\n\t\tif (typeof fnToFilter === 'function') {\n\t\t\tapplyFilter = (valueToFilter, filterFnName) => {\n\t\t\t\tconst noInputValueToFilter = (() => {\n\t\t\t\t\t\t\treturn Tags.toVal(valueToFilter, false);\n\t\t\t\t\t\t})();\n\n\t\t\t\t// turn to array ya bopi without the input tag string\n\t\t\t\tlet toReturn = Tags.toArr(\n\t\t\t\t\teval(`${filterFnName}(\"${noInputValueToFilter}\")`),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\n\t\t\t\t// console.log(\n\t\t\t\t// \t'index of input\\n',inputIndex,\n\t\t\t\t// \t'\\n\\n\\nfiltered and ready for splice\\n',toReturn,\n\t\t\t\t// \t'\\n\\n\\npassed to the fil;ter\\n'Tags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\nrar array\\n'Tags.toArr(valueToFilter),\n\t\t\t\t// \t'\\n\\n\\n no input field\\n',noInputValueToFilter,Tags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n no input fieldas array\\n'Tags.toArr(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n string for eval\\n', ( filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'\\n\\n\\neval\\n',  eval(filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'whAT ETHE FUCK'\n\t\t\t\t// );\n\n\t\t\t\tif (this.UIInputIdx > -1) {\n\t\t\t\t\ttoReturn.splice(\n\t\t\t\t\t\tthis.UIInputIdx <\n\t\t\t\t\t\t\tTags.toArr(valueToFilter).length - 1\n\t\t\t\t\t\t\t? this.UIInputIdx\n\t\t\t\t\t\t\t: toReturn.length,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tTags.__is\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn Tags.toVal(toReturn);\n\t\t\t};\n\n\t\t\tthis.theValue = applyFilter(\n\t\t\t\tthis.theValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t\tthis.renderValue = applyFilter(\n\t\t\t\tthis.renderValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t}\n\t}\n\n\tupdate(newValue,allowFilter,valueToRender,inputText) {\n\t\tFwEvent.trigger(super.UIEl(),EVENT_BEFORE_UPDATE);\n\n\t\tlet theValue = newValue\n\t\t\t|| this.theValue\n\t\t\t|| '';\n\t\t\n\t\tlet uiValue = valueToRender\n\t\t\t|| theValue\n\t\t\t|| this.renderValue\n\t\t\t|| '';\n\n\t\tallowFilter = allowFilter != false || allowFilter == true;\n\n\t\tinputText = inputText || false;\n\n\n\t\tFwEvent.trigger(super.UIEl(),EVENT_UPDATE);\n\n\t\tthis.theValue = theValue;\n\t\tthis.renderValue = uiValue;\n\n\t\t\n\t\tif (this.args.filter && allowFilter) {\n\t\t\tthis.filterValue();\n\t\t}\n\n\t\tthis._renderUI();\n\n\t\tif(inputText){\n\t\t\tthis.UIInputValue = inputText;\n\t\t\tthis.focus();\n\t\t}\n\t\t\n\t\tFwEvent.trigger(super.UIEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t_renderUI(elem) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_RENDER);\n\n\t\tconst theUI = {};\n\n\n\t\tFwEvent.trigger(element,EVENT_RENDER);\n\t\t\n\t\ttheUI.container = this.UIRoot;\n\t\tif (!theUI.container) {\n\t\t\ttheUI.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUI.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUI.container.appendChild(element);\n\t\t\ttheUI.container.classList.add('input');\n\t\t\ttheUI.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${Settings.get('uiClass')}\n\t\t\t\t${Settings.get('uiJsClass')}\n\t\t\t\t${\n\t\t\t\t\telement\n\t\t\t\t\t.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUIPrefix(COMPONENT_CLASS)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\n\t\t\ttheUI.container.classList.add(\n\t\t\t\tthis.args.multipleLines\n\t\t\t\t\t? `${UIPrefix(COMPONENT_CLASS)}-multiple`\n\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-single`\n\t\t\t);\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\ttheUI.container.style = this.args.width;\n\t\t}\n\t\t//idk it never exists on initial so we dont have to do weird div wraping catches here\n\n\t\ttheUI.wrapper = theUI.container.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-wrapper`);\n\n\t\tif (!theUI.wrapper) {\n\t\t\ttheUI.wrapper = document.createElement('div');\n\t\t\ttheUI.container.appendChild(theUI.wrapper);\n\t\t\ttheUI.wrapper.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-wrapper`\n\t\t\t);\n\t\t\ttheUI.wrapper = theUI.container.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-wrapper`);\n\t\t}\n\n\t\ttheUI.input = this.UIInput;\n\n\n\t\tif (!theUI.input) {\n\t\t\ttheUI.input = document.createElement('span');\n\t\t\ttheUI.wrapper.appendChild(theUI.input);\n\t\t\ttheUI.input.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-input`\n\t\t\t);\n\t\t\ttheUI.input.contentEditable = true;\n\t\t\ttheUI.input = theUI.wrapper.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\n\t\t\tif(element.hasAttribute('placeholder')){\n\t\t\t\ttheUI.input.setAttribute(\n\t\t\t\t\t'data-placeholder',\n\t\t\t\t\telement.getAttribute('placeholder')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//nearest fw-ui parent will actually do tgoggl for bby because baby cant stand up on its own\n\t\t\tif (element.hasAttribute('data-toggle')) {\n\t\t\t\ttheUI.input.setAttribute(\n\t\t\t\t\t'data-toggle',\n\t\t\t\t\telement.getAttribute('data-toggle')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (FwComponent.isDisabled(element)) {\n\t\t\t\ttheUI.input.classList.add('disabled');\n\t\t\t}\n\n\t\t\t//bitch\n\t\t\tif (this.args.onKeyUp) {\n\t\t\t\ttheUI.input.addEventListener('keyup', (event)=>{\n\t\t\t\t\tconst keyUpScript = eval(this.args.onKeyUp);\n\t\t\t\t\tif(keyUpScript){\n\t\t\t\t\t\treturn keyUpScript;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//updoot tags\n\t\tconst oldTags = theUI.wrapper.querySelectorAll(`.${UIPrefix(COMPONENT_CLASS)}-tag`);\n\n\t\toldTags.forEach((tag) => {\n\t\t\ttag.parentNode.removeChild(tag);\n\t\t});\n\n\n\t\tlet valArr = Tags.toArr(this.renderValue, true);\n\n\t\ttheUI.input.setAttribute(\n\t\t\t'data-ui-i',\n\t\t\tthis.UIInputIdx\n\t\t);\n\n\t\t//validate tags\n\t\t// valArr = valArr.reduce((acc, tag) => {\n\t\t// \tif (!acc.includes(tag)) {\n\t\t// \t\tacc.push(tag);\n\t\t// \t}\n\t\t// \treturn acc;\n\t\t// }, []);\n\n\t\tvalArr.forEach((tag, i) => {\n\t\t\t//get index of input\n\t\t\tif (tag !== Tags.__is) {\n\t\t\t\tconst tagHtml = document.createElement('span');\n\n\t\t\t\tif(i < this.UIInputIdx){\n\t\t\t\t\ttheUI.input.insertAdjacentElement(\n\t\t\t\t\t\t'beforebegin',\n\t\t\t\t\t\ttagHtml\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\ttheUI.wrapper.appendChild(tagHtml);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\ttagHtml.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-tag`\n\t\t\t\t);\n\n\t\t\t\ttagHtml.innerHTML = `<button\n\t\t\t\t\t\tdata-ui-i=\"${i}\"\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-tag-text ${UIPrefix(COMPONENT_CLASS)}-tag-button\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${tag}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button data-ui-i=\"${i}\" class=\"${UIPrefix(COMPONENT_CLASS)}-tag-close ${UIPrefix(COMPONENT_CLASS)}-tag-button\" type=\"button\">\n\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t</button>`;\n\t\t\t}\n\t\t});\n\n\t\t//attribues\n\t\tfor (let i = 0; i < element.attributes.length; i++) {\n\t\t\tlet attr = element.attributes[i];\n\n\t\t\tif (attr.specified) {\n\t\t\t\tif (\n\t\t\t\t\tattr.name.includes('data')\n\t\t\t\t\t&& !attr.name.includes('data-tags')\n\t\t\t\t\t&& !attr.name.includes('data-toggle')\n\t\t\t\t\t&& !attr.name.includes('data-value-ui')\n\t\t\t\t) {\n\t\t\t\t\ttheUI.container.setAttribute(attr.name, attr.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\telement.setAttribute('data-value-ui', this.renderValue);\n\n\t\t//keep that shoit bisibol\n\t\tthis._scrollToUIInput();\n\t\tFwEvent.trigger(element,EVENT_AFTER_RENDER);\n\t}\n\n\tfocus(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('poku','naAAANDATAAAOOOO');\n\t\t\tself.UIInput.focus();\n\t\t}, 0);\n\t\tself.UIRoot.classList.add(FOCUS_CLASS);\n\t\tself._scrollToUIInput();\n\t}\n\n\tblur(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('bru','naAAANDATAAAOOOO');\n\t\t\tself.UIInput.blur();\n\t\t}, 0);\n\t\tself.UIRoot.classList.remove(FOCUS_CLASS);\n\t}\n\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tthis.update();\n\t}\n\n\tstatic initAll(){\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\tconst tagsInputs = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\t\n\t\ttagsInputs.forEach((poot) => {\n\t\t\tconst tagsInput = new Tags(poot);\n\t\t\t\n\t\t\ttagsInput.init();\n\t\t});\n\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst tagsInput = new Tags(e.target);\n\t\t\ttagsInput.update();\n\t\t}\n\t}\n\n\tstatic handleEditablePaste() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst pasted =\n\t\t\t\t\te.clipboardData\n\t\t\t\t\t|| window.clipboardData\n\t\t\t\t\t|| e.originalEvent.clipboardData;\n\t\t\t\t\n\t\t\t\ttagsInput.UIInputValue += pasted.getData('text');\n\n\t\t\t\ttagsInput.blur();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableFocus() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target);\n\t\t\t\ttagsInput.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableBlur() {\n\t\treturn (e) => {\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\t\t//value para mareset ta kung hain si buloy\n\t\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue);\n\t\n\t\t\t\tif(\n\t\t\t\t\ttagsInput.UIInputValue\n\t\t\t\t){\n\t\t\t\t\tcurrValue.splice(\n\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttagsInput.UIInputValue.replace(',', '')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\n\t\t\t\ttagsInput.UIInputValue = '';\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tTags.toVal(currValue,false),\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\n\t\t\t\ttagsInput.blur(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableKeydown() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\n\t\t\t} else {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\tlet currUIValue = Tags.toArr(tagsInput.renderValue),\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter = false;\n\n\t\t\t\tswitch (e.key) {\n\t\t\t\t\t//enter\n\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\ttagsInput.blur();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//comma\n\t\t\t\t\tcase ',':\n\t\t\t\t\t\tif (!Modifiers.hasActive()) {\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\ttagsInput.UIInputValue.replace(',', '')\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\ttagsInput.UIInputValue = '';\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// currUIValue.splice()\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//left\n\t\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx > 0\n\t\t\t\t\t\t\t\t? tagsInput.UIInputIdx - 1\n\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//right\n\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx < currUIValue.length\n\t\t\t\t\t\t\t\t\t? tagsInput.UIInputIdx + 1\n\t\t\t\t\t\t\t\t\t: currUIValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUIInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//up\n\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//down\n\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\tcurrUIValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUIInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//backspace\n\t\t\t\t\tcase 'Backspace':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx - 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//delete\n\t\t\t\t\tcase 'Delete':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx + 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\n\t\t\t\tnewValue = Tags.toVal(currUIValue);\n\t\t\t\t// tagsInput._scrollToUIInput();\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleDelete() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToRemove = parseInt(e.target.getAttribute(\n\t\t\t\t\t\t'data-ui-i'\n\t\t\t\t\t));\n\n\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\tparseInt(tagToRemove),\n\t\t\t\t\t1\n\t\t\t\t);\n\t\n\t\t\t\tconst newValue = Tags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleEdit() {\n\t\treturn (e) => {\n\t\t\tconst triggerer = e.target;\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(triggerer)) {\n\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToEdit = parseInt(e.target.getAttribute(\n\t\t\t\t\t'data-ui-i'\n\t\t\t\t));\n\n\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue,false);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\ttagToEdit,\n\t\t\t\t\t1,\n\t\t\t\t\tTags.__is\n\t\t\t\t);\n\t\n\t\t\t\tconst newUIValue = Tags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnull,\n\t\t\t\t\tfalse,\n\t\t\t\t\tnewUIValue,\n\t\t\t\t\te.target.innerText\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tTags.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_PASTE,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditablePaste()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableFocus()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableBlur()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYDOWN,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableKeydown()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-tag-close`,\n\t\t\tTags.handleDelete()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-tag-text`,\n\t\t\tTags.handleEdit()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Tags.initAll;\n\t\tInitiator.Q.on_resize = Tags.initAll;\n\n\t}\n}\n\nexport default Tags;\n\nTags.initListeners();","import Calendar from './form/form-calendar.js';\nimport Tags from './form/form-tags.js';\n\nconst Form = { \n\tCalendar,\n\tTags\n}\n\nexport default Form;","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UITriggerer } from './util/ui.js';\n\nconst NAME = 'lazy';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CLASS_SVG = `${COMPONENT_CLASS}-svg`;\nconst ACTIVATED_CLASS = `${NAME}-loaded`;\nconst SVG_REPLACED_CLASS = `${COMPONENT_CLASS}-svg-replacement`;\nconst COMPONENT_SELECTOR = `*[data-src],*[data-srcset],.${COMPONENT_CLASS}`;\n\nconst BODY_LOADING_CLASS = `body-${NAME}-loading`;\nconst BODY_LOADED_CLASS = `body-${NAME}-loaded`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_SVGCONVERSION = `before_svgconversion${EVENT_KEY}`;\n\tconst EVENT_SVGCONVERSION = `svgconversion${EVENT_KEY}`;\n\tconst EVENT_AFTER_SVGCONVERSION = `after_svgconversion${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_LOAD = `before_load${EVENT_KEY}`;\n\tconst EVENT_LOAD = `load${EVENT_KEY}`;\n\tconst EVENT_AFTER_LOAD = `after_load${EVENT_KEY}`;\n\nclass Lazy extends FwComponent {\n\n\tconstructor(element){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_ogElement:false \n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget theSrc(){\n\t\treturn super.UIEl().getAttribute('data-src');\n\t}\n\n\tget theSrcSet(){\n\t\treturn super.UIEl().getAttribute('data-srcset');\n\t}\n\n\tget UIOriginal() {\n\t\treturn this._ogElement || super.UIEl();\n\t}\n\n\tset UIOriginal(elem){\n\t\tthis._ogElement = elem;\n\t}\n\n\treadyLoaded(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\telement.classList.add(`${ACTIVATED_CLASS}`);\n\t}\n\n\tloadSVG(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_SVGCONVERSION);\n\n\t\tconst imgID = element.getAttribute('id');\n\t\tconst imgClass = element.getAttribute('class');\n\n\t\tfetch(this.theSrc)\n\t\t\t.then((response) => response.text())\n\t\t\t.then((markup) => {\n\t\t\t\tFwEvent.trigger(element,EVENT_SVGCONVERSION);\n\t\t\t\tconst parser = new DOMParser();\n\t\t\t\tconst dom = parser.parseFromString(markup, 'text/html');\n\t\t\t\t\n\t\t\t\tconst svg = dom.querySelector('svg');\n\n\t\t\t\tif (svg) {\n\t\t\t\t\tif (element.hasAttribute('id')) {\n\t\t\t\t\t\tsvg.setAttribute('id', imgID);\n\t\t\t\t\t}\n\t\t\t\t\tif (element.hasAttribute('class')) {\n\t\t\t\t\t\tsvg.setAttribute(\n\t\t\t\t\t\t\t'class',\n\t\t\t\t\t\t\t`${imgClass} ${SVG_REPLACED_CLASS}`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsvg.removeAttribute('xmlns:a');\n\t\t\t\t\tthis.UIOriginal = element;\n\t\t\t\t\tsuper._resetUIEl(svg);\n\t\t\t\t\telement.replaceWith(svg);\n\t\t\t\t}\n\t\t\t\tthis.readyLoaded();\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_SVGCONVERSION);\n\t\t\t});\n\t}\n\n\tload(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_LOAD);\n\n\n\t\t\tif(element.classList.contains(`${COMPONENT_CLASS}`)){\n\t\t\t\tFwEvent.trigger(element,EVENT_LOAD);\n\t\t\t\tif (element.matches('img') || element.closest('picture')) {\n\t\t\t\t\t\n\t\t\t\t\tthis.theSrc && element.setAttribute('src', this.theSrc);\n\t\t\t\t\tthis.theSrcSet && element.setAttribute('srcset', this.theSrcSet);\n\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.theSrc\n\t\t\t\t\t\t\t|| this.theSrcSet\n\t\t\t\t\t\t)\n\t\t\t\t\t\t&& FwString.GetFileExtension(this.theSrc) == 'svg'\n\t\t\t\t\t\t&& element.classList.contains(COMPONENT_CLASS_SVG)\n\t\t\t\t\t){\n\t\t\t\t\t\tthis.loadSVG();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.readyLoaded();\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\telement.style.backgroundImage = `url(${this.theSrc})`;\n\t\t\t\t\tthis.readyLoaded();\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_LOAD);\n\t\t\t}\n\n\t}\n\n\tstatic setStatus(status) {\n\t\tstatus = status || 'loaded';\n\n\t\tlet addClass,removeClass;\n\n\t\tswitch(status){\n\t\t\tcase 'loading':\n\t\t\t\taddClass = BODY_LOADING_CLASS;\n\t\t\t\tremoveClass = BODY_LOADED_CLASS;\n\t\t\t\tbreak;\n\t\t\tcase 'loaded':\n\t\t\t\taddClass = BODY_LOADED_CLASS;\n\t\t\t\tremoveClass = BODY_LOADING_CLASS;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tdocument.body.\n\t\t\tclassList.remove(removeClass);\n\t\tdocument.body.\n\t\t\tclassList.add(addClass);\n\t}\n\n\tstatic loadAll(images){\n\t\t\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\t\t\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\tLazy.setStatus('loading');\n\t\timages = images || document.querySelectorAll(COMPONENT_SELECTOR);\n\n\t\timages.forEach((img) => {\n\t\t\tconst lazy = new Lazy(img);\n\t\t\tlazy.load();\n\t\t});\n\t\n\t\tLazy.setStatus('loaded');\n\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\t\n\n\tstatic initListeners(){\n\t\tif(Settings.get('lazyLoad') ){\n\t\t\tInitiator.Q.on_ready = Lazy.loadAll;\n\t\t}\n\t}\n}\n\n\nexport default Lazy;\n\nLazy.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'listGroup';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}-toggle`; //coz toggling shit only work when this class is heeerr\n\nconst CHILD_CLASS = `${FwString.ToDashed(NAME)}-item`;\nconst COMPONENT_TOGGLEGROUP_PREFIX = `list`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass ListGroup extends FwComponent {\n\n\tconstructor(element,triggeredChild){\n\t\telement = element || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_triggeredChild:(\n\t\t\t\t\ttriggeredChild\n\t\t\t\t\t\t? new FwDom(triggeredChild)\n\t\t\t\t\t: false\n\t\t\t\t)\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UITriggeredChild(){\n\t\treturn this._triggeredChild\n\t}\n\t\n\tset UITriggeredChild(triggd){\n\t\tif(FwDom.isDescendant(super.UIEl(),triggd)){\n\t\t\tthis._triggeredChild = triggd;\n\t\t}\n\t}\n\n\ttoggle(triggd){\n\t\tconst triggeredChild = triggd ?\n\t\t\ttriggd\n\t\t\t: this.UITriggeredChild;\n\n\t\tthis.UITriggeredChild = triggeredChild;\n\n\t\tif(!triggeredChild || !FwDom.isDescendant(super.UIEl(),triggeredChild)){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_TOGGLE);\n\t\tUIToggleGroup(\n\t\t\tthis.UITriggeredChild,\n\t\t\t`${COMPONENT_TOGGLEGROUP_PREFIX}`,\n\t\t\tnull,\n\t\t\t`li, .${CHILD_CLASS}`\n\t\t);\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst listGroup = new ListGroup(\n\t\t\t\t\te.target.parentNode.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t);\n\t\t\t\tlistGroup.toggle(e.target);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS} > .${CHILD_CLASS}, .${COMPONENT_CLASS} > li`,\t\n\t\t\tListGroup.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default ListGroup;\n\nListGroup.initListeners();\n","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIPrefix,UIToggled,UIBodyClass,UIChangeHash } from './util/ui.js';\n\nconst NAME = 'modal';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `active`;\n\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE_PREFIX = `${NAME}`;\n\nconst DEFAULT_NAME = `default`;\nconst BOARD_NAME = `board`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_HASHCHANGE = `hashchange${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DESTROY = `before_destroy${EVENT_KEY}`;\n\tconst EVENT_DESTROY = `destroy${EVENT_KEY}`;\n\tconst EVENT_AFTER_DESTROY = `after_destroy${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RESIZE = `before_resize${EVENT_KEY}`;\n\tconst EVENT_RESIZE = `resize${EVENT_KEY}`;\n\tconst EVENT_AFTER_RESIZE = `after_resize${EVENT_KEY}`;\n\n\nconst CURRENT_MODAL_INSTANCE = {}\n\nconst VALID_MODAL_MODES = [\n\tBOARD_NAME,\n\tDEFAULT_NAME // default's just named after the component istels fo im not confusion also make it last\n];\n\n\nVALID_MODAL_MODES.forEach(mode=>{\n\tCURRENT_MODAL_INSTANCE[mode] = {\n\t\telement:false,\n\t\targs:false\n\t};\n})\n\nclass Modal extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\t//4 on init by hash\n\n\n\t\telement = element || false;\n\t\targs = args || false;\n\n\t\t//get currMode\n\t\tlet currMode = false;\n\n\t\t//look by triggerer first\n\t\tif(triggerer && !element){\n\t\t\t//look for subcom\n\t\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttriggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}`)\n\t\t\t\t\t\t|| triggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}-open`)\n\t\t\t\t\t\t|| triggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}-close`)\n\t\t\t\t\t)\n\t\t\t\t\t&& !currMode\n\t\t\t\t){\n\t\t\t\t\tcurrMode = mode;\n\t\t\t\t}\n\t\t\t});\n\t\t}else if(element){\n\t\t\t//look for subcom\n\t\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\t\tif(element.classList.contains(`${COMPONENT_CLASS}-${mode}`) && !currMode){\n\t\t\t\t\tcurrMode = mode;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//ok default probable\n\t\t\tif(element.classList.contains(COMPONENT_CLASS) && !currMode){\n\t\t\t\tcurrMode = DEFAULT_NAME;\n\t\t\t}\n\t\t}\n\n\t\t//kill if not a valid bode boi\n\t\tif(!currMode){\n\t\t\telement = false;\n\t\t}else{\n\t\t\tif(currMode && !element){\n\t\t\t\telement = Modal.current(currMode).element;\n\t\t\t}\n\t\t}\n\n\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer: triggerer,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false,\n\t\t\t\t_mode: currMode,\n\t\t\t}\n\t\t);\n\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic current(mode) {\n\t\treturn mode ? CURRENT_MODAL_INSTANCE[mode] : CURRENT_MODAL_INSTANCE;\n\t}\n\n\tget #current(){\n\t\treturn CURRENT_MODAL_INSTANCE[this.mode];\n\t}\n\n\tset #current(obj){\n\t\tCURRENT_MODAL_INSTANCE[this.mode].element = obj.element;\n\t\tCURRENT_MODAL_INSTANCE[this.mode].args = obj.args;\n\t}\n\n\tget mode(){\n\t\treturn this._mode;\n\n\t}\n\n\tget UIId (){\n\t\treturn `${Settings.get('prefix')}-${NAME}-${this.mode}`\n\t}\n\n\tget UIContentBlock() {\n\t\treturn this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup-content`)\n\t}\n\n\tget UIRoot () {\n\t\treturn document.getElementById(this.UIId);\n\t}\n\tget UIElId (){\n\t\treturn super.UIEl().getAttribute('id');\n\t}\n\n\tstatic #modeToggle(mode){\n\t\treturn FwString.ToDashed(`${TOGGLE_MODE_PREFIX}-${mode}`);\n\t}\n\n\tget modeToggle(){\n\t\treturn Modal.#modeToggle(this.mode);\n\t}\n\n\tstatic #modeClass(mode){\n\t\treturn FwString.ToDashed(`${TOGGLE_MODE_PREFIX}-${mode}`);\n\t}\n\n\tget modeClass(){\n\t\treturn Modal.#modeClass(this.mode);\n\t}\n\n\tstatic get configDefaults(){\n\t\tconst mode = this.mode;\n\t\treturn {\n\t\t\t\n\t\t\tchangeHash: true,\n\t\t\ttitle: '',\n\t\t\tclose: true,\n\t\t\tdisableOverlay: true,\n\t\t\twidth: null,\n\t\t\tcallback: null,\n\t\t\tclasses: '',\n\t\t\tcloseClasses: '',\n\t\t\t\n\t\t\t\n\t\t\talign: {\n\t\t\t\tvalue:'left',\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tresizeClasses: {\n\t\t\t\tvalue:null,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tresize: {\n\t\t\t\tvalue:false,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`),\n\t\t\t\t\ttitle:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-title`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-title`),\n\t\t\t\t\tdisableOverlay:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disable-overlay`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disable-overlay`),\n\t\t\t\t\twidth:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tcallback:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`),\n\t\t\t\t\tclasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-classes`),\n\t\t\t\t\tclose:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close`),\n\t\t\t\t\tcloseClasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close-classes`),\n\t\t\t\t\tfullscreen: //@TODO program this pityur\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen`),\n\t\t\t\t\tfullscreenClasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen-classes`),\n\n\t\t\t\t\t//board specific\n\t\t\t\t\t\talign:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-align`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-align`),\n\t\t\t\t\t\tresize:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize`),\n\t\t\t\t\t\t\n\t\t\t\t\t\tresizeClasses:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize-classes`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize-classes`),\n\n\t\t\t\t\t//custom specific\n\t\t\t\t\t\t// customMarkup: //halat weit\n\t\t\t\t}\n\t\t\t),\n\t\t\tModal.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tcreate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\t\t\n\t\tif(element || !window.location.hash){\n\t\t\tthis.destroy();\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\n\t\tconst id = this.UIElId || this.UIId;\n\n\t\tid !== `${this.UIId}` && this.args.changeHash && UIChangeHash(id);\n\n\n\t\tconst theUI = document.createElement('div');\n\t\tdocument.querySelector('body').appendChild(theUI);\n\t\ttheUI.className = `${UIPrefix(COMPONENT_CLASS)}  ${UIPrefix(COMPONENT_CLASS)}-mode-${this.mode} ${UIPrefix(COMPONENT_CLASS)}-component\n\t\t\t${this.args.align ? `${UIPrefix(COMPONENT_CLASS)}-align-${this.args.align}` : ''}\n\t\t\t${this.args.classes}`;\n\t\ttheUI.setAttribute('id', this.UIId);\n\n\t\ttheUI.innerHTML = this._markup;\n\n\n\t\tFwDom.moveContents(\n\t\t\telement,\n\t\t\tthis.UIContentBlock\n\t\t);\n\n\t\tthis.#current = {\n\t\t\telement: element,\n\t\t\targs: this.args\n\t\t\t\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\tthis.resize();\n\t\t}\n\n\t\tthis.update();\n\t\t\n\t\tif (this.args.callback) {\n\t\t\tthis._runFn(this.args.callback);\n\t\t}\n\n\t\ttheUI.classList.add(ACTIVATED_CLASS);\n\t\tdocument.body.classList.add(UIBodyClass.noScroll);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t}\n\n\tdestroy(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.#current.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_DESTROY);\n\t\tFwEvent.trigger(element,EVENT_DESTROY);\n\t\t// removeHash = removeHash || false;\n\n\t\tlet canRemoveHash = false;\n\t\n\t\tif (\n\t\t\telement.hasAttribute('id')\n\t\t\t&& element.getAttribute('id') == window.location.hash.replace('#','')\n\t\t) {\n\t\t\tcanRemoveHash = true;\n\t\t}\n\t\n\t\tif (this.UIRoot) {\n\t\t\tFwDom.moveContents(\n\t\t\t\tthis.UIContentBlock,\n\t\t\t\telement\n\t\t\t);\n\t\n\t\t\tthis.UIRoot.classList.remove('active');\n\t\t\tthis.UIRoot.parentNode.removeChild(this.UIRoot);\n\t\t}\n\t\n\t\t\n\t\n\t\tlet removeBodClass = true;\n\t\tif(\n\t\t\tdocument.getElementById(this.UIId)\n\t\t\t&& removeBodClass == true\n\t\t){\n\t\t\tremoveBodClass = false;\n\t\t}\n\t\n\t\tremoveBodClass && document.body.classList.remove(UIBodyClass.noScroll);\n\t\n\t\tcanRemoveHash && UIChangeHash('');\n\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_DESTROY);\n\n\t\tthis.#current = {\n\t\t\telement: false,\n\t\t\targs: false\n\t\t}\n\t}\n\n\tupdate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.#current.element;\n\t\n\t\tif(!element) {\n\t\t\treturn\n\t\t}\n\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_UPDATE);\n\t\tFwEvent.trigger(element,EVENT_UPDATE);\n\n\t\t// buttons\n\t\t\t// resize\n\t\t\t\tconst currentWidth = this.UIRoot\n\t\t\t\t\t.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`).clientWidth;\n\t\t\t\t\t\n\t\t\t\tconst resizeBtn = this.UIRoot\n\t\t\t\t\t.querySelectorAll(`*[data-toggle-${this.modeToggle}-resize]`);\n\n\t\t\t\tif(resizeBtn && currentWidth < parseInt(this.args.width)){\n\t\t\t\t\tresizeBtn.forEach((butt) => {\n\t\t\t\t\t\tbutt.classList.add('disabled');\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tresizeBtn.forEach((butt) => {\n\t\t\t\t\t\tbutt.classList.remove('disabled');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_UPDATE);\n\t}\n\n\tresize(width){\n\n\t\n\t\tif(!this.#current) {\n\t\t\treturn\n\t\t}\n\n\t\tconst args = args || this.args || this.#current.args || {};\n\t\twidth = width || args.width || null;\n\n\t\tif(this.UIRoot && parseInt(width) >= parseInt(args.width)){\n\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_BEFORE_RESIZE);\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_RESIZE);\n\n\t\t\t//all\n\t\t\tif(this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`)){\n\t\t\t\tthis.UIRoot.\n\t\t\t\t\tquerySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`)\n\t\t\t\t\t\t.style.width = width;\n\t\t\t}\n\n\t\t\t//bboard\n\t\t\tif(this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-button-wrapper`)){\n\t\t\t\tthis.UIRoot.\n\t\t\t\t\tquerySelector(`.${UIPrefix(COMPONENT_CLASS)}-button-wrapper`)\n\t\t\t\t\t\t.style.width = width;\n\t\t\t}\n\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_AFTER_RESIZE);\n\t\t}\n\t}\n\t\n\tget _markup(){\n\t\t\n\t\tlet html =\n\t\t\t`<div\n\t\t\t\tclass=\"\n\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-wrapper\"\n\t\t\t>`;\n\t\n\t\t\t\t//overlay\n\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-close-overlay\"\n\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\tthis.args.disableOverlay == false\n\t\t\t\t\t\t\t\t? `data-toggle-${this.modeToggle}-close`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t></a>`;\n\t\n\t\t\t\t\tswitch (this.mode) {\n\t\t\t\t\t\tcase 'board':\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-button-wrapper\">`;\n\t\t\t\t\t\t\t\tif (this.args.close !== false) {\n\t\t\t\t\t\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-close ${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.args.closeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t? this.args.closeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-button-default`}\"\n\t\t\t\t\t\t\t\t\t\tdata-toggle-${ this.modeToggle }-close\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-close \"></i>\n\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (this.args.resize !== false && this.args.width) {\n\t\t\t\t\t\t\t\t\thtml += `<a\n\t\t\t\t\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-resize ${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.args.resizeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t? this.args.resizeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-button-default`}\"\n\t\t\t\t\t\t\t\t\t\tdata-toggle-${this.modeToggle}-resize\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-arrow-tail-left \"></i>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-arrow-tail-right \"></i>\n\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup\">`;\n\t\n\t\t\t\t\t\t\t\tif (this.args.title) {\n\t\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-header\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class=\"${UIPrefix(COMPONENT_CLASS)}-title\">${decodeURIComponent(this.args.title)}</h1>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup-content\"></div>`;\n\t\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup\">`;\n\t\n\t\t\t\t\t\t\t\tif (this.args.title) {\n\t\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-header\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class=\"${UIPrefix(COMPONENT_CLASS)}-title\">${decodeURIComponent(this.args.title)}</h1>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tif (this.args.close !== false) {\n\t\t\t\t\t\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-close ${this.args.closeClasses}\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle-${this.modeToggle}-close\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup-content\"></div>`;\n\t\t\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\thtml += '</div>';\n\n\t\treturn html;\n\n\t}\n\t\n\n\tstatic handleResize(mode) {\n\t\treturn (e) => {\n\t\t\tVALID_MODAL_MODES.forEach(mode=>{\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tModal.current(mode).element,\n\t\t\t\t\tnull,\n\t\t\t\t\tModal.current(mode).args\n\t\t\t\t);\n\t\t\t\tmodal.resize();\n\t\t\t\tmodal.update();\n\t\t\t});\t\n\t\t}\n\t\t\n\t}\n\t\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\t\t\tif(Settings.get('initializeModal')){\n\n\t\t\t\tVALID_MODAL_MODES.forEach(mode=>{\n\t\t\t\t\tconst modal = new Modal(\n\t\t\t\t\t\tUIToggled(\n\t\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tmodal.create();\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t\t\n\t}\n\t\n\n\tstatic handleOpen(mode) {\n\t\treturn (e) => {\n\n\t\t\te.preventDefault();\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\te.target,\n\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t),\n\t\t\t\t\te.target,\n\t\t\t\t);\n\t\t\t\tmodal.create();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleClose(mode) {\n\t\treturn (e) => {\n\n\t\t\te.preventDefault();\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\te.target,\n\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t),\n\t\t\t\t\te.target,\n\t\t\t\t);\n\t\t\t\tmodal.destroy();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\tconst modeToggle = Modal.#modeToggle(mode);\n\t\t\n\t\t\tFwEvent.addListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\t`*[data-toggle-${modeToggle}], *[data-toggle-${modeToggle}-open]`,\n\t\t\t\tModal.handleOpen(mode)\n\t\t\t);\n\t\t\t\n\t\t\tFwEvent.addListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\t`*[data-toggle-${modeToggle}-close]`,\n\t\t\t\tModal.handleClose(mode)\n\t\t\t);\n\t\t});\n\t\t\n\n\t\tFwEvent.addListener(\n\t\t\tnull,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\twindow,\n\t\t\tModal.handleUniversal()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Modal.handleUniversal();\n\t\tInitiator.Q.on_resize = Modal.handleResize();\n\n\t}\n}\n\nexport default Modal;\n\nModal.initListeners();","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\nimport FwArray from './data-helper/array.js';\n\nimport FwComponent from './classes/component.js';\nimport { BrTag,ValidateBr } from './util/breakpoint.js';\n\n\nconst NAME = 'moduleGrid';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CHILDREN_CLASS = `module`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER_GRID = `before_render_grid${EVENT_KEY}`;\n\tconst EVENT_RENDER_GRID = `render_grid${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER_GRID = `after_render_grid${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER_BLOCK = `before_render_block${EVENT_KEY}`;\n\tconst EVENT_RENDER_BLOCK = `render_block${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER_BLOCK = `after_render_block${EVENT_KEY}`;\n\n\nconst PROPERTIES_WRAPPER = [\n\t\t'grid-template-columns',\n\t\t'grid-template-rows',\n\t\t'grid-template-areas',\n\t\t'grid-column-start',\n\t\t'grid-template-end',\n\t\t'grid-template',\n\t\t'grid-column-gap',\n\t\t'grid-row-gap',\n\t\t'justify-items',\n\t\t'align-items',\n\t\t'justify-content',\n\t\t'align-content',\n\t\t'place-content',\n\t\t'grid-auto-columns',\n\t\t'grid-auto-rows',\n\t\t'grid-auto-flow',\n\t\t'grid',\n\t];\n\nconst PROPERTIES_CHILDREN = [\n\t'grid-area',\n\t'grid-column',\n\t'grid-row',\n\t'grid-column-start',\n\t'grid-column-end',\n\t'grid-row-start',\n\t'grid-row-end',\n\t'justify-self',\n\t'align-self',\n\t'place-self',\n];\n\n\nclass ModuleGrid extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UIChildren () {\n\t\treturn super.UIEl().querySelectorAll(`.${COMPONENT_CHILDREN_CLASS}`);\n\t}\n\n\t_loopProps(block,props){\n\t\tprops.forEach((prop) => {\n\t\t\tlet propsSet = false,\n\t\t\t\tpropSetBr = false,\n\t\t\t\tsmallestStyledBr = false;\n\n\t\t\t//check for breakpointz first\n\t\t\tFwArray.reverse(BrTag).forEach((br) => {\n\t\t\t\tif (\n\t\t\t\t\tblock.hasAttribute(`data-${prop}-${br}`)\n\t\t\t\t\t&& !propsSet\n\t\t\t\t) {\n\t\t\t\t\tsmallestStyledBr = br;\n\t\t\t\t\tif (ValidateBr(br, 'above')) {\n\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t.style[FwString.ToCamelCase(prop)] = block.getAttribute(\n\t\t\t\t\t\t\t\t`data-${prop}-${br}`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tpropsSet = true;\n\t\t\t\t\t\tpropSetBr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tblock.hasAttribute(`data-${prop}`)\n\t\t\t\t&& !propsSet\n\t\t\t) {\n\t\t\t\t//check for all breakpoint\n\t\t\t\tif (\n\t\t\t\t\t!propsSet\n\t\t\t\t\t&& !propSetBr\n\t\t\t\t) {\n\t\t\t\t\tblock\n\t\t\t\t\t\t.style[FwString.ToCamelCase(prop)] = block.getAttribute(\n\t\t\t\t\t\t\t`data-${prop}`\n\t\t\t\t\t\t);\n\t\t\t\t\tpropsSet = true;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tblock.style[FwString.ToCamelCase(prop)] !== null\n\t\t\t\t\t&& smallestStyledBr\n\t\t\t\t\t&& !ValidateBr(smallestStyledBr, 'above')\n\t\t\t\t) {\n\t\t\t\t\tblock.style[FwString.ToCamelCase(prop)] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\trenderGrid(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(elem,EVENT_BEFORE_RENDER_GRID);\n\t\t\tFwEvent.trigger(elem,EVENT_RENDER_GRID);\n\n\t\t\tthis._loopProps(element,PROPERTIES_WRAPPER);\n\n\t\t\tFwEvent.trigger(elem,EVENT_AFTER_RENDER_GRID);\n\t}\n\n\trenderBlocks(){\n\n\t\tthis.UIChildren.forEach((child)=>{\n\n\t\t\tFwEvent.trigger(child,EVENT_BEFORE_RENDER_BLOCK);\n\t\t\tFwEvent.trigger(child,EVENT_RENDER_BLOCK);\n\n\t\t\tthis._loopProps(child,PROPERTIES_CHILDREN);\n\n\t\t\tFwEvent.trigger(child,EVENT_AFTER_RENDER_BLOCK);\n\t\t});\n\t}\n\n\trender(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\n\t\t\tFwEvent.trigger(elem,EVENT_BEFORE_RENDER);\n\t\t\tFwEvent.trigger(elem,EVENT_RENDER);\n\n\t\t\tthis.renderGrid(element);\n\t\t\tthis.renderBlocks();\n\t\t\n\t\t\tFwEvent.trigger(elem,EVENT_AFTER_RENDER);\n\t}\n\t\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\n\n\t\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\t\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\t\tconst grids = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\t\tgrids.forEach((grid)=>{\n\t\t\t\tconst moduleGrid = new ModuleGrid(grid);\n\t\t\t\tmoduleGrid.render();\n\t\t\t})\n\n\t\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t\t}\n\t\t\n\t}\n\n\tstatic initListeners(){\n\t\tInitiator.Q.on_ready = ModuleGrid.handleUniversal();\n\t\tInitiator.Q.on_resize = ModuleGrid.handleUniversal();\n\t}\n}\n\n\nexport default ModuleGrid;\nModuleGrid.initListeners();","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UIPurge } from './util/ui.js';\n\n\nconst NAME = 'switch';\nconst TOGGLE_MODE = `${NAME}`;\nconst TOGGLE_MODE_ON = `${TOGGLE_MODE}-on`;\nconst TOGGLE_MODE_OFF = `${TOGGLE_MODE}-off`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\tconst COMPONENT_CLASS_STATUS_OFF = `${COMPONENT_CLASS}-to-off`;\n\tconst COMPONENT_CLASS_STATUS_ON = `${COMPONENT_CLASS}-to-on`;\n\tconst COMPONENT_CLASS_IDLE = `${COMPONENT_CLASS}-idle`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\n\nconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\nconst EVENT_INIT = `init${EVENT_KEY}`;\nconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\nconst EVENT_BEFORE_ON = `before_on${EVENT_KEY}`;\nconst EVENT_ON = `on${EVENT_KEY}`;\nconst EVENT_AFTER_ON = `after_on${EVENT_KEY}`;\n\nconst EVENT_BEFORE_OFF = `before_off${EVENT_KEY}`;\nconst EVENT_OFF = `off${EVENT_KEY}`;\nconst EVENT_AFTER_OFF = `after_off${EVENT_KEY}`;\n\n\nclass Switch extends FwComponent {\n\n\tconstructor(element){\n\t\telement = element || UIToggled(TOGGLE_MODE) || false;\n\n\t\tsuper(element);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tisOff(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\treturn element.classList.contains(COMPONENT_CLASS_STATUS_OFF);\n\t}\n\n\n\tisOn(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\treturn element.classList.contains(COMPONENT_CLASS_STATUS_ON) || !this.isOff();\n\n\n\t}\n\t\n\tisIdle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\t\n\t\t\telement.classList.contains(COMPONENT_CLASS_IDLE);\n\t}\n\n\t//catch bois that re not off\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element.classList.contains(COMPONENT_CLASS_STATUS_ON) && !element.classList.contains(COMPONENT_CLASS_STATUS_OFF)){\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_OFF);\n\t\t}\n\n\t}\n\n\tturnOff(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OFF);\n\n\t\t\tFwEvent.trigger(element,EVENT_OFF);\n\t\t\telement.classList.remove(COMPONENT_CLASS_STATUS_ON);\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_OFF);\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OFF);\n\t}\n\n\tturnOn(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_ON);\n\t\t\tFwEvent.trigger(element,EVENT_ON);\n\n\t\t\telement.classList.remove(COMPONENT_CLASS_STATUS_OFF);\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_ON);\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_ON);\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\n\t\t\tif(this.isOff()){\n\t\t\t\tthis.turnOn();\n\t\t\t}else{\n\t\t\t\tthis.turnOff();\n\t\t\t}\n\t\t\n\t}\n\t\n\n\tstatic purge(exempted){\n\t\tUIPurge(\n\t\t\texempted,\n\t\t\t`.${COMPONENT_CLASS}:not(.${COMPONENT_CLASS_IDLE})`,\n\t\t\t(elem)=> {\n\t\t\t\tnew Switch(elem).turnOff();\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic handleToggleOn() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst switchElement = new Switch(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target)\n\t\t\t\t);\n\t\t\t\tSwitch.purge(UIToggled(TOGGLE_MODE,e.target));\n\t\t\t\tswitchElement.turnOn();\n\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleOff() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst switchElement = new Switch(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target)\n\t\t\t\t);\n\t\t\t\tswitchElement.turnOff();\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleInit(){\n\t\treturn () => {\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\n\t\t\tUIPurge(\n\t\t\t\tfalse,\n\t\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\t\t(elem)=> {\n\t\t\t\t\tnew Switch(elem).init();\n\t\t\t\t}\n\t\t\t);\n\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(){\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle-${TOGGLE_MODE_ON}]`)\n\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE_OFF}]`)\n\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t){\n\t\t\t\t\tSwitch.purge();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_OFF}]`,\n\t\t\tSwitch.handleToggleOff()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_ON}]`,\n\t\t\tSwitch.handleToggleOn()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*`,\n\t\t\tSwitch.handleUniversalPurge()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Switch.handleInit();\n\t}\n}\n\nexport default Switch;\n\nSwitch.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\n\nconst NAME = 'tabs';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CHILDREN_CLASS = 'tab';\nconst COMPONENT_CHILDREN_TAG = 'li';\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_ACTIVATE = `before_activate${EVENT_KEY}`;\n\tconst EVENT_ACTIVATE = `activate${EVENT_KEY}`;\n\tconst EVENT_AFTER_ACTIVATE = `after_activate${EVENT_KEY}`;\n\nclass Tabs extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tUIChildren(){\n\t\treturn super.UIEl().querySelectorAll(`.${COMPONENT_CHILDREN_CLASS}, ${COMPONENT_CHILDREN_TAG}`);\n\t}\n\n\tUIActive(){\n\t\treturn super.UIEl().querySelector(`.${COMPONENT_CHILDREN_CLASS}.${ACTIVATED_CLASS}, ${COMPONENT_CHILDREN_TAG}.${ACTIVATED_CLASS}`);\n\t}\n\n\ttarget(element){\n\t\tif(element) return new FwDom(element).closest(`.${COMPONENT_CHILDREN_CLASS}`);\n\t}\n\n\tactivate(target,elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\t\n\t\tconst theTab = this.target(target);\n\n\t\tif(!theTab){\n\t\t\treturn false;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_ACTIVATE);\n\n\t\tif (!theTab.classList.contains(`${ACTIVATED_CLASS}`)) {\n\t\t\tFwEvent.trigger(element,EVENT_ACTIVATE);\n\t\t\tconst triggererSiblings = FwDom.getSiblings(\n\t\t\t\ttheTab\n\t\t\t);\n\t\t\ttriggererSiblings\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tsibling.matches(`.${COMPONENT_CHILDREN_CLASS}`)\n\t\t\t\t\t\t|| sibling.matches(`${COMPONENT_CHILDREN_TAG}`)\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.forEach((sibling) => {\n\t\t\t\t\tsibling.classList.remove(`${ACTIVATED_CLASS}`);\n\t\t\t\t});\n\n\t\t\ttheTab.classList.add(`${ACTIVATED_CLASS}`);\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_ACTIVATE);\n\n\t}\n\n\n\tstatic handleClick() {\n\t\treturn (e) => {\n\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\n\t\t\t} else {\n\t\t\t\tconst tabs = new Tabs(e.target.closest('.tabs'));\n\t\t\t\ttabs.activate(e.target);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS} > ${COMPONENT_CHILDREN_TAG} > *, .${COMPONENT_CHILDREN_CLASS}, .${COMPONENT_CHILDREN_CLASS} > *`,\n\t\t\tTabs.handleClick()\n\t\t);\n\t}\n\t\n}\n\nexport default Tabs;\n\nTabs.initListeners(); ","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\nimport {Palette} from './util/validation.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\nconst NAME = 'tooltip';\nconst TOGGLE_MODE_CLICK = `${NAME}-click`;\nconst TOGGLE_MODE_HOVER = `${NAME}-hover`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CUSTOM_WIDTH_CLASS = `${COMPONENT_CLASS}-has-custom-width`;\nconst COMPONENT_PURGER_CLASS = `${COMPONENT_CLASS}-purger`;\nconst COMPONENT_ALLOW_INTERACTION_CLASS = `${COMPONENT_CLASS}-allow-interaction`;\nconst ACTIVATED_CLASS = `active`;\n\n\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`;\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DESTROY = `before_destroy${EVENT_KEY}`;\n\tconst EVENT_DESTROY = `destroy${EVENT_KEY}`;\n\tconst EVENT_AFTER_DESTROY = `after_destroy${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_POSITION = `before_position${EVENT_KEY}`;\n\tconst EVENT_POSITION = `position${EVENT_KEY}`;\n\tconst EVENT_AFTER_POSITION = `after_position${EVENT_KEY}`;\n\n\tconst CURRENT_TOOLTIP_INSTANCE = {\n\t\tUI: null,\n\t\ttriggerer:null,\n\t\targs: null\n\t}\n\nclass Tooltip extends FwComponent {\n\t\n\tconstructor(triggerElement,args){\n\n\t\ttriggerElement = triggerElement || Tooltip.current.triggerer || false;\n\n\t\tsuper(\n\t\t\ttriggerElement,\n\t\t\t{\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get current() {\n\t\treturn CURRENT_TOOLTIP_INSTANCE;\n\t}\n\n\tstatic set current(obj){\n\t\tCURRENT_TOOLTIP_INSTANCE.UI = obj.UI;\n\t\tCURRENT_TOOLTIP_INSTANCE.args = obj.args;\n\t\tCURRENT_TOOLTIP_INSTANCE.triggerer = obj.triggerer;\n\t}\n\n\tget UICurrent(){\n\t\treturn Tooltip.current.UI;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tplacement: 'left',\n\t\t\tbadge: false,\n\t\t\tbadgeBg: 'primary',\n\t\t\tbadgeSize: '',\n\t\t\tclasses: '',\n\t\t\tinverse:false,\n\t\t\tsize: '',\n\t\t\tcontent: '<em class=\"color-neutral tooltip-placeholder\">No info...</em>',\n\t\t\tcenterX: false,\n\t\t\tcenterY: false,\n\t\t\tx: false,\n\t\t\ty: false,\n\t\t\twidth: null,\n\t\t\tallowInteraction: false\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tplacement:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-placement`),\n\t\t\t\t\tbadge:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge`),\n\t\t\t\t\tbadgeBg:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge-background`),\n\t\t\t\t\tbadgeSize:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge-size`),\n\t\t\t\t\tclasses:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-classes`),\n\t\t\t\t\tcontent:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-content`),\n\t\t\t\t\tinverse:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-inverse`),\n\t\t\t\t\tsize:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-size`),\n\t\t\t\t\tcenterX:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-center-x`),\n\t\t\t\t\tcenterY:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-center-y`),\n\t\t\t\t\tx:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-x`),\n\t\t\t\t\ty:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-y`),\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-width`),\n\t\t\t\t\tallowInteraction:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-allow-interaction`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tTooltip.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\t_markup(){\n\t\tlet html = '';\n\n\t\tif (this.args.badge) {\n\t\t\thtml += `<span class=\"badge ${NAME}-badge`;\n\t\t\t\tif (\n\t\t\t\t\tthis.args.badgeSize == 'small'\n\t\t\t\t\t|| this.args.badgeSize == 'large'\n\t\t\t\t) {\n\t\t\t\t\thtml += ` badge-${this.args.badgeSize}`;\n\t\t\t\t}\n\n\t\t\t\tif (Palette.includes(this.args.badgeBg)) {\n\t\t\t\t\thtml += ` badge-${this.args.badgeBg}`;\n\t\t\t\t} else {\n\t\t\t\t\thtml += `\" style=\"background-color:${this.args.badgeBg};`;\n\t\t\t\t}\n\t\t\thtml += `\"></span>`;\n\t\t}\n\n\t\thtml += `<div class=\"${NAME}-content ${this.args.classes}\">${this.args.content}</div></div>`;\n\n\t\treturn html;\n\t}\n\n\tget elementOffset(){\n\t\tconst element = super.UIEl();\n\n\t\treturn {\n\t\t\ttop:\n\t\t\t\telement.getBoundingClientRect().top + window.pageYOffset,\n\t\t\tleft:\n\t\t\t\telement.getBoundingClientRect().left + window.pageXOffset,\n\t\t\theight:\n\t\t\t\telement.getBoundingClientRect().height,\n\t\t\twidth:\n\t\t\t\telement.getBoundingClientRect().width,\n\t\t}\n\t}\n\n\tget _pointWidth(){\n\n\t\tlet toReturn = parseFloat(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(Tooltip.current.UI, ':before')\n\t\t\t\t.getPropertyValue('width')\n\t\t);\n\t\t\t\n\t\t\ttoReturn = Math.sqrt(toReturn * toReturn * 2) * 0.5;\n\t\t\tisNaN(toReturn) && (toReturn = 15);\n\n\t\treturn toReturn;\n\t}\n\n\tget badge(){\n\t\tif(!this.UICurrent){\n\t\t\treturn\n\t\t}\n\t\treturn this.UICurrent.querySelector(`.${COMPONENT_CLASS}-badge`);\n\t}\n\n\tget width(){\n\t\treturn this.UICurrent.getBoundingClientRect().width;\n\t}\n\n\tget height(){\n\t\treturn this.UICurrent.getBoundingClientRect().height;\n\t}\n\n\tset width(val){\n\t\tthis.UICurrent.style.width = val;\n\t}\n\n\tset height(val){\n\t\tthis.UICurrent.style.height = val;\n\t}\n\n\tcreate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\n\t\tthis.destroy();\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\t\n\t\tconst tip = document.createElement('div');\n\t\t\tdocument.body.appendChild(tip);\n\n\t\ttip.className = `${COMPONENT_CLASS} ${COMPONENT_CLASS}-${this.args.placement}\n\t\t\t${(this.args.width ? COMPONENT_CUSTOM_WIDTH_CLASS : '')}\n\t\t\t${(this.args.allowInteraction ? COMPONENT_ALLOW_INTERACTION_CLASS : '')}\n\t\t\t${(this.args.size ? `${COMPONENT_CLASS}-${this.args.size}` : '')}\n\t\t\t${(this.args.inverse ? 'theme-inverse' : '')}`;\n\n\t\tif (this.args.width) {\n\t\t\ttip.style.width = this.args.width;\n\t\t}\n\n\t\ttip.innerHTML += this._markup();\n\n\t\tTooltip.current = {\n\t\t\tUI: tip,\n\t\t\targs: this.args,\n\t\t\ttriggerer: element\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\tthis.width = this.args.width;\n\t\t}\n\n\t\ttip.classList.add(ACTIVATED_CLASS);\n\n\t\tthis.position();\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t\t\n\t}\n\n\tdestroy(){\n\t\tconst element = Tooltip.current.UI;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_DESTROY);\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_DESTROY);\n\n\t\telement\n\t\t\t.parentNode.removeChild(element);\n\t\n\t\tTooltip.current = {\n\t\t\tUI: false,\n\t\t\targs: false,\n\t\t\ttriggerer: false\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_DESTROY);\n\t}\n\n\tget UIOffset(){\n\t\t\n\t\tlet the_x = this.width * -0.5; //top and bottom\n\t\tlet badgeOffsetX = 0;\n\n\t\tswitch (this.args.placement) {\n\t\t\tcase 'right':\n\t\t\t\tthe_x = this._pointWidth;\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tthe_x = -(this.width + this._pointWidth);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (\n\t\t\tthis.badge\n\t\t\t&& (\n\t\t\t\tthis.args.placement == 'left'\n\t\t\t\t|| this.args.placement == 'right'\n\t\t\t)\n\t\t) {\n\t\t\tbadgeOffsetX =\n\t\t\t\tthis.args.placement == 'left'\n\t\t\t\t\t? this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.width * -0.5\n\t\t\t\t\t: this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.width * 0.5;\n\t\t}\n\n\t\tthe_x += badgeOffsetX;\n\n\n\t\tlet the_y = this.height * -0.5; // left and right\n\t\tlet badgeOffsetY = 0;\n\n\t\tswitch (this.args.placement) {\n\t\t\tcase 'bottom':\n\t\t\t\tthe_y = this._pointWidth;\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tthe_y = -(this.height + this._pointWidth);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (\n\t\t\tthis.badge\n\t\t\t&& (\n\t\t\t\tthis.args.placement == 'top'\n\t\t\t\t|| this.args.placement == 'bottom'\n\t\t\t)\n\t\t) {\n\t\t\tbadgeOffsetY =\n\t\t\t\tthis.args.placement == 'top'\n\t\t\t\t\t? this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.height * -0.5\n\t\t\t\t\t: this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.height * 0.5;\n\t\t}\n\n\t\tthe_y += badgeOffsetY;\n\n\t\treturn {\n\t\t\tx: the_x,\n\t\t\ty: the_y\n\t\t\t// x: 0,\n\t\t\t// y: 0\n\t\t};\n\t}\n\n\tposition(posX,posY){\n\t\tconst element = super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_POSITION);\n\t\tif(!Tooltip.current.UI){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_POSITION);\n\n\t\tconst toolTip = Tooltip.current.UI;\n\n\t\tposX = posX || this.elementOrigin.x;\n\t\tposY = posY || this.elementOrigin.y;\n\n\t\ttoolTip.style.left = posX + this.UIOffset.x + 'px';\n\t\ttoolTip.style.top = posY + this.UIOffset.y + 'px';\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_POSITION);\n\t}\n\n\tget elementOrigin(){\n\t\n\t\tif(!Tooltip.current.UI){\n\t\t\treturn;\n\t\t}\n\n\t\tlet the_x =\n\t\t\tthis.elementOffset.left + this.elementOffset.width * 0.5; //top and bottom\n\n\t\tif (!this.args.x) {\n\t\t\tif (!this.args.centerX) {\n\t\t\t\tswitch (this.args.placement) {\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthe_x =\n\t\t\t\t\t\t\tthis.elementOffset.left +\n\t\t\t\t\t\t\tthis.elementOffset.width;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthe_x = this.elementOffset.left;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthe_x = parseFloat(this.args.x);\n\t\t}\n\n\t\tlet the_y =\n\t\t\tthis.elementOffset.top + this.elementOffset.height * 0.5; // left and right\n\t\tif (!this.args.y) {\n\t\t\tif (!this.args.centerY) {\n\t\t\t\tswitch (this.args.placement) {\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tthe_y =\n\t\t\t\t\t\t\tthis.elementOffset.top +\n\t\t\t\t\t\t\tthis.elementOffset.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tthe_y = this.elementOffset.top;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthe_y = parseFloat(this.args.y);\n\t\t}\n\t\t\n\t\treturn {\n\t\t\tx: the_x,\n\t\t\ty: the_y\n\t\t}\n\t}\n\n\tstatic handleToggleClickOn(){\n\t\treturn (e)=>{\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tooltip = new Tooltip(e.target);\n\t\t\t\ttooltip.create();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(){\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle-${TOGGLE_MODE_CLICK}]`)\n\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE_HOVER}]`)\n\t\t\t\t\t// && !e.target.closest(`.${COMPONENT_CLASS}.${COMPONENT_ALLOW_INTERACTION_CLASS}`)\n\t\t\t\t){\n\t\t\t\t\tconst tooltip =  new Tooltip();\n\t\t\t\t\ttooltip.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleHoverOn(){\n\t\treturn (e)=>{\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\tconst tooltip = new Tooltip(e.target);\n\t\t\t\ttooltip.create();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleHoverOff(){\n\t\treturn (e)=>{\n\t\t\tconst tooltip =  new Tooltip();\n\t\t\ttooltip.destroy();\n\t\t}\n\t}\n\n\t\n\n\tstatic handleResizeScroll() {\n\t\treturn () => {\n\t\t\tif(Tooltip.current.triggerer){\n\t\t\t\ttooltip = new Tooltip(Tooltip.current.triggerer);\n\n\t\t\t\ttooltip.position();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSEENTER,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_HOVER}]`,\n\t\t\tTooltip.handleToggleHoverOn()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSELEAVE,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_HOVER}]`,\n\t\t\tTooltip.handleToggleHoverOff()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_CLICK}]`,\n\t\t\tTooltip.handleToggleClickOn()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*, .${COMPONENT_PURGER_CLASS}`,\n\t\t\tTooltip.handleUniversalPurge()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Tooltip.handleResizeScroll();\n\t\tInitiator.Q.on_resize = Tooltip.handleResizeScroll();\n\t\t\n\t}\n}\n\nexport default Tooltip;\n\nTooltip.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\n\nconst NAME = 'zone';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\tconst ACTIVATED_CLASS = `${COMPONENT_CLASS}-has-content`;\n\tconst COMPONENT_TEXT_CLASS = `${ACTIVATED_CLASS}-text`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_ACTIVATE = `before_activate${EVENT_KEY}`;\n\tconst EVENT_ACTIVATE = `activate${EVENT_KEY}`;\n\tconst EVENT_AFTER_ACTIVATE = `after_activate${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DEACTIVATE = `before_deactivate${EVENT_KEY}`;\n\tconst EVENT_DEACTIVATE = `deactivate${EVENT_KEY}`;\n\tconst EVENT_AFTER_DEACTIVATE = `after_deactivate${EVENT_KEY}`;\n\nclass Zone extends FwComponent {\n\n\tconstructor(element,formControl){\n\t\telement = element || false;\n\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_formControl:(\n\t\t\t\t\tformControl\n\t\t\t\t\t\t? new FwDom(formControl)\n\t\t\t\t\t: false\n\t\t\t\t)\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tget UIControl(){\n\t\treturn this._formControl;\n\t}\n\n\tget UIDyText(){\n\t\treturn super.UIEl().querySelector(`.${COMPONENT_TEXT_CLASS}`);\n\t}\n\n\t_killDyText(){\n\t\tthis.UIDyText && this.UIDyText.parentNode.removeChild(this.UIDyText);\n\t}\n\n\tactivate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_ACTIVATE);\n\t\t\tFwEvent.trigger(element,EVENT_ACTIVATE);\n\n\t\t\tthis._killDyText();\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\t\t\telement.innerHTML += `<div class=\"${COMPONENT_TEXT_CLASS}\">\n\t\t\t\t\t<span>${this.UIControl.files.length} files selected.<br> Click or drag and drop to reselect</span>\n\t\t\t\t</div>`;\n\t\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_ACTIVATE);\n\n\t}\n\n\tdeactivate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_DEACTIVATE);\n\t\t\tFwEvent.trigger(element,EVENT_DEACTIVATE);\n\n\t\t\tthis._killDyText();\n\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_DEACTIVATE);\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tthis.UIDyText && this.UIDyText.parentNode.removeChild(this.UIDyText);\n\n\t\tif (this.UIControl.value && this.UIControl.files.length) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\t}\n\n\n\tstatic handleClick() {\n\t\treturn (e) => {\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst zone = new Zone(e.target.closest(`.${COMPONENT_CLASS}`),e.target);\n\t\t\t\tzone.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\tZone.handleClick()\n\t\t);\n\t}\n\t\n}\n\nexport default Zone;\n\nZone.initListeners(); ","// import FwArrayay from './src/data-helper/array.js';\n// import FwString from './src/data-helper/string.js';\n// import FwDate from './src/data-helper/date.js';\n// import FwDom from './src/data-helper/dom.js';\n\n\nimport Initiator from './imports/core/initiator.js';\nimport Settings from './imports/core/settings.js';\n\nimport Accordion from './imports/accordion.js';\nimport Alert from './imports/alert.js';\nimport Button from './imports/button.js';\nimport Dropdown from './imports/dropdown.js';\nimport Form from './imports/form.js';\nimport Lazy from './imports/lazy.js';\nimport ListGroup from './imports/list-group.js';\nimport Modal from './imports/modal.js';\nimport ModuleGrid from './imports/module-grid.js';\nimport Switch from './imports/switch.js';\nimport Tabs from './imports/tabs.js';\nimport Tooltip from './imports/tooltip.js';\nimport Zone from './imports/zone.js';\n\nconst FrameWork = {\n\tInitiator,\n\tSettings,\n\tAccordion,\n\tAlert,\n\tButton,\n\tDropdown,\n\tForm,\n\tLazy,\n\tListGroup,\n\tModal,\n\tModuleGrid,\n\tSwitch,\n\tTabs,\n\tTooltip,\n\tZone,\n};\nexport default FrameWork"],"names":["CORE_SETTINGS","prefix","lazyLoad","initializeModal","initializeAccordion","dynamicHash","uiClass","uiJsClass","replace","Settings","modify","key","value","hasOwnProperty","get","toReturn","DisableClasses","lookupResetToParentClass","lookupResetFromClosestComponent","lookupResetFromClosestComponentUi","DateTimePreset","HumanDate","placeholder","pattern","template","HumanTime24","HumanTime12","Value","ValueDateTimePreset","dayNames","dayNamesShort","dayNamesShorter","monthNames","monthNamesShort","Palette","FwDataHelper","data","dataParser","dat","_FwData","getData","FwDom","selection","document","querySelectorAll","length","querySelector","slideDown","elem","style","display","slideUp","getSiblings","Array","prototype","filter","call","parentNode","children","child","isDescendant","parent","node","getAncestors","selector","parents","firstChar","charAt","classList","contains","substr","push","id","hasAttribute","tagName","toLowerCase","moveContents","elementToMoveContentsTo","oldParent","newParent","childNodes","appendChild","scrollToElem","ToScrollTo","direction","methods","scrollOpts","getBoundingClientRect","scrollTo","RunFnForChildren","ancestorElem","parentSelector","fn","forEach","closest","isSameNode","FwString","GetFileExtension","str","toString","split","pop","ToCamelCase","word","index","toUpperCase","ToDashed","UIPrefix","componentName","UIDynamicClass","UIBodyClass","noScroll","onDrag","loading","loaded","UITriggerer","triggerer","isGroupable","UIToggled","toggleMode","componentClass","selectorToMatch","getAttribute","startsWith","matches","i","possibleSiblings","nextElementSibling","window","location","hash","UIChangeHash","idToGoTo","history","pushState","scrollV","scrollH","title","pathname","search","body","scrollTop","scrollLeft","UIToggleGroup","element","activatedClass","siblingSelector","resetterClass","noActiveClass","multipleClass","resetter","butt","remove","selectorSiblings","sibling","toggle","add","UIPurge","exempted","callback","FwQueue","_on_load","_on_ready","_on_resize","_on_scroll","_on_rightAway","_on_init","INITIATOR_QUEUE","is_started","Initiator","resizeTimerInternal","scrollTimerInternal","isDocReady","readyState","addEventListener","setState","mode","setTimeout","setLoadingState","setCompleteState","start","ini","isStarted","Q","on_init","restart","console","info","val","fnsArray","on_rightAway","on_ready","on_load","clearTimeout","on_resize","on_scroll","NativeEvents","FwEvent","classNester","selArr","sel","addListener","evt","selectorOrParentFallback","handler","elemToAddTo","evtNoApi","isNative","includes","event","target","trigger","detail","nativeEvt","_selection","translateToNative","el","customEventOpts","createEvent","initEvent","CustomEvent","dispatchEvent","bubbles","cancelable","_dataobj","storage","_set","fwKeys","_get","keyProperties","_remove","DataHandler","set","elm","FwComponent","props","constructor","DATA_KEY","dispose","getInstance","UIEl","_resetUIEl","Error","_runFn","eval","exec","err","error","_setInitState","beforeEvent","happeningEvent","afterEvent","_parseArgs","arr","defaults","args","prop","undefined","parser","isDisabled","classString","isDynamic","BrValue","xxs","xs","parseFloat","getComputedStyle","documentElement","getPropertyValue","sm","md","lg","xl","BrTag","Object","keys","BrMobileMax","ValidateBr","breakpoint","currIndex","indexOf","clientWidth","NAME","ARG_ATTRIBUTE_NAME","TOGGLE_MODE","COMPONENT_CLASS","ACTIVATED_CLASS","EVENT_KEY","EVENT_CLICK","EVENT_HASHCHANGE","EVENT_BEFORE_CLOSE","EVENT_CLOSE","EVENT_AFTER_CLOSE","EVENT_BEFORE_OPEN","EVENT_OPEN","EVENT_AFTER_OPEN","Accordion","_customArgs","_siblicide","_isWithinGroupMultiple","UIGroot","accBbies","close","_isValidWithinQuery","_isWithinAllowNoActive","_probablyToggle","changeHash","_id","open","handleToggler","e","preventDefault","accordion","handleHash","initListeners","configDefaults","Alert","removeChild","closeAll","instance","alertInstance","handleClose","alert","handleCloseAll","EVENT_BEFORE_TOGGLE","EVENT_TOGGLE","EVENT_AFTER_TOGGLE","Button","handleToggle","button","COMPONENT_PURGER_CLASS","NAV_ANCESTOR","EVENT_CLICK_PURGE","EVENT_FOCUS","EVENT_BLUR","Dropdown","setDimensions","UIElNavcestor","purge","width","maxHeight","dropdown","handleFocusOpen","blur","handleBlurClose","handleUniversalPurge","isPurger","FwDate","toParsed","d","yr","mo","dy","hr","mn","dateArr","timeArr","getFullYear","getMonth","getDate","getHours","getMinutes","RegExp","isValid","test","DateTimePresetArr","parseInt","Date","toHuman","date","format","iFormat","output","literal","lookAhead","match","formatNumber","len","num","formatName","shortNames","longNames","getDay","Math","round","getTime","toVal","adjacentMonth","offsetByMonth","dateOverride","currMonth","currYear","newMonth","newYear","defOffset","setMonth","setFullYear","setDate","EVENT_KEYUP","EVENT_CHANGE","EVENT_BEFORE_INIT","EVENT_INIT","EVENT_AFTER_INIT","EVENT_BEFORE_RENDER","EVENT_RENDER","EVENT_AFTER_RENDER","EVENT_BEFORE_UPDATE","EVENT_UPDATE","EVENT_AFTER_UPDATE","Calendar","valueToRender","UIValue","_arrowHtml","buttonClass","symbolClass","arrowDate","disValid","arrowClass","_calendar","startDate","validates","year","month","htmlString","_blockHtml","customClass","update","newValue","theValue","uiValue","renderValue","_renderUI","UIRoot","UIDates","UIInput","UIInputValue","rangeOnly","checkAgainst","disabledDates","dateNow","setHours","max","min","theUI","container","createElement","insertBefore","setAttribute","inputWrapper","components","component","textInput","innerHTML","heading","butts","yearSkip","monthSkip","dropdownInit","dropdownLimit","yearSpan","listItemDate","dateForValidation","currClass","listItem","grid","append","days","daysHTML","dayToRetrieve","startDay","dates","freeGridSpacePrev","calendarPrevDayStart","prevDay","offset","prevDate","loopDatePrev","dateBlockPrev","lastDate","dateBlockCurr","currNextFirstDay","freeGridSpaceNext","loopDateNext","dateBlockNext","init","initAll","calendars","cal","calendar","handleChange","handleUpdateKeyup","uiInput","y","m","preParsedVal","handleUpdateClick","handleRenderClick","theRenderDate","renderDate","Modifiers","ctrl","shift","alt","meta","hasActive","shiftKey","ctrlKey","altKey","metaKey","FwArrayay","moveItem","oi","ni","k","splice","reverse","newArray","FOCUS_CLASS","EVENT_KEYDOWN","EVENT_PASTE","INPUT_STRING","Tags","_scrollToUIInput","multipleLines","offsetLeft","offsetWidth","toArr","returnsWithInput","isArray","reduce","acc","tag","__is","join","filterValue","custFn","fnToFilter","applyFilter","valueToFilter","filterFnName","noInputValueToFilter","UIInputIdx","allowFilter","inputText","focus","wrapper","input","contentEditable","onKeyUp","keyUpScript","oldTags","valArr","tagHtml","insertAdjacentElement","attributes","attr","specified","name","disableNative","self","tagsInputs","poot","tagsInput","handleEditablePaste","pasted","clipboardData","originalEvent","handleEditableFocus","handleEditableBlur","currValue","handleEditableKeydown","currUIValue","FwArray","handleDelete","tagToRemove","handleEdit","tagToEdit","newUIValue","innerText","renderTags","inputValue","Form","COMPONENT_CLASS_SVG","SVG_REPLACED_CLASS","COMPONENT_SELECTOR","BODY_LOADING_CLASS","BODY_LOADED_CLASS","EVENT_BEFORE_SVGCONVERSION","EVENT_SVGCONVERSION","EVENT_AFTER_SVGCONVERSION","EVENT_BEFORE_LOAD","EVENT_LOAD","EVENT_AFTER_LOAD","Lazy","_ogElement","readyLoaded","loadSVG","imgID","imgClass","fetch","theSrc","then","response","text","markup","DOMParser","dom","parseFromString","svg","removeAttribute","UIOriginal","replaceWith","load","theSrcSet","backgroundImage","setStatus","status","addClass","removeClass","loadAll","images","img","lazy","CHILD_CLASS","COMPONENT_TOGGLEGROUP_PREFIX","ListGroup","triggeredChild","_triggeredChild","triggd","UITriggeredChild","listGroup","TOGGLE_MODE_PREFIX","DEFAULT_NAME","BOARD_NAME","EVENT_BEFORE_CREATE","EVENT_CREATE","EVENT_AFTER_CREATE","EVENT_BEFORE_DESTROY","EVENT_DESTROY","EVENT_AFTER_DESTROY","EVENT_BEFORE_RESIZE","EVENT_RESIZE","EVENT_AFTER_RESIZE","CURRENT_MODAL_INSTANCE","VALID_MODAL_MODES","Modal","currMode","current","_mode","create","destroy","UIElId","UIId","className","align","classes","_markup","UIContentBlock","resize","canRemoveHash","removeBodClass","getElementById","currentWidth","resizeBtn","modeToggle","handleResize","modal","handleUniversal","handleOpen","disableOverlay","closeClasses","fullscreen","fullscreenClasses","resizeClasses","html","decodeURIComponent","obj","COMPONENT_CHILDREN_CLASS","EVENT_BEFORE_RENDER_GRID","EVENT_RENDER_GRID","EVENT_AFTER_RENDER_GRID","EVENT_BEFORE_RENDER_BLOCK","EVENT_RENDER_BLOCK","EVENT_AFTER_RENDER_BLOCK","PROPERTIES_WRAPPER","PROPERTIES_CHILDREN","ModuleGrid","_loopProps","block","propsSet","propSetBr","smallestStyledBr","br","renderGrid","renderBlocks","UIChildren","render","grids","moduleGrid","TOGGLE_MODE_ON","TOGGLE_MODE_OFF","COMPONENT_CLASS_STATUS_OFF","COMPONENT_CLASS_STATUS_ON","COMPONENT_CLASS_IDLE","EVENT_BEFORE_ON","EVENT_ON","EVENT_AFTER_ON","EVENT_BEFORE_OFF","EVENT_OFF","EVENT_AFTER_OFF","Switch","isOff","isOn","isIdle","turnOff","turnOn","handleToggleOn","switchElement","handleToggleOff","handleInit","COMPONENT_CHILDREN_TAG","EVENT_BEFORE_ACTIVATE","EVENT_ACTIVATE","EVENT_AFTER_ACTIVATE","Tabs","UIActive","activate","theTab","triggererSiblings","handleClick","tabs","TOGGLE_MODE_CLICK","TOGGLE_MODE_HOVER","COMPONENT_CUSTOM_WIDTH_CLASS","COMPONENT_ALLOW_INTERACTION_CLASS","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_BEFORE_POSITION","EVENT_POSITION","EVENT_AFTER_POSITION","CURRENT_TOOLTIP_INSTANCE","UI","Tooltip","triggerElement","badge","badgeSize","badgeBg","content","tip","placement","allowInteraction","size","inverse","position","posX","posY","toolTip","elementOrigin","x","left","UIOffset","top","handleToggleClickOn","tooltip","handleToggleHoverOn","handleToggleHoverOff","handleResizeScroll","centerX","centerY","pageYOffset","pageXOffset","height","sqrt","isNaN","UICurrent","the_x","badgeOffsetX","_pointWidth","the_y","badgeOffsetY","elementOffset","COMPONENT_TEXT_CLASS","EVENT_BEFORE_DEACTIVATE","EVENT_DEACTIVATE","EVENT_AFTER_DEACTIVATE","Zone","formControl","_formControl","_killDyText","UIDyText","UIControl","files","deactivate","zone","FrameWork"],"mappings":"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"}