{"version":3,"sources":["webpack://fw/webpack/universalModuleDefinition","webpack://fw/./js/src/util/breakpoint.js","webpack://fw/./js/src/accordion.js","webpack://fw/./js/src/alert.js","webpack://fw/./js/src/button.js","webpack://fw/./js/src/lazy.js","webpack://fw/./js/framework.webpack.js","webpack://fw/./js/src/util/core.js","webpack://fw/./js/src/util/initiator.js","webpack://fw/./js/src/data-helper/event.js","webpack://fw/./js/src/classes/data-helper.js","webpack://fw/./js/src/data-helper/dom.js","webpack://fw/./js/src/data-helper/string.js","webpack://fw/./js/src/classes/component.js","webpack://fw/./js/src/util/validation.js","webpack://fw/./js/src/util/ui.js","webpack://fw/./js/src/dropdown.js","webpack://fw/./js/src/data-helper/date.js","webpack://fw/./js/src/form/form-calendar.js","webpack://fw/./js/src/form.js","webpack://fw/./js/src/form/form-tags.js","webpack://fw/./js/src/util/modifiers.js","webpack://fw/./js/src/data-helper/array.js","webpack://fw/webpack/bootstrap","webpack://fw/webpack/runtime/define property getters","webpack://fw/webpack/runtime/hasOwnProperty shorthand","webpack://fw/webpack/runtime/make namespace object","webpack://fw/webpack/startup"],"names":["BrValue","xxs","xs","parseFloat","getComputedStyle","document","documentElement","getPropertyValue","sm","md","lg","xl","BrTag","Object","keys","BrMobileMax","ValidateBr","breakpoint","mode","currIndex","indexOf","clientWidth","NAME","ARG_ATTRIBUTE_NAME","TOGGLE_MODE","COMPONENT_CLASS","FwString","ACTIVATED_CLASS","DATA_KEY","FwCore","EVENT_KEY","EVENT_CLICK","EVENT_BEFORE_CLOSE","EVENT_CLOSE","EVENT_AFTER_CLOSE","EVENT_BEFORE_OPEN","EVENT_OPEN","EVENT_AFTER_OPEN","Accordion","element","triggerer","args","UiToggled","_triggerer","FwDom","_customArgs","dispose","_siblicide","_isWithinGroupMultiple","UiGroot","accBbies","UiEl","classList","remove","close","elem","hashChangeOverride","changeHash","_isValidWithinQuery","FwEvent","_isWithinAllowNoActive","_probablyToggle","forEach","toggle","_id","UiChangeHash","open","add","contains","handleToggler","e","preventDefault","FwComponent","target","accordion","handleUniversal","initListeners","window","addEventListener","FwFnsQ","getAttribute","configDefaults","toReturn","selection","querySelectorAll","length","hasAttribute","parentNode","closest","matches","Alert","_element","removeChild","closeAll","selector","instance","alertInstance","handleClose","alert","handleCloseAll","EVENT_BEFORE_TOGGLE","EVENT_TOGGLE","EVENT_AFTER_TOGGLE","Button","UiToggleGroup","handleToggle","button","SVG_REPLACED_CLASS","COMPONENT_SELECTOR","BODY_LOADING_CLASS","BODY_LOADED_CLASS","NAV_ANCESTOR","EVENT_BEFORE_LAZYLOAD","EVENT_LAZYLOAD","EVENT_AFTER_LAZYLOAD","Lazy","_ogElement","load","theSrc","imgID","imgClass","fetch","then","response","text","markup","parser","DOMParser","dom","parseFromString","svg","querySelector","setAttribute","removeAttribute","UiOriginal","_resetUiEl","theSrcSet","style","backgroundImage","setStatus","status","addClass","removeClass","body","loadAll","images","img","lazy","Dropdown","Form","_dataobj","storage","id","_set","key","data","fwKeys","_get","keyProperties","_remove","Data","set","elm","get","settings","prefix","lazyLoad","initializeModal","initializeBoard","initializeAccordion","dynamicHash","uiClass","uiJsClass","replace","FwQueue","_on_load","_on_ready","_on_resize","_on_scroll","_on_rightAway","_on_init","fn","push","runFnsQ","fnsArray","docReady","readyState","FwInit","initEvents","on_init","runResize","runScroll","runInit","on_rightAway","runReady","on_ready","setCompleteState","runLoad","on_load","resizeTimerInternal","clearTimeout","setTimeout","on_resize","scrollTimerInternal","on_scroll","setState","setLoadingState","reInit","customEvents","NativeEvents","addListener","parent","evt","delegationFn","runNative","customEventOpts","evtNoApi","split","isNative","includes","cancelable","detail","event","trigger","el","createEvent","initEvent","CustomEvent","dispatchEvent","bubbles","FwDataHelper","dataParser","dat","_FwData","getData","slideDown","display","slideUp","getSiblings","Array","prototype","filter","call","children","child","getAncestors","parents","firstChar","charAt","substr","tagName","toLowerCase","moveContents","elementToMoveContentsTo","oldParent","newParent","childNodes","appendChild","scrollToElem","ToScrollTo","direction","methods","scrollOpts","getBoundingClientRect","scrollTo","RunFnForChildren","ancestorElem","parentSelector","isSameNode","GetFileExtension","str","toString","pop","ToCamelCase","word","index","toUpperCase","ToDashed","props","constructor","getInstance","Error","_runFn","callback","eval","exec","err","console","error","_parseArgs","arr","defaults","prop","hasOwnProperty","value","undefined","isDisabled","DisableClasses","classString","isDynamic","UiDynamicClass","lookupResetToParentClass","lookupResetFromClosestComponent","DateTimePreset","HumanDate","placeholder","pattern","template","HumanTime24","HumanTime12","Value","ValueDateTimePreset","dayNames","dayNamesShort","dayNamesShorter","monthNames","monthNamesShort","Palette","UiPrefix","componentName","noDash","UiTriggerer","isGroupable","toggleMode","toggledClass","componentClass","startsWith","i","possibleSiblings","nextElementSibling","location","hash","idToGoTo","history","pushState","noHashURL","href","title","activatedClass","siblingSelector","resetterClass","noActiveClass","multipleClass","resetter","butt","selectorSiblings","sibling","EVENT_FOCUS","EVENT_BLUR","setDimensions","UiElNavcestor","purgeToggles","purge","UiElUncles","uncle","width","maxHeight","_purger","exempted","doopdoop","exemptedDropdown","exemptedToggle","dropdown","handleFocusOpen","blur","handleBlurClose","handlerUniversal","FwDate","toParsed","d","yr","mo","dy","hr","mn","dateArr","timeArr","getFullYear","getMonth","getDate","getHours","getMinutes","RegExp","isValid","test","DateTimePresetArr","parseInt","Date","toHuman","date","format","iFormat","output","literal","lookAhead","match","formatNumber","len","num","formatName","shortNames","longNames","getDay","Math","round","getTime","toVal","adjacentMonth","offsetByMonth","dateOverride","currMonth","currYear","newMonth","newYear","defOffset","setMonth","setFullYear","setDate","EVENT_KEYUP","EVENT_CHANGE","EVENT_BEFORE_INIT","EVENT_INIT","EVENT_AFTER_INIT","EVENT_BEFORE_CREATE","EVENT_CREATE","EVENT_AFTER_CREATE","EVENT_BEFORE_UPDATE","EVENT_UPDATE","EVENT_AFTER_UPDATE","FormCalendar","valueToRender","UiValue","_arrowHtml","buttonClass","symbolClass","arrowDate","disValid","arrowClass","_calendar","startDate","validates","year","month","htmlString","_blockHtml","customClass","update","newValue","theValue","uiValue","renderValue","_createUi","UiRoot","UiDates","UiInput","UiInputValue","rangeOnly","checkAgainst","disabledDates","dateNow","setHours","max","min","theUi","container","createElement","insertBefore","inputWrapper","components","component","textInput","innerHTML","heading","butts","yearSkip","monthSkip","dropdownInit","dropdownLimit","yearSpan","listItemDate","dateForValidation","currClass","listItem","grid","append","days","daysHTML","dayToRetrieve","startDay","dates","freeGridSpacePrev","calendarPrevDayStart","prevDay","offset","prevDate","loopDatePrev","dateBlockPrev","lastDate","dateBlockCurr","currNextFirstDay","freeGridSpaceNext","loopDateNext","dateBlockNext","_render","renderAll","calendars","calendar","cal","handleChange","handleUpdateKeyup","uiInput","y","m","preParsedVal","handleUpdateClick","handleRenderClick","theRenderDate","renderDate","FormTags","FOCUS_CLASS","EVENT_KEYDOWN","EVENT_PASTE","INPUT_STRING","_scrollToUiInput","multipleLines","scrollLeft","offsetLeft","offsetWidth","toArr","returnsWithInput","isArray","reduce","acc","tag","__is","splice","join","filterValue","custFn","fnToFilter","applyFilter","valueToFilter","filterFnName","noInputValueToFilter","UiInputIdx","allowFilter","inputText","focus","wrapper","input","contentEditable","onKeyUp","keyUpScript","oldTags","valArr","tagHtml","insertAdjacentElement","attributes","attr","specified","name","disableNative","self","tagsInputs","poot","tagsInput","handleEditablePaste","pasted","clipboardData","originalEvent","handleEditableFocus","handleEditableBlur","currValue","handleEditableKeydown","currUiValue","Modifiers","FwArray","handleDelete","tagToRemove","handleEdit","tagToEdit","newUiValue","innerText","renderTags","inputValue","ctrl","shift","alt","meta","hasActive","shiftKey","ctrlKey","altKey","metaKey","FwArrayay","moveItem","oi","ni","k","reverse","newArray"],"mappings":"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","file":"js/framework.webpack.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"frameWork\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"frameWork\"] = factory();\n\telse\n\t\troot[\"fw\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn ","const BrValue = {\n\txxs: 0,\n\txs:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-xs')\n\t\t)\n\t\t|| 600,\n\tsm:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-sm')\n\t\t)\n\t\t|| 1200,\n\tmd:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-md')\n\t\t)\n\t\t|| 1600,\n\tlg:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-lg')\n\t\t)\n\t\t|| 1800,\n\txl: 9999999\n};\n\nconst BrTag = Object.keys(BrValue);\n// Br_to_loop =  ['xs','sm','md','lg'];\n\nconst BrMobileMax =\nparseFloat(\n\tgetComputedStyle(\n\t\tdocument.documentElement\n\t).getPropertyValue('--fw-br-mobile-max')\n)\n|| 'sm';\n\nexport {BrValue, BrTag, BrMobileMax};\n\nexport const ValidateBr = (breakpoint, mode) => {\n\tmode = mode || 'below'; //below,within,above\n\tconst currIndex = BrTag.indexOf(breakpoint);\n\tswitch (mode) {\n\t\tcase 'below': //max-width\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<= BrValue[breakpoint]\n\t\t\t);\n\n\t\tcase 'within':\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<=BrValue[breakpoint]\n\t\t\t\t&& document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t);\n\n\t\tcase 'above':\n\t\t\treturn currIndex > 0\n\t\t\t\t? document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t\t: document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex]];\n\t}\n};","\nimport FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggled,UiChangeHash } from './util/ui.js';\nimport {BrMobileMax,ValidateBr} from './util/breakpoint.js';\n\n\nconst NAME = 'accordion';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `open`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Accordion extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\telement = element || UiToggled(TOGGLE_MODE) || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_triggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tchangeHash: 'true',\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& this._triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UiEl()\n\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tAccordion.configDefaults\n\t\t);\n\t}\n\n\tget _isValidWithinQuery() {\n\t\treturn !(\n\t\t\tsuper.UiEl().classList.contains(`${NAME}-mobile`)\n\t\t\t&& !ValidateBr(BrMobileMax, 'below')\n\t\t)\n\t}\n\n\tget _isWithinGroupMultiple () {\n\t\treturn this.UiGroot && this.UiGroot.classList.contains(`${NAME}-group-multiple`)\n\t}\n\n\tget _isWithinAllowNoActive() {\n\t\treturn this.UiGroot && this.UiGroot.classList.contains(`${NAME}-group-allow-no-active`)\n\t}\n\n\tget _probablyToggle() {\n\t\tlet toReturn = [];\n\n\t\tconst selection = document.querySelectorAll(\n\t\t\t`[data-toggle=\"${TOGGLE_MODE}\"][href=\"#${this._id}\"],\n\t\t\t[data-toggle=\"${TOGGLE_MODE}\"][data-href=\"#${this._id}\"]`\n\t\t);\n\n\t\tif(selection.length) {\n\t\t\ttoReturn = selection;\n\t\t}\n\n\t\treturn toReturn;\n\n\t}\n\n\tget _id(){\n\t\treturn super.UiEl().hasAttribute('id')\n\t\t\t? super.UiEl().getAttribute('id')\n\t\t: false;\n\t}\n\n\t_siblicide(){\n\n\t\tif ( !this._isWithinGroupMultiple ) {\n\t\t\tFwDom.RunFnForChildren(\n\t\t\t\tthis.UiGroot,\n\t\t\t\t`[data-toggle=\"${TOGGLE_MODE}\"],.${COMPONENT_CLASS}`,\n\t\t\t\t`.${COMPONENT_CLASS}-group`,\n\t\t\t\t(accBbies)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& (accBbies !== this._triggerer)\n\t\t\t\t\t\t\t&& (accBbies !== super.UiEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\t!this._triggerer\n\t\t\t\t\t\t\t&& (accBbies !== super.UiEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\taccBbies.classList.remove(ACTIVATED_CLASS)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\t//which came first the accordion-gruoup or the accordiiinbsbob?? the actual bitch none of that accordion-group shit\n\tget UiGroot () {\n\t\t\tlet toReturn = super.UiEl().parentNode.closest(`.${COMPONENT_CLASS},.${COMPONENT_CLASS}-group`);\n\n\t\t\t//has to actually be accordion-group closest before accordion\n\t\t\tif(\n\t\t\t\t!toReturn\n\t\t\t\t|| (\n\t\t\t\t\ttoReturn\n\t\t\t\t\t&& !toReturn.matches(`.${COMPONENT_CLASS}-group`) //***\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\n\t\t\treturn toReturn;\n\t}\t\n\n\tclose(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\thashChangeOverride = hashChangeOverride || this.args.changeHash;\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\t\t//is not within an accordion group that needs one of them open \n\t\t\tif ( !this.UiGroot || this._isWithinAllowNoActive ) {\n\n\t\t\t\tif(this._triggerer) {\n\t\t\t\t\tthis._triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t}else{\n\t\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\t\ttoggle.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\n\t\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\n\t\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\t\tUiChangeHash('');\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t\t}\n\t\t}\n\t}\n\n\topen(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\thashChangeOverride = hashChangeOverride || this.args.changeHash;\n\n\t\tthis._siblicide();\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\tif(this._triggerer) {\n\t\t\t\tthis._triggerer.classList.add(ACTIVATED_CLASS);\n\t\t\t}else{\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.add(ACTIVATED_CLASS);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\tUiChangeHash(this._id);\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t\t}\n\t\t\n\t}\n\n\n\n\ttoggle(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(elem,hashChangeOverride);\n\t\t}else{\n\t\t\tthis.open(elem,hashChangeOverride);\n\t\t}\n\t}\n\n\tstatic handleToggler() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst accordion = new Accordion(\n\t\t\t\t\tUiToggled(TOGGLE_MODE,e.target),\n\t\t\t\t\te.target\n\t\t\t\t);\n\n\t\t\t\taccordion.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\t\t\tif(FwCore.settings.initializeAccordion){\n\t\t\t\tconst accordion = new Accordion();\n\t\t\t\taccordion.open();\n\t\t\t};\n\t\t}\n\t}\n\n\tstatic initListeners() {\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}\"]`,\n\t\t\tAccordion.handleToggler()\n\t\t);\n\n\t\twindow.addEventListener(\n\t\t\t'hashchange',\n\t\t\tAccordion.handleUniversal()\n\t\t);\n\n\t\tFwFnsQ.on_ready = Accordion.handleUniversal();\n\t}\n\t\n}\n\nexport default Accordion;\n\nAccordion.initListeners();\n\n","\nimport FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggled } from './util/ui.js';\n\n\nconst NAME = 'alert';\nconst TOGGLE_MODE = `${NAME}-close`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\nclass Alert extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tclose(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\n\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\telement.parentNode.removeChild(element);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t}\n\n\tstatic closeAll(){\n\t\tconst selector = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\tif (selector.length) {\n\t\t\tselector.forEach((instance) => {\n\t\t\t\tif (\n\t\t\t\t\tinstance.querySelectorAll('[data-toggle=\"alert-close\"]').length\n\t\t\t\t\t|| instance.classList.contains(`${NAME}-closeable`)\n\t\t\t\t) {\n\t\t\t\t\tconst alertInstance = new Alert(instance);\n\t\t\t\t\talertInstance.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tstatic handleClose() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst alert = new Alert( UiToggled(TOGGLE_MODE,e.target) );\n\t\t\t\talert.close();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleCloseAll() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tAlert.closeAll()\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}\"]`,\n\t\t\tAlert.handleClose()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}-all\"]`,\n\t\t\tAlert.handleCloseAll()\n\t\t);\n\t}\n}\n\nexport default Alert;\n\nAlert.initListeners();","import FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'btn';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass Button extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(element,EVENT_TOGGLE);\n\t\tUiToggleGroup(element, NAME);\n\t\tFwEvent.trigger(element,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst button = new Button( e.target );\n\t\t\t\tbutton.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS}-group-toggle > .${COMPONENT_CLASS}`,\t\n\t\t\tButton.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default Button;\n\nButton.initListeners();","import FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggled,UiTriggerer } from './util/ui.js';\n\nconst NAME = 'lazy';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `${NAME}-loaded`;\nconst SVG_REPLACED_CLASS = `${COMPONENT_CLASS}-svg-replacement`;\nconst COMPONENT_SELECTOR = '*[data-src],*[data-srcset]';\n\nconst BODY_LOADING_CLASS = `body-${NAME}-loading`;\nconst BODY_LOADED_CLASS = `body-${NAME}-loaded`;\n\nconst NAV_ANCESTOR = `li, .nav-item`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\n\n\tconst EVENT_BEFORE_LAZYLOAD = `before_lazyload${EVENT_KEY}`;\n\tconst EVENT_LAZYLOAD = `lazyload${EVENT_KEY}`;\n\tconst EVENT_AFTER_LAZYLOAD = `after_lazyload${EVENT_KEY}`;\n\nclass Lazy extends FwComponent {\n\n\tconstructor(element){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_ogElement:false \n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget theSrc(){\n\t\treturn super.UiEl().getAttribute('data-src');\n\t}\n\n\tget theSrcSet(){\n\t\treturn super.UiEl().getAttribute('data-srcset');\n\t}\n\n\tget UiOriginal() {\n\t\treturn this._ogElement || super.UiEl();\n\t}\n\n\tset UiOriginal(elem){\n\t\tthis._ogElement = elem;\n\t}\n\n\tload(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_LAZYLOAD);\n\n\t\t\tif(element.classList.contains(`${COMPONENT_CLASS}`)){\n\t\t\t\tFwEvent.trigger(element,EVENT_LAZYLOAD);\n\t\t\t\tif (element.matches('img') || element.closest('picture')) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tFwString.GetFileExtension(this.theSrc) == 'svg'\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst imgID = element.getAttribute('id') || null;\n\t\t\t\t\t\tconst imgClass = element.getAttribute('class') || null;\n\t\t\t\t\n\t\t\t\t\t\tfetch(this.theSrc)\n\t\t\t\t\t\t\t.then((response) => response.text())\n\t\t\t\t\t\t\t.then((markup) => {\n\t\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\t\tconst dom = parser.parseFromString(markup, 'text/html');\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconst svg = dom.querySelector('svg');\n\t\t\t\t\n\t\t\t\t\t\t\t\tif (svg) {\n\t\t\t\t\t\t\t\t\tif (typeof imgID !== null) {\n\t\t\t\t\t\t\t\t\t\tsvg.setAttribute('id', imgID);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (typeof imgClass !== null) {\n\t\t\t\t\t\t\t\t\t\tsvg.setAttribute(\n\t\t\t\t\t\t\t\t\t\t\t'class',\n\t\t\t\t\t\t\t\t\t\t\t`${imgClass} ${SVG_REPLACED_CLASS} ${ACTIVATED_CLASS}`\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t\t\t\t\tsvg.removeAttribute('xmlns:a');\n\t\t\t\t\t\t\t\t\tthis.UiOriginal = element;\n\t\t\t\t\t\t\t\t\tsuper._resetUiEl(svg);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.theSrc && element.setAttribute('src', this.theSrc);\n\t\t\t\t\t\tthis.theSrcSet && element.setAttribute('srcset', this.theSrcSet);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telement.style.backgroundImage = `url(${this.theSrc})`;\n\t\t\t\t}\n\t\t\t\telement.classList.add(`${ACTIVATED_CLASS}`);\n\t\t\t}\n\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_LAZYLOAD);\n\n\t}\n\n\tstatic setStatus(status) {\n\t\tstatus = status || 'loaded';\n\n\t\tlet addClass,removeClass;\n\n\t\tswitch(status){\n\t\t\tcase 'loading':\n\t\t\t\taddClass = BODY_LOADING_CLASS;\n\t\t\t\tremoveClass = BODY_LOADED_CLASS;\n\t\t\t\tbreak;\n\t\t\tcase 'loaded':\n\t\t\t\taddClass = BODY_LOADED_CLASS;\n\t\t\t\tremoveClass = BODY_LOADING_CLASS;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tdocument.body.\n\t\t\tclassList.remove(removeClass);\n\t\tdocument.body.\n\t\t\tclassList.add(addClass);\n\t}\n\n\tstatic loadAll(images){\n\t\t\n\t\tFwEvent.trigger(document,EVENT_BEFORE_LAZYLOAD);\n\n\t\tLazy.setStatus('loading');\n\t\timages = images || document.querySelectorAll(COMPONENT_SELECTOR);\n\t\n\n\t\tFwEvent.trigger(document,EVENT_LAZYLOAD);\n\t\timages.forEach((img) => {\n\t\t\tconst lazy = new Lazy(img);\n\t\t\tlazy.load();\n\t\t});\n\t\n\t\tLazy.setStatus('loaded');\n\n\n\t\tFwEvent.trigger(document,EVENT_AFTER_LAZYLOAD);\n\t}\n\t\n\n\n\tstatic handleToggle() {\n\t\t\n\t}\n\t\n\n\tstatic initListeners(){\n\t\tif(FwCore.settings.lazyLoad ){\n\t\t\tFwFnsQ.on_ready = Lazy.loadAll;\n\t\t}\n\t}\n}\n\n\nexport default Lazy;\n\nLazy.initListeners();","// import FwArrayay from './src/data-helper/array.js';\n// import FwString from './src/data-helper/string.js';\n// import FwDate from './src/data-helper/date.js';\n// import FwDom from './src/data-helper/dom.js';\n\n\n\nimport Accordion from './src/accordion.js';\nimport Alert from './src/alert.js';\nimport Button from './src/button.js';\nimport Dropdown from './src/dropdown.js';\nimport Form from './src/form.js';\nimport Lazy from './src/lazy.js';\nexport default {\n\tAccordion,\n\tAlert,\n\tButton,\n\tDropdown,\n\tForm,\n\tLazy\n};\n","\n\nconst FwCore = {};\n\nconst _dataobj = (() => {\n\tconst storage = {};\n\tlet id = 1;\n\treturn {\n\t\t_set(element, key, data) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\telement.fwKeys = {\n\t\t\t\tkey,\n\t\t\t\tid\n\t\t\t}\n\t\t\tid++\n\t\t\t}\n\n\t\t\tstorage[element.fwKeys.id] = data\n\t\t},\n\t\t_get(element, key) {\n\t\t\tif (!element || typeof element.fwKeys === 'undefined') {\n\t\t\treturn null\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\treturn storage[keyProperties.id]\n\t\t\t}\n\n\t\t\treturn null\n\t\t},\n\t\t_remove(element, key) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\treturn\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\tdelete storage[keyProperties.id]\n\t\t\tdelete element.fwKeys\n\t\t\t}\n\t\t}\n\t}\n})()\n\nFwCore.Data = {\n\tset(elm, key, data) {\n\t_dataobj._set(elm, key, data)\n\t},\n\tget(elm, key) {\n\treturn _dataobj._get(elm, key)\n\t},\n\tremove(elm, key) {\n\t_dataobj._remove(elm, key)\n\t}\n}\n\n\nFwCore.settings =\n\tFwCore.settings\n\t|| {};\n\nFwCore.settings.prefix = 'fw';\n\nFwCore.settings.lazyLoad =\n\tFwCore.settings.lazyLoad\n\t|| true;\nFwCore.settings.initializeModal =\n\tFwCore.settings.initializeModal\n\t|| true;\nFwCore.settings.initializeBoard =\n\tFwCore.settings.initializeBoard\n\t|| true;\nFwCore.settings.initializeAccordion =\n\tFwCore.settings.initializeAccordion\n\t|| true;\nFwCore.settings.dynamicHash =\n\tFwCore.settings.dynamicHash\n\t|| true;\nFwCore.settings.uiClass =\n\tFwCore.settings.uiClass\n\t|| `${FwCore.settings.prefix}-ui`; //for styles\nFwCore.settings.uiJsClass =\n\tFwCore.settings.uiJsClass\n\t|| FwCore.settings.uiClass.replace('-','_'); // for scripting events and shit\n\nexport default FwCore;","\n\n\n class FwQueue {\n\tconstructor(){\n\t\tthis._on_load = [];\n\t\tthis._on_ready = [];\n\t\tthis._on_resize = [];\n\t\tthis._on_scroll = [];\n\t\tthis._on_rightAway = [];\n\t\tthis._on_init = [];\n\t}\n\n\tget on_load(){\n\t\treturn this._on_load;\n\t}\n\tget on_ready(){\n\t\treturn this._on_ready;\n\t}\n\tget on_resize(){\n\t\treturn this._on_resize;\n\t}\n\tget on_scroll(){\n\t\treturn this._on_scroll;\n\t}\n\tget on_rightAway(){\n\t\treturn this._on_rightAway;\n\t}\n\tget on_init(){\n\t\treturn this._on_init;\n\t}\n\n\tset on_load(fn){\n\t\tthis._on_load.push(fn);\n\t}\n\tset on_ready(fn){\n\t\tthis._on_ready.push(fn);\n\t}\n\tset on_resize(fn){\n\t\tthis._on_resize.push(fn);\n\t}\n\tset on_scroll(fn){\n\t\tthis._on_scroll.push(fn);\n\t}\n\tset on_rightAway(fn){\n\t\tthis._on_rightAway.push(fn);\n\t}\n\tset on_init(fn){\n\t\tthis._on_init.push(fn);\n\t}\n}\n\nconst FwFnsQ = new FwQueue();\n\nexport {FwFnsQ};\n\nconst runFnsQ = (fnsArray) =>  {\n\tfnsArray.forEach((fn) => {\n\t\tfn();\n\t});\n}\n\n\nconst docReady = (fn) => {\n\tif (document.readyState != 'loading') {\n\t\tfn();\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t}\n};\n\nconst FwInit = {};\n\nFwInit.initEvents = () => {\n\n\t//component events\n\t\trunFnsQ(FwFnsQ.on_init);\n\n\t//window events\n\t\twindow.addEventListener('resize', FwInit.runResize);\n\t\twindow.addEventListener('scroll', FwInit.runScroll);\n}\n\nFwInit.runInit = () => {\n\trunFnsQ(FwFnsQ.on_rightAway);\n};\n\nFwInit.runReady = () => {\n\trunFnsQ(FwFnsQ.on_ready);\n\tFwInit.setCompleteState();\n};\n\nFwInit.runLoad = () => {\n\trunFnsQ(FwFnsQ.on_load);\n};\n\nlet resizeTimerInternal;\nFwInit.runResize = () => {\n\tclearTimeout(resizeTimerInternal);\n\tresizeTimerInternal = setTimeout(() => {\n\t\trunFnsQ(FwFnsQ.on_resize);\n\t}, 100);\n};\n\nlet scrollTimerInternal;\nFwInit.runScroll = () => {\n\tclearTimeout(scrollTimerInternal);\n\tscrollTimerInternal = setTimeout(() => {\n\t\trunFnsQ(FwFnsQ.on_scroll);\n\t}, 100);\n};\n\nFwInit.setState = (mode) => {\n\tmode = mode || 'complete';\n\tswitch(mode){\n\t\tcase 'loading':\n\t\t\tdocument.body\n\t\t\t\t.classList\n\t\t\t\t.remove('body-loaded');\n\t\t\tdocument.body\n\t\t\t\t.classList\n\t\t\t\t.add('body-loading');\n\t\t\tbreak;\n\t\tcase 'complete':\n\t\tdefault:\n\t\t\tsetTimeout(()=>{ \n\t\t\t\tdocument.body\n\t\t\t\t\t.classList\n\t\t\t\t\t.remove('body-loading');\n\t\t\t\tdocument.body\n\t\t\t\t\t.classList\n\t\t\t\t\t.add('body-loaded');\n\t\t\t},100);\n\t\t\tbreak;\n\t}\n\n}\n\nFwInit.setLoadingState = () => {\n\tFwInit.setState('loading');\n}\n\nFwInit.setCompleteState = () => {\n\tFwInit.setState('complete');\n\n}\n\nFwInit.reInit = () => {\n\tFwInit.setLoadingState();\n\tFwInit.runInit();\n\tFwInit.runReady();\n\tFwInit.runLoad();\n};\n\nFwInit.runInit();\ndocReady(FwInit.runReady);\nwindow.addEventListener('load',FwInit.runLoad);\nFwInit.initEvents();\n\n/*\n\n\nFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\t'click',\n\t\t\t'*',\n\t\t\t(e) => {\n\t\t\t\tconst triggerer = e.target;\n\n\t\t\t\tif (FwInit.isDisabled(triggerer)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\tif(\n\t\t\t\t\t\t!triggerer.classList.contains(UiDynamicClass) //temp fix for ui elements not getting ancestry\n\t\t\t\t\t){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//tooltip\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!triggerer.closest('[data-toggle=\"tooltip-click\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('[data-toggle=\"tooltip-hover\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('.tooltip.tooltip-allow-interaction')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tFwInit.destroyToolTip();\n\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t\t//dropdown\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!triggerer.closest('[data-toggle=\"dropdown\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('.dropdown')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tFwInit.closeDropdowns(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//switch\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!triggerer.closest('[data-toggle=\"switch-off\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('[data-toggle=\"switch-on\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('.switch')\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\tFwInit.initSwitch(false,'off')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n*/","\nimport FwCore from './../util/core.js';\nimport FwDataHelper from './../classes/data-helper.js';\nconst customEvents = [];\nconst NativeEvents = [\n\t'click',\n\t'dblclick',\n\t'mouseup',\n\t'mousedown',\n\t'contextmenu',\n\t'mousewheel',\n\t'DOMMouseScroll',\n\t'mouseover',\n\t'mouseout',\n\t'mousemove',\n\t'selectstart',\n\t'selectend',\n\t'keydown',\n\t'keypress',\n\t'keyup',\n\t'paste',\n\t'orientationchange',\n\t'touchstart',\n\t'touchmove',\n\t'touchend',\n\t'touchcancel',\n\t'pointerdown',\n\t'pointermove',\n\t'pointerup',\n\t'pointerleave',\n\t'pointercancel',\n\t'gesturestart',\n\t'gesturechange',\n\t'gestureend',\n\t'focus',\n\t'blur',\n\t'change',\n\t'reset',\n\t'select',\n\t'submit',\n\t'focusin',\n\t'focusout',\n\t'load',\n\t'unload',\n\t'beforeunload',\n\t'resize',\n\t'move',\n\t'DOMContentLoaded',\n\t'readystatechange',\n\t'error',\n\t'abort',\n\t'scroll'\n  ];\n  \n\nclass FwEvent extends FwDataHelper {\n\t\n\n\tstatic get cusEventOptsDef () {\n\t\treturn {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t}\n\t}\n\t\n\tstatic addListener(parent, evt, selector, delegationFn,runNative,customEventOpts){\n\t\tparent = parent || selector;\n\t\trunNative = runNative !== false || runNative == true;\n\n\t\tconst evtNoApi = evt.split(`.${FwCore.settings.prefix}`)[0];\n\t\tconst isNative = NativeEvents.includes(evt);\n\n\t\tcustomEventOpts = customEventOpts || {\n\t\t\tcancelable: true\n\t\t};\n\n\t\tcustomEventOpts.detail = customEventOpts.detail || {};\n\n\t\t// parent.addEventListener(\n\t\t// \tevtNoApi,\n\t\t// \t(event) => {\n\n\t\t// \t\tconsole.log(evt,evtNoApi);\n\t\t// \t\tif (event.target.matches(selector + ', ' + selector + ' *')) {\n\t\t// \t\t\t// try {\n\t\t// \t\t\t\tdelegationFn(event);\n\t\t// \t\t\t\tif(!isNative){\n\t\t// \t\t\t\t\tFwEvent.trigger(event.target,evt,customEventOpts);\n\t\t// \t\t\t\t}\n\t\t// \t\t\t// } catch(e) {}\n\t\t// \t\t}\n\t\t// \t},\n\t\t// \ttrue\n\t\t// );\n\n\t\tparent.addEventListener(\n\t\t\t(\n\t\t\t\trunNative\n\t\t\t\t\t? evtNoApi\n\t\t\t\t\t: evt ),\n\t\t\t(event) => {\n\t\t\t\tif (event.target.matches(selector + ', ' + selector + ' *')) {\n\t\t\t\t\t// try {\n\t\t\t\t\t\t(!runNative && !isNative) && FwEvent.trigger(\n\t\t\t\t\t\t\tevent.target,\n\t\t\t\t\t\t\tevt,\n\t\t\t\t\t\t\tcustomEventOpts\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdelegationFn(event);\n\t\t\t\t\t// } catch(e) {}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\n\t\t\n\t}\n\n\tstatic trigger(el, evt, customEventOpts) {\n\t\tlet event;\n\t\tel = el || document;\n\t\tif (NativeEvents.includes(evt)) {\n\t\t\tevent = document.createEvent('HTMLEvents');\n\t\t\tevent.initEvent(evt, true, false);\n\t\t} else {\n\t\t\tcustomEventOpts = customEventOpts || {};\n\t\t\tif(customEventOpts) {\n\t\t\t\tevent = new CustomEvent(evt, customEventOpts);\n\t\t\t}else{\n\t\t\t\tevent = new CustomEvent(evt)\n\t\t\t}\n\t\t}\n\t\tel.dispatchEvent(event);\n\t\n\t\t// return event;\n\t}\n\n\n}\n\nexport default FwEvent;\n\n","class FwDataHelper {\n\tconstructor(data,dataParser){\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tdataParser = dataParser || function(dat){\n\t\t\treturn dat;\n\t\t}\n\n\t\tthis._FwData = dataParser(data);\n\n\t\treturn this.getData();\n\t}\n\n\tgetData() {\n\t\treturn this._FwData;\n\t}\n}\n\nexport default FwDataHelper;","import FwDataHelper from '../classes/data-helper.js';\n\n\nclass FwDom extends FwDataHelper {\n\n\tconstructor(data){\n\n\t\tsuper(\n\t\t\tdata,\n\t\t\t(dat) => {\n\t\t\t\t\n\t\t\t\tlet toReturn;\n\t\t\t\n\t\t\t\tif(typeof dat === 'string'){\n\t\t\t\t\t// console.log('looks like a selector');\n\t\t\t\t\tconst selection = document.querySelectorAll(dat);\n\t\t\n\t\t\t\t\tif(selection.length > 1){\n\t\t\t\t\t\ttoReturn = selection;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoReturn = document.querySelector(dat);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// console.log('looks like a dom obj');\n\t\t\t\t\ttoReturn = dat;\n\t\t\t\t}\n\t\n\t\t\t\treturn toReturn;\n\t\t\t}\n\t\t);\n\t\t\n\t}\n\n\t\n\n\tstatic slideDown(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'block');\n\n\t\treturn elem\n\t}\n\n\tstatic slideUp(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'none');\n\n\t\treturn elem\n\t}\n\n\tstatic getSiblings(elem){\n\t\telem = elem || super.getData();\n\t\treturn Array.prototype.filter.call(\n\t\t\telem.parentNode.children,\n\t\t\t(child)=>{\n\t\t\t\treturn child !== elem;\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic getAncestors(elem,selector){\n\t\telem = elem || super.getData();\n\t\tconst parents = [];\n\n\t\tlet firstChar;\n\n\t\tif (selector) {\n\t\t\tfirstChar = selector.charAt(0);\n\t\t}\n\n\t\t// Get matches\n\t\tfor (; elem && elem !== document; elem = elem.parentNode) {\n\n\t\t\tif (selector) {\n\t\t\t\t// If selector is a class\n\t\t\t\tif (firstChar === '.') {\n\t\t\t\t\tif (elem.classList.contains(selector.substr(1))) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is an ID\n\t\t\t\tif (firstChar === '#') {\n\t\t\t\t\tif (elem.id === selector.substr(1)) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a data attribute\n\t\t\t\tif (firstChar === '[') {\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.hasAttribute(selector.substr(1, selector.length - 1))\n\t\t\t\t\t) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a tag\n\t\t\t\tif (elem.tagName.toLowerCase() === selector) {\n\t\t\t\t\tparents.push(elem);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tparents.push(elem);\n\t\t\t}\n\n\t\t}\n\t\t// Return parents if any exist\n\t\tif (parents.length === 0) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn parents;\n\t\t}\n\t}\n\n\tstatic moveContents(elem,elementToMoveContentsTo){\n\t\telem = elem || super.getData();\n\t\tconst oldParent = elem;\n\t\tconst newParent = new FwDom(elementToMoveContentsTo);\n\t\t\n\t\tif (\n\t\t\tnewParent\n\t\t\t&& newParent !== oldParent) {\n\t\t\twhile (oldParent.childNodes.length > 0) {\n\t\t\t\tnewParent.appendChild(oldParent.childNodes[0]); \n\t\t\t}\n\t\t}\n\n\t\treturn elem;\n\t}\n\n\tstatic scrollToElem(elem,ToScrollTo,direction){\n\t\telem = elem || super.getData();\n\t\tif(!ToScrollTo){\n\t\t\treturn;\n\t\t}\n\n\t\tdirection = direction || 'y';\n\n\t\t\tconst methods =\n\t\t\t\tdirection == 'x'\n\t\t\t\t\t? ['scrollLeft', 'left']\n\t\t\t\t\t: ['scrollTop', 'top'];\n\n\t\t\tconst scrollOpts = {};\n\n\t\t\tscrollOpts[methods[1]] =\n\t\t\t\telem[methods[0]]\n\t\t\t\t- elem.getBoundingClientRect()[methods[1]]\n\t\t\t\t+ ToScrollTo.getBoundingClientRect()[methods[1]]\n\n\t\t\telem.scrollTo(scrollOpts);\n\n\t\t\treturn elem;\n\t}\n\n\tstatic RunFnForChildren(ancestorElem,selector,parentSelector,fn) { //@TODO wtf\n\n\t\tif(\n\t\t\tancestorElem\n\t\t\t&& selector\n\t\t\t&& parentSelector\n\t\t\t&& fn\t\n\t\t){\n\t\t\tlet children = ancestorElem.querySelectorAll(selector);\n\t\n\t\t\tchildren.forEach((child) => {\n\t\n\t\t\t\tif(\n\t\t\t\t\tchild.closest(parentSelector)\n\t\t\t\t\t&& (ancestorElem.isSameNode(child.closest(parentSelector)))\n\t\t\t\t){\n\t\t\t\t\tfn(child);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn ancestorElem;\n\t\t}\n\t}\n\t\n}\n\nexport default FwDom;","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwString extends FwDataHelper {\n\tconstructor(data){\n\t\tsuper(data);\n\t}\n\tstatic GetFileExtension (str) {\n\t\tstr = str.toString();\n\t\treturn str.split('.').pop();\n\t}\n\tstatic ToCamelCase (str) {\n\t\tstr = str.toString();\n\t\n\t\treturn str\n\t\t\t.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\n\t\t\t\treturn index == 0\n\t\t\t\t\t? word.toLowerCase()\n\t\t\t\t\t: word.toUpperCase();\n\t\t\t})\n\t\t\t.replace(/-|\\s/g, '');\n\t}\n\n\tstatic ToDashed(str) {\n\t\tstr = str.toString();\n\n\t\treturn FwString.ToCamelCase(str).replace( /([a-z]|[0-9])([A-Z])/g, '$1-$2' ).toLowerCase();\n\t}\n}\n\nexport default FwString;","import FwCore from '../util/core.js';\nimport { DisableClasses } from '../util/validation.js';\nimport FwDom from '../data-helper/dom.js';\nimport { UiDynamicClass } from '../util/ui.js';\n\n/*\nNAME\nTOGGLE_MODE\nDATA_KEY\nCONTAINED_BY_NAME\n\n\tcase 'dropdown':\n\tcase 'modal':\n\tcase 'board':\n\tcase 'switch':\n\tcase 'alert-close':\n\nFwToggleMode\n\n*/\n\nclass FwComponent {\n\tconstructor(element,props) {\n\t\tif (!element) {\n\t\t\treturn\n\t\t}\n\n\t\tFwCore.Data.set(element, this.constructor.DATA_KEY, this);\n\t\tthis._element = element;\n\n\t\tif(\n\t\t\ttypeof props === 'object'){\n\t\t\tfor (let key in props) {\n\t\t\t\tthis[key] = props[key];\n\t\t\t}\n\t\t}\n\t\n\t}\n\n\tdispose() {\n\t\tFwCore.Data.delete(this._element, this.constructor.DATA_KEY, this);\n\t\tthis._element = null;\n\t}\n\n\tstatic getInstance(element) {\n\t\treturn FwCore.Data.get(element, this.DATA_KEY);\n\t}\n\n\tUiEl(elem){\n\t\tif(elem){\n\t\t\tthis._resetUiEl(elem);\n\t\t}\n\t\treturn this._element;\n\t}\n\n\t_resetUiEl(element){\n\t\tif(element){\n\t\t\tthis._element = element\n\t\t}else{\n\t\t\tthrow new Error('Needs a valid element to reset component UI root element');\n\t\t}\n\t}\n\n\t_runFn (callback) {\n\t\tif (callback) {\n\t\t\tlet fn;\n\t\t\ttry {\n\t\t\t\tfn = eval(/^[^(]+/.exec(callback)[0]);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t\tif (typeof fn === 'function') {\n\t\t\t\teval(callback);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic _parseArgs (arr, defaults) {\n\n\t\tconst args = {};\n\t\n\t\tfor (let prop in defaults) {\n\t\t\tif(\n\t\t\t\t(\n\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t&& arr[prop] !== ''\n\t\t\t\t)\n\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t){\n\t\t\t\targs[prop] = defaults[prop].value;\n\t\t\t}else{\n\t\t\t\targs[prop] = defaults[prop];\n\t\t\t}\n\t\t}\n\t\n\t\tfor (let prop in arr) {\n\t\t\tif (\n\t\t\t\tarr.hasOwnProperty(prop)\n\t\t\t\t&& arr[prop] !== undefined\n\t\t\t\t&& arr[prop] !== null\n\t\t\t\t&& arr[prop] !== ''\n\t\t\t) {\n\t\t\t\t// Push each value from `obj` into `extended`\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t)\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('parser')\n\t\t\t\t){\n\t\t\t\t\targs[prop] = defaults[prop].parser(arr[prop]);\n\t\t\t\t}else{\n\t\t\t\t\targs[prop] = arr[prop];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// catch boolean\n\t\t\t\tif (args[prop] == 'false' || args[prop] == 'true') {\n\t\t\t\t\targs[prop] = args[prop] == 'true' ? true : false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn args;\n\t}\n\n\tstatic isDisabled (elem){\n\t\tif(!elem){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet toReturn = false;\n\n\t\tif (elem.closest('[disabled]') || elem.matches(':disabled')) {\n\t\t\ttoReturn = true;\n\t\t}\n\n\t\tDisableClasses.forEach((classString) => {\n\t\t\tif (elem.closest(`.${classString}`) && !toReturn) {\n\t\t\t\ttoReturn = true;\n\t\t\t}\n\t\t});\n\n\t\treturn toReturn;\n\t}\n\tstatic isDynamic(elem){\t\n\t\treturn elem.classList.contains(UiDynamicClass)\n\t} \n\n\t\n}\n\nexport default FwComponent;","//valid shits\nexport const DisableClasses = [\n\t'table-row-disabled',\n\t'tab-disabled',\n\t'btn-disabled',\n\t'input-disabled',\n\t'disabled'\n];\n\nexport const lookupResetToParentClass = [\n\t'input-group',\n\t'btn-grouop',\n];\n\nexport const lookupResetFromClosestComponent = [\n\t'dropdown',\n\t'modal',\n\t'board',\n\t'switch',\n\t'alert',\n];\n\n\nexport const DateTimePreset = {\n\tHumanDate: {\n\t\tplaceholder: 'mm/dd/yyyy',\n\t\tpattern: /^\\d{2}\\/\\d{2}\\/\\d{4}$/,\n\t\ttemplate: 'mm/dd/yy'\n\t},\n\tHumanTime24: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tHumanTime12: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tValue: {\n\t\tplaceholder: 'yyyy-mm-dd',\n\t\tpattern: /^\\d{4}[-]\\d{2}[-]\\d{2}$/,\n\t\ttemplate: 'yy-mm-dd'\n\t},\n\tValueDateTimePreset:{\n\t\tplaceholder:\"yy-mm-ddThh:gg\",\n\t\tpattern:\"\",\n\t\ttemplate:\"yy-mm-ddThh:gg\"\n\t}\n};\n\nexport const dayNames = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Friday',\n\t'Saturday'\n];\n\nexport const dayNamesShort = [\n\t'Sun',\n\t'Mon',\n\t'Tue',\n\t'Wed',\n\t'Thu',\n\t'Fri',\n\t'Sat'\n];\n\nexport const dayNamesShorter = [\n\t'Su',\n\t'Mo',\n\t'Tu',\n\t'We',\n\t'Th',\n\t'Fr',\n\t'Sa'\n];\n\nexport const monthNames = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December'\n];\n\nexport const monthNamesShort = [\n\t'Jan',\n\t'Feb',\n\t'Mar',\n\t'Apr',\n\t'May',\n\t'Jun',\n\t'Jul',\n\t'Aug',\n\t'Sep',\n\t'Oct',\n\t'Nov',\n\t'Dec'\n];\n\n\n\t\n\n\nexport const Palette = [\n\t'base',\n\t'primary',\n\t'secondary',\n\t'accent',\n\t'neutral',\n\t'error',\n\t'caution',\n\t'success'\n];\n\n\n\n","\nimport FwCore from './core.js';\nimport {lookupResetToParentClass,lookupResetFromClosestComponent} from './validation.js';\nimport FwDom from './../data-helper/dom.js';\n\nexport const UiPrefix = (componentName,noDash) => {\n\tnoDash = noDash || false;\n\treturn noDash ? `${componentName}-ui` : `${componentName}-ui-`;\n}\n\nexport const UiDynamicClass = `${FwCore.settings.uiJsClass}_internal_toggle`;\n\n\n//this was the bitch that got clickied or hovered or wehatever\nexport const UiTriggerer = (triggerer,isGroupable) => {\n\ttriggerer = triggerer || false;\n\tisGroupable = isGroupable || false;\n\n\tlet toReturn;\n\n\tif (triggerer) {\n\t\tif ( isGroupable ){\n\t\t\treturn;\n\t\t} else if ( //calendar fix\n\t\t\ttriggerer\n\t\t\t\t.closest(`.${FwCore.settings.uiJsClass}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UiDynamicClass}`)\n\t\t) {\n\t\t\ttoReturn = triggerer\n\t\t\t\t.closest(`.${FwCore.settings.uiJsClass}`);\n\n\t\t} else {\n\t\t\ttoReturn = triggerer;\n\t\t}\n\n\t\treturn toReturn;\n\t}\n}\n\n// case 'dropdown':\n// \tcase 'modal':\n// \tcase 'board':\n// \tcase 'switch':\n// \tcase 'alert-close':\n\nexport const UiToggled = (toggleMode,triggerer) => {\n\ttriggerer = triggerer || false;\n\ttoggleMode = toggleMode || false;\n\t\t// lookup_reset_to_parent\n\t\t// lookup_from_closest\n\n\t\tif (toggleMode) {\n\t\t\tconst selector = `.${toggleMode}`,\n\t\t\t\ttoggledClass = `.${toggleMode}`\n\t\t\t\t\t.replace('-open', '')\n\t\t\t\t\t.replace('-close', ''),\n\t\t\t\tcomponentClass = toggledClass ? toggledClass.replace('.', '') : null;\n\n\t\t\tlet toReturn = null;\n\n\t\t\tif (triggerer) {\n\t\t\t\t//lookup by href\n\t\t\t\tif (\n\t\t\t\t\ttriggerer.hasAttribute('href')\n\t\t\t\t\t&& triggerer.getAttribute('href').startsWith('#')\n\t\t\t\t\t&& triggerer.getAttribute('href') !== '#'\n\t\t\t\t\t&& (\n\t\t\t\t\t\tdocument.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t\t\t)\n\t\t\t\t\t\t&& document.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t\t\t).classList.contains(componentClass)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle found by href');\n\t\t\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('href'));\n\n\t\t\t\t//lookup by data-href\n\t\t\t\t} else if (\n\t\t\t\t\ttriggerer.hasAttribute('data-href')\n\t\t\t\t\t&& triggerer.getAttribute('data-href').startsWith('#')\n\t\t\t\t\t&& triggerer.getAttribute('data-href') !== '#'\n\t\t\t\t\t&& (\n\t\t\t\t\t\tdocument.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t\t\t)\n\t\t\t\t\t\t&& document.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t\t\t).classList.contains(componentClass)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle found by data-href');\n\t\t\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('data-href'));\n\n\t\t\t\t//lookup by closest [data-toggle]\n\t\t\t\t} else if (\n\t\t\t\t\ttoggleMode\n\t\t\t\t\t&& triggerer\n\t\t\t\t\t\t.parentNode\n\t\t\t\t\t\t.closest(`[data-toggle=\"${toggleMode}\"]`)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle searching closest data-toggle');\n\t\t\t\t\ttoReturn = UiToggled(\n\t\t\t\t\t\ttoggleMode,\n\t\t\t\t\t\ttriggerer.parentNode.closest(`[data-toggle=\"${toggleMode}\"]`)\n\t\t\t\t\t);\n\n\t\t\t\t//look up by tag `lookup_reset_to_parent`\n\t\t\t\t} else if (\n\t\t\t\t\ttoggleMode\n\t\t\t\t\t&& lookupResetToParentClass.filter(i => {\n\t\t\t\t\t\treturn triggerer.parentNode.classList.contains(i)\n\t\t\t\t\t}).length > 0\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle trigger was in input group');\n\t\t\t\t\ttoReturn = UiToggled(\n\t\t\t\t\t\ttoggleMode,\n\t\t\t\t\t\ttriggerer.parentNode\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\t\t\t\t\tlet possibleSiblings = triggerer.nextElementSibling;\n\t\t\t\t\t\n\t\t\t\t\twhile (possibleSiblings) {\n\t\t\t\t\t\tif (possibleSiblings.matches(selector)) {\n\t\t\t\t\t\t\t// console.warn('toggle trigger anybody whos a sibling');\n\t\t\t\t\t\t\treturn possibleSiblings;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpossibleSiblings =\n\t\t\t\t\t\t\tpossibleSiblings.nextElementSibling;\n\t\t\t\t\t}\n\t\t\t\t\ttoReturn = possibleSiblings;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tif (\n\t\t\t\t\twindow.location.hash !== ''\n\t\t\t\t\t&& document.querySelector(window.location.hash)\n\t\t\t\t\t&& document\n\t\t\t\t\t\t.querySelector(window.location.hash)\n\t\t\t\t\t\t.classList.contains(componentClass)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('no trigger but found the hash is a matching toggle');\n\t\t\t\t\ttoReturn = document.querySelector(window.location.hash);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!toReturn\n\t\t\t\t&& lookupResetFromClosestComponent.filter((i)=> {\n\t\t\t\t\treturn i == componentClass\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\t//look if theres an ancestor it can toggle. last prioroty\n\t\t\t\t// console.warn('no trigger so looking for an ancestor');\n\t\t\t\tif (\n\t\t\t\t\ttriggerer\n\t\t\t\t\t&& toggleMode\n\t\t\t\t\t&& triggerer.parentNode.closest(toggledClass)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('found ancestor');\n\t\t\t\t\ttoReturn = triggerer.parentNode.closest(\n\t\t\t\t\t\ttoggledClass\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn toReturn;\n\t\t}\n}\n\nexport const UiChangeHash = (id) => {\n\tid = id || '';\n\n\tif (FwCore.settings.dynamicHash) {\n\t\tconst idToGoTo = id !== '' ? `#${id}` : null;\n\n\t\tif (idToGoTo) {\n\t\t\tif (history.pushState) {\n\t\t\t\thistory.pushState(null, null, idToGoTo);\n\t\t\t} else {\n\t\t\t\tlocation.hash = idToGoTo;\n\t\t\t}\n\n\t\t} else {\n\t\t\tconst noHashURL = window.location.href.replace(/#.*$/, '');\n\t\t\tif (history.pushState) {\n\t\t\t\twindow.history.pushState('', document.title, noHashURL);\n\t\t\t}\n\t\t\tlocation.hash = '';\n\t\t}\n\t}\n};\n\nexport const UiToggleGroup = (element, prefix, activatedClass, siblingSelector, resetterClass, noActiveClass,multipleClass) => {\n\tprefix = prefix || 'btn';\n\tsiblingSelector = siblingSelector || `.${prefix}`;\n\tresetterClass = resetterClass || `${prefix}-group-toggle-reset`;\n\tnoActiveClass = noActiveClass || `${prefix}-group-toggle-allow-no-active`;\n\tmultipleClass = multipleClass || `${prefix}-group-toggle-multiple`;\n\tactivatedClass = activatedClass || 'active';\n\n\tif(!element) {\n\t\treturn;\n\t}\n\n\tif(\n\t\telement.closest(siblingSelector)\n\t\t&& !element.classList.contains(prefix)\n\t){\n\t\telement = element.closest(siblingSelector);\n\t}\n\n\tif (element) {\n\n\t\t//reset da resetti\n\t\tconst resetter = FwDom\n\t\t\t.getSiblings(element)\n\t\t\t.filter((butt) => {\n\t\t\t\treturn butt.classList.contains(resetterClass);\n\t\t\t});\n\t\tresetter.forEach((butt) => {\n\t\t\tbutt.classList.remove(activatedClass);\n\t\t});\n\n\t\t//dem siblongs\n\t\tconst selectorSiblings = FwDom\n\t\t\t.getSiblings(element)\n\t\t\t.filter((sibling) => {\n\t\t\t\treturn sibling.matches(siblingSelector);\n\t\t\t});\n\n\t\tif (\n\t\t\t!element.closest(`.${multipleClass}`)\n\t\t\t|| element.classList.contains(resetterClass)\n\t\t) {\n\t\t\tselectorSiblings.forEach((sibling) => {\n\t\t\t\tsibling.classList.remove(activatedClass);\n\t\t\t});\n\t\t}\n\n\t\tif (\n\t\t\t(\n\t\t\t\telement.closest(`.${multipleClass}`)\n\t\t\t\t&& selectorSiblings\n\t\t\t\t\t.filter((butt) => {\n\t\t\t\t\t\treturn butt.classList.contains(activatedClass);\n\t\t\t\t\t})\n\t\t\t\t\t.length > 0\n\t\t\t)\n\t\t\t|| element\n\t\t\t\t.closest(noActiveClass)\n\t\t) {\n\t\t\telement.classList.toggle(activatedClass);\n\n\t\t} else {\n\t\t\telement.classList.add(activatedClass);\n\t\t}\n\t}\n}","import FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggled,UiTriggerer } from './util/ui.js';\n\nconst NAME = 'dropdown';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `open`;\n\nconst NAV_ANCESTOR = `li, .nav-item`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_FOCUS = `focus${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Dropdown extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_triggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tmaxHeight: null\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& this._triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t) || this._element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t),\n\t\t\t\t\tmaxHeight:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& this._triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t\t) || this._element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t\t),\n\t\t\tDropdown.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UiElNavcestor() {\n\t\treturn this._element.closest(NAV_ANCESTOR);\n\t}\n\n\tget UiElUncles() {\n\t\tif(this.UiElNavcestor){\n\t\t\treturn FwDom.getSiblings(this.UiElNavcestor)\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn sibling.matches(\n\t\t\t\t\t\tNAV_ANCESTOR\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\n\tclose(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\tif(element){\n\t\t\ttriggerer = triggerer || this._triggerer;\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\n\t\t\tthis.setDimensions(\n\t\t\t\tnull,\n\t\t\t\tDropdown.configDefaults\n\t\t\t);\n\t\t\n\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\t\ttriggerer\n\t\t\t\t&& triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\tthis.UiElNavcestor\n\t\t\t\t&& this.UiElNavcestor.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t}\n\t}\n\n\topen(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttriggerer = triggerer || this._triggerer;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\n\t\tthis.setDimensions();\n\n\t\tDropdown.purgeToggles(triggerer);\n\t\tDropdown.purge(element);\n\t\n\t\tFwEvent.trigger(element,EVENT_OPEN);\n\t\telement.classList.add(ACTIVATED_CLASS);\n\t\ttriggerer\n\t\t\t&& triggerer.classList.add(ACTIVATED_CLASS);\n\n\t\tif(this.UiElUncles){\n\t\t\tthis.UiElUncles.forEach((uncle) => {\n\t\t\t\tuncle.classList.remove(ACTIVATED_CLASS);\n\t\t\t});\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t}\n\n\ttoggle(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttriggerer = triggerer || false;\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(elem,triggerer);\n\t\t}else{\n\t\t\tthis.open(elem,triggerer);\n\t\t}\n\t}\n\t\n\n\tsetDimensions(elem,args){\n\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\targs = args || this.args;\n\n\t\tif (args.width) {\n\t\t\telement.style.width = args.width;\n\t\t}\n\n\t\tif (args.maxHeight) {\n\t\t\telement.style.maxHeight = args.maxHeight;\n\t\t}\n\t}\n\n\tstatic _purger(exempted,selector) {\n\t\t\texempted = exempted || false;\n\t\n\t\t\tdocument.querySelectorAll(selector).forEach((doopdoop) => {\n\t\n\t\t\t\tif (\n\t\t\t\t\t!exempted\n\t\t\t\t\t|| (\n\t\t\t\t\t\texempted\n\t\t\t\t\t\t&& doopdoop !== exempted\n\t\t\t\t\t\t&& !doopdoop.contains(exempted)\n\t\t\t\t\t )\n\t\t\t\t) {\n\t\t\t\t\tnew Dropdown(doopdoop).close();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tstatic purge(exemptedDropdown) {\n\t\tDropdown._purger(exemptedDropdown,`.${COMPONENT_CLASS}`);\n\t}\n\n\n\n\tstatic purgeToggles(exemptedToggle) {\n\t\tDropdown._purger(exemptedToggle,`*[data-toggle=\"${TOGGLE_MODE}\"]`);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst triggerer = UiTriggerer(e.target);\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUiToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\ttriggerer\n\t\t\t\t\t),\n\t\t\t\t\ttriggerer\n\t\t\t\t);\n\n\t\t\t\tdropdown.toggle();\n\t\t\t}\n\t\t}\n\t}\n\tstatic handleFocusOpen(i) {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.target.blur();\n\t\t\t}else{\n\t\t\t\tconst triggerer = UiTriggerer(e.target);\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUiToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\ttriggerer\n\t\t\t\t\t),\n\t\t\t\t\ttriggerer\n\t\t\t\t);\n\n\t\t\t\tdropdown.open();\n\t\t\t\ttriggerer.classList.add('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\tstatic handleBlurClose() {\n\t\treturn (e) => {\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst triggerer = UiTriggerer(e.target);\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUiToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\ttriggerer\n\t\t\t\t\t),\n\t\t\t\t\ttriggerer\n\t\t\t\t);\n\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdropdown.close();\n\t\t\t\t}, 200);\n\t\t\t\ttriggerer.classList.remove('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic handlerUniversal() {\n\t\t\n\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle=\"${TOGGLE_MODE}\"]`)\n\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t) {\n\t\t\t\t\t\n\t\t\t\t\tDropdown.purge();\n\t\t\t\t\tDropdown.purgeToggles();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}\"]:not(input):not([contenteditable]):not(.${FwCore.settings.uiJsClass})`,\n\t\t\tDropdown.handleToggle()\n\t\t);\n\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_FOCUS,\n\t\t\t`input[data-toggle=\"${TOGGLE_MODE}\"], *[contenteditable][data-toggle=\"${TOGGLE_MODE}\"], .${FwCore.settings.uiJsClass}[data-toggle=\"${TOGGLE_MODE}\"] [contenteditable]`,\n\t\t\tDropdown.handleFocusOpen()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_BLUR,\n\t\t\t`input[data-toggle=\"${TOGGLE_MODE}\"], *[contenteditable][data-toggle=\"${TOGGLE_MODE}\"], .${FwCore.settings.uiJsClass}[data-toggle=\"${TOGGLE_MODE}\"] [contenteditable]`,\n\t\t\tDropdown.handleBlurClose()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\t'click',\n\t\t\t`*`,\n\t\t\tDropdown.handlerUniversal()\n\t\t);\n\t}\n}\n\n\nexport default Dropdown;\n\nDropdown.initListeners();","import FwDataHelper from '../classes/data-helper.js';\nimport { \n\tDateTimePreset,\n\tdayNames,\n\tdayNamesShort,\n\tmonthNames,\n\tmonthNamesShort,\n} from '../util/validation';\n\nclass FwDate extends FwDataHelper {\n\n\tstatic toParsed (d){\n\t\n\t\tif (d) {\n\n\t\t\tlet yr,\n\t\t\t\tmo,\n\t\t\t\tdy,\n\t\t\t\thr,\n\t\t\t\tmn,\n\t\t\t\tdateArr = [],\n\t\t\t\ttimeArr = [];\n\t\t\t\n\t\t\tif (Object.prototype.toString.call(d) === '[object Date]') {\n\t\t\t\t//make a new date out of its methods because js will think u are referring to the same date everythere and ur math becomes a hellhole... dont.. hOE\n\t\t\t\tyr = d.getFullYear() || null;\n\t\t\t\tmo = d.getMonth() || null;\n\t\t\t\tdy = d.getDate() || null;\n\t\t\t\thr = d.getHours() || null;\n\t\t\t\tmn = d.getMinutes() || null;\n\t\t\t\t\n\t\t\t} else {\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.Value.pattern\n\t\t\t\t);\n\t\t\t\tconst isValid = pattern.test(d);\n\t\n\t\t\t\tif (isValid) {\n\t\t\t\t\tlet DateTimePresetArr = d.split('T') || [];\n\t\n\t\t\t\t\t//date\n\t\t\t\t\tif (DateTimePresetArr[0]) {\n\t\t\t\t\t\tdateArr = DateTimePresetArr[0].split('-');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t//time\n\t\t\t\t\tif (DateTimePresetArr[1]) {\n\t\t\t\t\t\ttimeArr = DateTimePresetArr[1].split(':');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tyr = parseInt(dateArr[0]) || null;\n\t\t\t\t\tmo = parseInt(dateArr[1] - 1) || null;\n\t\t\t\t\tdy = parseInt(dateArr[2]) || null;\n\t\t\t\t\thr = parseInt(timeArr[0]) || null;\n\t\t\t\t\tmn = parseInt(timeArr[1]) || null;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tlet toReturn = false;\n\t\n\t\t\tif (\n\t\t\t\tObject.prototype.toString.call(\n\t\t\t\t\tnew Date(yr, mo, dy, hr, mn)\n\t\t\t\t) == '[object Date]'\n\t\t\t) {\n\t\t\t\ttoReturn = new Date(yr, mo, dy, hr, mn);\n\t\t\t}\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\t\n\tstatic toHuman (date,format) {\n\t\tconst d = FwDate.toParsed(date);\n\t\tformat = format || DateTimePreset.HumanDate.template;\n\t\n\t\tif (d) {\n\t\t\tlet iFormat,\n\t\t\t\toutput = '',\n\t\t\t\tliteral = false;\n\t\n\t\t\t// Check whether a format character is doubled\n\t\t\tconst lookAhead = (match) => {\n\t\t\t\t\tlet matches =\n\t\t\t\t\t\tiFormat + 1 < format.length\n\t\t\t\t\t\t&& format.charAt(iFormat + 1) === match;\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tiFormat++;\n\t\t\t\t\t}\n\t\t\t\t\treturn matches;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a number, with leading zero if necessary\n\t\t\t\tformatNumber = (match, value, len) => {\n\t\t\t\t\tlet num = '' + value;\n\t\t\t\t\tif (lookAhead(match)) {\n\t\t\t\t\t\twhile (num.length < len) {\n\t\t\t\t\t\t\tnum = '0' + num;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn num;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a name, short or long as requested\n\t\t\t\tformatName = (match, value, shortNames, longNames) => {\n\t\t\t\t\treturn lookAhead(match)\n\t\t\t\t\t\t? longNames[value]\n\t\t\t\t\t\t: shortNames[value];\n\t\t\t\t};\n\t\t\t\t\n\t\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\n\t\t\t\tif (literal) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tformat.charAt(iFormat) === \"'\" && !lookAhead(\"'\")\n\t\t\t\t\t) {\n\t\t\t\t\t\tliteral = false;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt(iFormat);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\t\tcase 'd': //date number\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'd',\n\t\t\t\t\t\t\t\td.getDate(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'D': //day of the week\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'D',\n\t\t\t\t\t\t\t\td.getDay(),\n\t\t\t\t\t\t\t\tdayNamesShort,\n\t\t\t\t\t\t\t\tdayNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'o': //day of year hmm\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'o',\n\t\t\t\t\t\t\t\tMath.round(\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\t\t\t\td.getDate()\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t\t- new Date(\n\t\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t/ 86400000\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm': //month\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'm',\n\t\t\t\t\t\t\t\td.getMonth() + 1,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'M': //month but name\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'M',\n\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\tmonthNamesShort,\n\t\t\t\t\t\t\t\tmonthNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'y': //year\n\t\t\t\t\t\t\toutput += lookAhead('y')\n\t\t\t\t\t\t\t\t? d.getFullYear()\n\t\t\t\t\t\t\t\t: (d.getFullYear() % 100 < 10\n\t\t\t\t\t\t\t\t\t\t? '0'\n\t\t\t\t\t\t\t\t\t\t: '') +\n\t\t\t\t\t\t\t\t(d.getFullYear() % 100);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'H': //12 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'H',\n\t\t\t\t\t\t\t\td.getHours() % 12 || 12,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'h': //24 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'h',\n\t\t\t\t\t\t\t\td.getHours(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'i': //minute\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\td.getMinutes(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'a': //am /pm\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'pm' : 'am';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'A': //AM/PM\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'PM' : 'AM';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif (lookAhead(\"'\")) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt(iFormat);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic toVal(date) {\n\t\tconst d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\treturn this.toHuman(\n\t\t\t\td,\n\t\t\t\tDateTimePreset.Value.template\n\t\t\t);\n\t\t}\n\t}\n\n\tstatic adjacentMonth (date,offsetByMonth, dateOverride) {\n\t\tlet d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\tdateOverride = dateOverride || null;\n\t\n\t\t\tconst currMonth = d.getMonth(),\n\t\t\t\tcurrYear = d.getFullYear(),\n\t\t\t\tnewMonth = (() => {\n\t\t\t\t\tlet toReturn;\n\t\t\t\t\tif (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 > 12\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) - 12;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) + 12;\n\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoReturn = (currMonth + offsetByMonth) % 12;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})(),\n\t\n\t\t\t\tnewYear = (() => {\n\t\t\t\t\tconst defOffset = parseInt(offsetByMonth / 12);\n\t\t\t\t\tlet toReturn = currYear + defOffset;\n\t\n\t\t\t\t\t//offset to adjacent year\n\t\t\t\t\tif (\n\t\t\t\t\t\toffsetByMonth < 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn -= 1;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\toffsetByMonth > 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) > 11\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn += 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})()\n\t\t\t\t;\n\t\n\t\t\td.setMonth(newMonth);\n\t\t\td.setFullYear(newYear);\n\t\n\t\t\tif (dateOverride) {\n\t\t\t\td.setDate(dateOverride);\n\t\t\t}\n\t\n\t\t\treturn d;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport default FwDate;","import FwCore from './../util/core.js';\nimport {FwFnsQ} from './../util/initiator.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwDate from './../data-helper/date.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UiPrefix,UiDynamicClass } from '../util/ui.js';\nimport { DateTimePreset, dayNamesShorter, monthNamesShort } from '../util/validation.js';\n\nimport Dropdown from './../dropdown.js';\n\nconst NAME = 'formCalendar';\nconst ARG_ATTRIBUTE_NAME = 'calendar';\nconst COMPONENT_CLASS = `input-calendar`;\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nclass FormCalendar extends FwComponent {\n\t\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUiValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UiValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tget theValue() {\n\t\treturn super.UiEl().value\n\t\t\t? FwDate.toVal(super.UiEl().value)\n\t\t\t: false;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\n\t\t\tsuper.UiEl().setAttribute('value', FwDate.toVal(theValue));\n\t\t\tsuper.UiEl().value = FwDate.toVal(theValue);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst theRenderDate = this.UiValue\n\t\t\t? this.UiValue\n\t\t: this.theValue\n\t\t\t? this.theValue\n\t\t:  new Date()\n\t\treturn FwDate.toVal(theRenderDate);\n\t}\n\n\tset renderValue(renderDate) {\n\t\tthis.UiValue = renderDate;\n\t}\n\n\tget UiInputValue() {\n\t\treturn this.UiInput && FwDate.toVal(this.UiInput.value)\n\t}\n\n\tset UiInputValue(uiValue) {\n\t\tif(uiValue){\n\t\t\tthis.UiInput.setAttribute('value', FwDate.toHuman(uiValue));\n\t\t\tthis.UiInput.value = FwDate.toHuman(uiValue);\n\t\t}\n\t}\n\n\tget UiRoot () {\n\t\treturn super.UiEl().closest(`.${UiPrefix(COMPONENT_CLASS, true)}`);\n\t}\n\n\tget UiDates () {\n\t\treturn this.UiRoot && this.UiRoot.querySelectorAll(`.${UiPrefix(COMPONENT_CLASS)}date`);\n\t}\n\n\tget UiInput(){\n\t\treturn this.UiRoot.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input input`);\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tclass: '',\n\t\t\tstartDay: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\treturn parseInt(value) % 7\n\t\t\t\t}\n\t\t\t}, // su,mo,tu,we,th,fr,sa,\n\t\t\tmin: null,\n\t\t\tmax: null,\n\t\t\tyearSpan: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif (parseInt(value) <= 0) {\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisabledDates: '', //yyyy-mm-dd,weekends,past,future\n\t\t\ttextInput: false,\n\t\t\tmonthSkip: true,\n\t\t\tyearSkip: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tclass:\n\t\t\t\t\t\tsuper.UiEl().getAttribute('class'),\n\t\t\t\t\tstartDay:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-start-day`), // 0,1,2,3,4,5,6\n\t\t\t\t\tmin:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-min`)\n\t\t\t\t\t\t|| super.UiEl().getAttribute('min'),\n\t\t\t\t\tmax:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max`)\n\t\t\t\t\t\t|| super.UiEl().getAttribute('max'),\n\t\t\t\t\tyearSpan:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-span`),\n\t\t\t\t\tdisabledDates:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disabled-dates`),\n\t\t\t\t\ttextInput:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-text-input`),\n\t\t\t\t\tmonthSkip:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-month-skip`),\n\t\t\t\t\tyearSkip:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-skip`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tFormCalendar.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tupdate(newValue,valueToRender) {\t\t\n\t\tFwEvent.trigger(super.UiEl(),EVENT_BEFORE_UPDATE);\n\n\t\tconst theValue =\n\t\t\tFwDate.toVal(newValue)\n\t\t\t|| this.theValue;\n\t\t\n\t\tconst uiValue =\n\t\t\tFwDate.toVal(valueToRender)\n\t\t\t|| theValue\n\t\t\t|| this.renderValue;\n\t\t\t\n\t\t\n\t\tFwEvent.trigger(super.UiEl(),EVENT_UPDATE);\n\t\t//set up calendar\n\t\tif (this.validates(theValue) || !theValue) {\n\t\t\tthis.theValue = FwDate.toVal(theValue, false);\n\t\t\tthis.renderValue = uiValue;\n\n\t\t\tthis._createUi();\n\t\t}\n\t\n\t\t//user visual feedback if it has a valid bitch\n\t\tif (this.validates(theValue)) {\n\t\t\tthis.UiRoot\n\t\t\t\t.classList.remove('input-error');\n\t\t} else {\n\t\t\tthis.UiRoot\n\t\t\t\t.classList.add('input-error');\n\t\t}\n\t\n\t\tif (this.theValue) {\n\t\n\t\t\tthis.UiDates.forEach((date) => {\n\t\t\t\tif (\n\t\t\t\t\tdate.getAttribute('data-value') == theValue\n\t\t\t\t) {\n\t\t\t\t\tdate.classList.add(ACTIVATED_CLASS);\n\t\t\t\t} else {\n\t\t\t\t\tdate.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tif (this.UiInput) {\n\t\t\t\tthis.UiInputValue = theValue;\n\t\t\t}\n\t\t}\n\t\tFwEvent.trigger(super.UiEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t\n\tvalidates(date,rangeOnly) {\n\n\t\tdate = date || this.theValue;\n\t\trangeOnly = rangeOnly || false; //range,spot\n\t\n\t\tconst d = FwDate.toParsed(date),\n\t\t\tcheckAgainst = this.args.disabledDates.split(',');\n\t\n\t\tlet toReturn = true;\n\t\n\t\tif (!rangeOnly) {\n\t\t\t//if in disabled dates\n\t\t\tif (checkAgainst.includes(FwDate.toVal(d))) {\n\t\t\t\t// console.warn('value is declared disabled specifically || ',FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\n\t\t\t//weekend\n\t\t\tif (\n\t\t\t\tcheckAgainst.includes('weekends')\n\t\t\t\t&& (d.getDay() == 0 || d.getDay() == 6)\n\t\t\t) {\n\t\t\t\t// console.warn('value was a weekend || ',FwDate.toVal(d),FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\t}\n\t\n\t\t//in the past\n\t\tlet dateNow = new Date();\n\t\tdateNow.setHours(0, 0, 0, 0);\n\t\tif (\n\t\t\tcheckAgainst.includes('past')\n\t\t\t&& d < dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the past || ',FwDate.toVal(d),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\tif (\n\t\t\tcheckAgainst.includes('future')\n\t\t\t&& d > dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the future || ',FwDate.toVal(date),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\t//if  in range of min or max\n\t\tif (\n\t\t\t(\n\t\t\t\tFwDate.toParsed(this.args.max)\n\t\t\t\t&& FwDate.toParsed(this.args.max) < d\n\t\t\t)\n\t\t\t|| (\n\t\t\t\tFwDate.toParsed(this.args.min)\n\t\t\t\t&& d < FwDate.toParsed(this.args.min)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('value not in max and width || ',FwDate.toVal(d));;\n\t\t\ttoReturn = false;\n\t\t}\n\n\t\t//check if values are actually legit dates\n\t\t\t//month\n\t\t\t//date\n\n\t\n\t\treturn toReturn;\n\t}\n\n\tget _calendar() {\n\t\tconst renderDate = this.renderValue;\n\n\t\tconst toReturn = {\n\t\t\tyear: FwDate.toParsed(renderDate).getFullYear(),\n\t\t\tmonth: FwDate.toParsed(renderDate).getMonth(),\n\t\t}\n\t\ttoReturn.startDate = new Date(toReturn.year, toReturn.month, 1);\n\n\t\ttoReturn.lastDate = new Date(toReturn.year, toReturn.month + 1, 0);\n\n\t\ttoReturn.prevDate = new Date(toReturn.year, toReturn.month, 0);\n\t\ttoReturn.prevDay = toReturn.prevDate.getDay();\n\n\t\treturn toReturn;\n\t}\n\n\t_arrowHtml = (buttonClass) => {\n\t\tlet symbolClass, arrowDate, disValid,arrowClass;\n\t\t//set a new date with no date because fuck that boi\n\t\t// console.warn(buttonClass,'hello i fucked up','\\n',FwDate.toParsed(uiValue),'\\n',this._calendar.startDate,'\\n', new Date(this._calendar.year,this._calendar.month));\n\t\tswitch (buttonClass) {\n\t\t\tcase 'prev-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-left';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'prev-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-left';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year - 1, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-right';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month + 1, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-right';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year + 1, this._calendar.month, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//kung yung at least yung last day nang prev or first day ng next man lang ay valid pwidi sya ipindoot\n\t\tlet htmlString = `<button type=\"button\" \n\t\t\tclass=\"\n\t\t\t\t${!disValid ? `disabled ` : ''}\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}navigation\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}button\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}${arrowClass}\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}${buttonClass}\" data-value=\"${arrowDate}\"\n\t\t\t>\n\t\t\t\t<i class=\"${UiPrefix(COMPONENT_CLASS)}symbol symbol ${symbolClass}\"></i>\n\t\t\t</button>`;\n\n\t\treturn htmlString;\n\t}\n\n\t_blockHtml = (date, customClass) => {\n\t\tcustomClass = customClass || '';\n\t\treturn `<button type=\"button\" data-value=\"${FwDate.toVal(date)}\"\n\t\t\t\tclass=\"\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}block\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}button\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}date\n\t\t\t\t${customClass}\n\t\t\t\">\n\t\t\t\t<span>${date.getDate()}</span>\n\t\t\t</button>`;\n\t}\n\n\t_createUi(elem,uiValue) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\n\t\tuiValue =\n\t\t\tuiValue\n\t\t\t|| this.renderValue;\n\n\t\tthis.renderValue = uiValue;\n\n\t\tconst theUi = {};\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\n\t\ttheUi.container = this.UiRoot;\n\t\t\t\n\t\tif (!theUi.container) {\n\t\t\ttheUi.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUi.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUi.container.appendChild(element);\n\t\t\ttheUi.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${FwCore.settings.uiClass}\n\t\t\t\t${FwCore.settings.uiJsClass}\n\t\t\t\t${element.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUiPrefix(COMPONENT_CLASS, true)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\n\t\ttheUi.inputWrapper = theUi.container\n\t\t\t.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input`);\n\n\t\tconst components = FwDom.getSiblings(element);\n\t\tcomponents.forEach((component) => {\n\t\t\tif (component !== theUi.inputWrapper) {\n\t\t\t\tcomponent.parentNode.removeChild(component);\n\t\t\t}\n\t\t});\n\n\t\t//input\n\t\tif (this.args.textInput) {\n\t\t\tif (!theUi.inputWrapper) {\n\t\t\t\ttheUi.inputWrapper = document.createElement('div');\n\t\t\t\ttheUi.container.appendChild(theUi.inputWrapper);\n\t\t\t\ttheUi.inputWrapper.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}input`\n\t\t\t\t);\n\t\t\t\ttheUi.inputWrapper.innerHTML =\n\t\t\t\t\t'<input class=\"input input-single-line\" type=\"text\" maxlength=\"10\" placeholder=\"MM/DD/YYYY\" />';\n\t\t\t}\n\t\t}\n\n\t\t//date 4 u\n\n\t\t//heading\n\t\t\ttheUi.heading = document.createElement('div');\n\t\t\ttheUi.container.appendChild(theUi.heading);\n\t\t\ttheUi.heading.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}heading`\n\t\t\t);\n\n\t\t//arrowz\n\n\t\t\tconst butts = [\n\t\t\t\t'prev-year',\n\t\t\t\t'prev-month',\n\t\t\t\t'next-month',\n\t\t\t\t'next-year',\n\t\t\t];\n\n\t\t\tbutts.forEach((butt) => {\n\t\t\t\tif (\n\t\t\t\t\t(\n\t\t\t\t\t\tthis.args.yearSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-year'\n\t\t\t\t\t\t\t|| butt == 'next-year'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t|| (\n\t\t\t\t\t\tthis.args.monthSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-month'\n\t\t\t\t\t\t\t|| butt == 'next-month'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\ttheUi.heading.innerHTML += this._arrowHtml(butt);\n\t\t\t\t}\n\t\t\t});\n\n\t\t//title\n\t\t\ttheUi.title = document.createElement('div');\n\t\t\ttheUi.heading.appendChild(theUi.title);\n\t\t\ttheUi.title.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}title ${UiPrefix(COMPONENT_CLASS)}dropdown-toggle\n\t\t\t\t${UiDynamicClass}` //NEED THIS AT ALL TIMES IF U DONT WANNA DIE\n\t\t\t);\n\t\t\ttheUi.title.setAttribute('data-toggle', 'dropdown');\n\t\t\ttheUi.title.innerHTML = `<span\n\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}month-text\">\n\t\t\t\t\t${monthNamesShort[this._calendar.month]}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"${UiPrefix(COMPONENT_CLASS)}year-text\">\n\t\t\t\t\t${this._calendar.year}\n\t\t\t\t</span>\n\t\t\t\t<i class=\"${UiPrefix(COMPONENT_CLASS)}symbol symbol symbol-caret-down no-margin-x\"></i>`;\n\n\t\t//dropdown\n\t\t\tconst dropdown = document.createElement('ul');\n\t\t\ttheUi.heading.appendChild(dropdown);\n\t\t\tdropdown.setAttribute('data-dropdown-width', '100%');\n\t\t\tdropdown.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}dropdown dropdown dropdown-center-x dropdown-top-flush text-align-center`\n\t\t\t);\n\t\t\tdropdown.innerHTML += `<li \n\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}current-month-year active\"\n\t\t\t\t>\n\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}month\"\n\t\t\t\t\t\tdata-value=\"${FwDate.toVal(this._calendar.startDate)}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${monthNamesShort[this._calendar.month]} ${this._calendar.year}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li><hr class=\"dropdown-separator\"></li>`;\n\n\t\t\ttheUi.dropdown = new Dropdown(dropdown,theUi.title).UiEl();\n\n\t\t\tlet dropdownInit, dropdownLimit;\n\n\n\t\t\tif (this.args.yearSpan == 0) {\n\t\t\t\tdropdownInit =   this._calendar.startDate.getMonth() * -1;\n\t\t\t\tdropdownLimit = 11 - this._calendar.startDate.getMonth();\n\t\t\t} else {\n\t\t\t\tdropdownInit = parseInt(\n\t\t\t\t\t-12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t\tdropdownLimit = parseInt(\n\t\t\t\t\t12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//update dropdown\n\t\t\tfor (let i = dropdownInit; i <= dropdownLimit; i++) {\n\t\t\t\tconst listItemDate = FwDate.adjacentMonth(\n\t\t\t\t\tthis._calendar.startDate,\n\t\t\t\t\ti\n\t\t\t\t);\n\n\t\t\t\tconst dateForValidation = (() => {\n\t\t\t\t\tlet toReturn;\n\n\t\t\t\t\tif (i >= 0) {\n\t\t\t\t\t\t//first day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth(),\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//last day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth() + 1,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})();\n\n\n\n\t\t\t\tif (this.validates(dateForValidation, true)) {\n\t\t\t\t\t\n\t\t\t\t\tlet currClass = i == 0 ? 'active' : '',\n\t\t\t\t\t\tlistItem = `<li class=\"${currClass}\">\n\t\t\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}month\"\n\t\t\t\t\t\t\t\tdata-value=\"${FwDate.toVal(listItemDate)}\">\n\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\tmonthNamesShort[\n\t\t\t\t\t\t\t\t\t\t\tlistItemDate.getMonth()\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t} ${listItemDate.getFullYear()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t${listItemDate.getMonth() == 11\n\t\t\t\t\t\t\t&& i !== dropdownLimit\n\t\t\t\t\t\t\t\t? `</li><li><hr class=\"dropdown-separator\">`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>`;\n\t\t\t\t\ttheUi.dropdown.innerHTML += listItem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t//generate grid\n\t\t\ttheUi.grid = document.createElement('div');\n\t\t\ttheUi.container.append(theUi.grid);\n\t\t\ttheUi.grid.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}grid`\n\t\t\t);\n\n\t\t//days heading\n\t\t\ttheUi.days = document.createElement('div');\n\t\t\ttheUi.grid.append(theUi.days);\n\t\t\ttheUi.days.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}days`\n\t\t\t);\n\n\t\t\tlet daysHTML = '',\n\t\t\t\tdayToRetrieve = parseInt(this.args.startDay);\n\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tif (dayToRetrieve > 6) {\n\t\t\t\t\tdayToRetrieve -= 7;\n\t\t\t\t}\n\n\t\t\t\tdaysHTML += `<div\n\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}block\n\t\t\t\t\t\t${UiPrefix(COMPONENT_CLASS)}day\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${dayNamesShorter[dayToRetrieve]}\n\t\t\t\t\t</div>`;\n\n\t\t\t\tdayToRetrieve++;\n\t\t\t}\n\n\t\t\ttheUi.days.innerHTML = daysHTML;\n\n\t\t//days\n\t\t\ttheUi.dates = document.createElement('div');\n\t\t\ttheUi.grid.append(theUi.dates);\n\t\t\ttheUi.dates.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}dates`\n\t\t\t);\n\n\t\t\t//previous month\n\t\t\t\tconst freeGridSpacePrev = \n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._calendar.startDate.getDay()\n\t\t\t\t\t\t\t- parseInt(this.args.startDay)\n\t\t\t\t\t\t\t+ 7\n\t\t\t\t\t\t) % 7,\n\t\t\t\t\tcalendarPrevDayStart =\n\t\t\t\t\t\tthis._calendar.prevDay == 6\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: this._calendar.prevDay + 1;\n\n\t\t\t\tif (calendarPrevDayStart !== parseInt(this.args.startDay)) {\n\t\t\t\t\t//if it doenst take its own row of shit\n\n\t\t\t\t\t// i = 0; i <= freeGridSpacePrev; i++\n\t\t\t\t\t// @TODO AAAAAAAAAAAA FIGURE OUT THE MATH\n\t\t\t\t\t// for( dayLoopI = this._calendar.prevDay; dayLoopI >= (parseInt(this.args.startDay)); dayLoopI--){\n\t\t\t\t\t// for(let i = 0; i < 7; i++){\n\t\t\t\t\tfor (let i = 0; i < freeGridSpacePrev; i++) {\n\t\t\t\t\t\tlet offset = this._calendar.prevDate.getDate() - i;\n\n\t\t\t\t\t\tlet loopDatePrev = new Date(\n\t\t\t\t\t\t\tthis._calendar.prevDate.getFullYear(),\n\t\t\t\t\t\t\tthis._calendar.prevDate.getMonth(),\n\t\t\t\t\t\t\toffset\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tlet dateBlockPrev = this._blockHtml(\n\t\t\t\t\t\t\tloopDatePrev,\n\t\t\t\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}block-adjacent\n\t\t\t\t\t\t\t${(!this.validates(loopDatePrev)\n\t\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//prepend because we loopped this bitch in reverse\n\t\t\t\t\t\ttheUi.dates.innerHTML += dateBlockPrev;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t//curr month\n\n\t\t\t\tfor (let i = 1; i <= this._calendar.lastDate.getDate(); i++) {\n\t\t\t\t\tlet dateBlockCurr = this._blockHtml(\n\t\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, i),\n\t\t\t\t\t\t!this.validates(new Date(this._calendar.year, this._calendar.month, i))\n\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUi.dates.innerHTML += dateBlockCurr;\n\t\t\t\t}\n\n\t\t\t//next month just fill the shit\n\t\t\tconst currNextFirstDay = new Date(\n\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t1\n\t\t\t\t).getDay(),\n\t\t\t\tfreeGridSpaceNext =\n\t\t\t\t\t(7 - currNextFirstDay + parseInt(this.args.startDay)) % 7;\n\n\t\t\tif (currNextFirstDay !== parseInt(this.args.startDay)) {\n\t\t\t\tfor (let i = 1; i <= freeGridSpaceNext; i++) {\n\t\t\t\t\tlet loopDateNext = new Date(\n\t\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t\ti\n\t\t\t\t\t);\n\n\t\t\t\t\tlet dateBlockNext = this._blockHtml(\n\t\t\t\t\t\tloopDateNext,\n\t\t\t\t\t\tUiPrefix(COMPONENT_CLASS) +\n\t\t\t\t\t\t\t'block-adjacent ' +\n\t\t\t\t\t\t\t(!this.validates(loopDateNext)\n\t\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUi.dates.innerHTML += dateBlockNext;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t}\n\n\t_render(){\n\t\tthis.update();\n\t}\n\n\tstatic renderAll(){\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\n\t\tconst calendars = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\t\t\n\t\tcalendars.forEach((calendar) => {\n\t\t\tconst cal = new FormCalendar(calendar);\n\t\t\t\n\t\t\tcal._render();\n\t\t});\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst calendar = new FormCalendar(e.target);\n\t\t\tcalendar.update();\n\t\t}\n\t}\n\n\tstatic handleUpdateKeyup() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)){\n\t\t\t\te.preventDefault();\n\t\t\t}else{\n\t\t\t\tconst calendar = new FormCalendar(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\n\t\t\t\tconst uiInput = e.target.value;\n\t\t\t\tif (uiInput.match(/^\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t} else if (uiInput.match(/^\\d{2}\\/\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t}\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.HumanDate.pattern\n\t\t\t\t);\n\t\n\t\t\t\tconst isValid = pattern.test(uiInput);\n\t\n\t\t\t\tif (calendar && isValid) {\n\t\t\t\t\tconst theValue = uiInput.split('/');\n\t\n\t\t\t\t\tconst y = theValue[2] || '';\n\t\t\t\t\tconst m = theValue[0] || '';\n\t\t\t\t\tconst d = theValue[1] || '';\n\t\n\t\t\t\t\tconst preParsedVal = `${y}-${m}-${d}`;\n\n\t\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tpreParsedVal\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleUpdateClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new FormCalendar(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleRenderClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new FormCalendar(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tFormCalendar.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_KEYUP,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS)}input input`,\n\t\t\tFormCalendar.handleUpdateKeyup()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS)}date`,\n\t\t\tFormCalendar.handleUpdateClick()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS)}month, .${UiPrefix(COMPONENT_CLASS)}year`,\n\t\t\tFormCalendar.handleRenderClick()\n\t\t);\n\t\tFwFnsQ.on_ready = FormCalendar.renderAll;\n\n\t}\n}\n\nexport default FormCalendar;\n\nFormCalendar.initListeners();\n","import FormCalendar from './form/form-calendar.js';\nimport FormTags from './form/form-tags.js';\n\nconst Form = { \n\tFormCalendar,\n\tFormTags\n}\n\nexport default Form;","import FwCore from './../util/core.js';\nimport {FwFnsQ} from './../util/initiator.js';\nimport Modifiers from './../util/modifiers.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwArray from './../data-helper/array.js';\nimport FwDom from './../data-helper/dom.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UiPrefix } from '../util/ui.js';\nimport Form from '../form.js';\n\nconst NAME = 'formTags';\nconst ARG_ATTRIBUTE_NAME = 'tags';\nconst COMPONENT_CLASS = `input-tags`;\nconst FOCUS_CLASS = `focus`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\nconst EVENT_PASTE = `paste${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nconst INPUT_STRING = `__fw_input__`;\n\nclass FormTags extends FwComponent {\n\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUiValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UiValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tstatic get __is () {\n\t\treturn INPUT_STRING;\n\t}\n\n\tget theValue() {\n\t\treturn super.UiEl().value;;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\t\t\tsuper.UiEl().setAttribute('value', FormTags.toVal(theValue,false));\n\t\t\tsuper.UiEl().value = FormTags.toVal(theValue,false);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst renderTags = this.UiValue\n\t\t\t? this.UiValue\n\t\t: (super.UiEl().hasAttribute('data-value-ui'))\n\t\t\t? super.UiEl().getAttribute('data-value-ui')\n\t\t: this.theValue;\n\t\treturn renderTags;\n\t}\n\n\tset renderValue(renderTags) {\n\t\tthis.UiValue = FormTags.toVal(renderTags);\n\t}\n\n\tget UiRoot () {\n\t\treturn super.UiEl().closest(`.${UiPrefix(COMPONENT_CLASS, true)}`);\n\t}\n\n\tget UiInput(){\n\t\treturn this.UiRoot && this.UiRoot.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input`);\n\t}\n\n\tget UiInputValue() {\n\t\treturn this.UiInput.innerText;\n\t}\n\n\tset UiInputValue(inputValue) {\n\t\tthis.UiInput.innerText = inputValue.toString().replace(\n\t\t\t/\\n|\\r/g,\n\t\t\t'\\\\n'\n\t\t);\n\t}\n\n\tget UiInputIdx() {\n\t\tlet toReturn = FormTags.toArr(this.renderValue).indexOf(FormTags.__is);\n\n\n\t\tif(toReturn < 0){\n\t\t\tFormTags.toArr(this.renderValue).length > 0\n\t\t\t? FormTags.toArr(this.renderValue).length - 1\n\t\t\t: 0;\n\t\t}\n\n\t\treturn toReturn;\n\t\t\n\t\t// (\n\t\t// \tthis.UiInput\n\t\t// \t&& parseInt(this.UiInput.getAttribute('data-ui-i'))\n\t\t// )\n\t\t// || FormTags.toArr(this.renderValue).indexOf(FormTags.__is)\n\t\t// || FormTags.toArr(this.theValue).length;\n\t}\n\n\n\t_scrollToUiInput(){\n\t\tif(this.args.multipleLines || !this.UiInput){\n\t\t\treturn\n\t\t}\n\n\t\tif(\n\t\t\t(this.UiRoot.scrollLeft > (this.UiInput.offsetLeft + this.UiInput.offsetWidth))\n\t\t\t|| ((this.UiRoot.scrollLeft + this.UiRoot.clientWidth) < (this.UiInput.offsetLeft + this.UiInput.offsetWidth))\n\t\t){\n\t\t\tFwDom.scrollToElem(this.UiRoot,this.UiInput,'x');\n\t\t\tFwDom.scrollToElem(this.UiRoot,this.UiInput,'y');\n\t\t}\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tcallback: null,\n\t\t\tfilter: null,\n\t\t\tonKeyUp: null,\n\t\t\tmultipleLines: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tcallback:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`),\n\t\t\t\t\tonKeyUp:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-on-keyup`),\n\t\t\t\t\tfilter:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-filter`),\n\t\t\t\t\tmultipleLines:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-multiple-lines`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tFormTags.configDefaults\n\t\t);\n\t}\n\n\tstatic toArr (value,returnsWithInput) {\n\t\t\n\t\treturnsWithInput =\n\t\t\treturnsWithInput !== false || returnsWithInput == true;\n\t\n\t\tlet toReturn = Array.isArray(value)\n\t\t\t\t? value\n\t\t\t: typeof value == 'string'\n\t\t\t\t? value.split(',')\n\t\t\t: [];\n\t\n\t\t//remove duplicates\n\t\ttoReturn = toReturn.reduce((acc, tag) => {\n\t\t\tif (!acc.includes(tag)  && tag !== '') {\n\t\t\t\tacc.push(tag);\n\t\t\t}\n\t\n\t\t\treturn acc;\n\t\t}, []);\n\t\n\t\n\t\t//check for ya boi\n\t\ttoReturn.forEach((tag, i) => {\n\t\t\tif (\n\t\t\t\t(!tag || tag == '')\n\t\t\t\t|| (tag === FormTags.__is && !returnsWithInput)\n\t\t\t) {\n\t\t\t\ttoReturn.splice(i, 1);\n\t\t\t}\n\t\t});\n\t\n\t\tif (returnsWithInput && toReturn.indexOf(FormTags.__is) < 0) {\n\t\t\ttoReturn.push(FormTags.__is);\n\t\t}\n\n\t\treturn toReturn;\n\t};\n\n\tstatic toVal (value,returnsWithInput){\n\t\treturn FormTags.toArr(value, returnsWithInput).join(',');\n\t}\n\n\tfilterValue(custFn){\n\t\tlet fnToFilter,applyFilter;\n\n\t\ttry {\n\t\t\tfnToFilter = custFn || eval(this.args.filter);\n\t\t} catch (err) {}\n\n\t\tif (typeof fnToFilter === 'function') {\n\t\t\tapplyFilter = (valueToFilter, filterFnName) => {\n\t\t\t\tconst noInputValueToFilter = (() => {\n\t\t\t\t\t\t\treturn FormTags.toVal(valueToFilter, false);\n\t\t\t\t\t\t})();\n\n\t\t\t\t// turn to array ya bopi without the input tag string\n\t\t\t\tlet toReturn = FormTags.toArr(\n\t\t\t\t\teval(`${filterFnName}(\"${noInputValueToFilter}\")`),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\n\t\t\t\t// console.log(\n\t\t\t\t// \t'index of input\\n',inputIndex,\n\t\t\t\t// \t'\\n\\n\\nfiltered and ready for splice\\n',toReturn,\n\t\t\t\t// \t'\\n\\n\\npassed to the fil;ter\\n'FormTags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\nrar array\\n'FormTags.toArr(valueToFilter),\n\t\t\t\t// \t'\\n\\n\\n no input field\\n',noInputValueToFilter,FormTags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n no input fieldas array\\n'FormTags.toArr(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n string for eval\\n', ( filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'\\n\\n\\neval\\n',  eval(filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'whAT ETHE FUCK'\n\t\t\t\t// );\n\n\t\t\t\tif (this.UiInputIdx > -1) {\n\t\t\t\t\ttoReturn.splice(\n\t\t\t\t\t\tthis.UiInputIdx <\n\t\t\t\t\t\t\tFormTags.toArr(valueToFilter).length - 1\n\t\t\t\t\t\t\t? this.UiInputIdx\n\t\t\t\t\t\t\t: toReturn.length,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tFormTags.__is\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn FormTags.toVal(toReturn);\n\t\t\t};\n\n\t\t\tthis.theValue = applyFilter(\n\t\t\t\tthis.theValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t\tthis.renderValue = applyFilter(\n\t\t\t\tthis.renderValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t}\n\t}\n\n\tupdate(newValue,allowFilter,valueToRender,inputText) {\n\t\tFwEvent.trigger(super.UiEl(),EVENT_BEFORE_UPDATE);\n\n\t\tlet theValue = newValue\n\t\t\t|| this.theValue\n\t\t\t|| '';\n\t\t\n\t\tlet uiValue = valueToRender\n\t\t\t|| theValue\n\t\t\t|| this.renderValue\n\t\t\t|| '';\n\n\t\tallowFilter = allowFilter != false || allowFilter == true;\n\n\t\tinputText = inputText || false;\n\n\n\t\tFwEvent.trigger(super.UiEl(),EVENT_UPDATE);\n\n\t\tthis.theValue = theValue;\n\t\tthis.renderValue = uiValue;\n\n\t\t\n\t\tif (this.args.filter && allowFilter) {\n\t\t\tthis.filterValue();\n\t\t}\n\n\t\tthis._createUi();\n\n\t\tif(inputText){\n\t\t\tthis.UiInputValue = inputText;\n\t\t\tthis.focus();\n\t\t}\n\t\t\n\t\tFwEvent.trigger(super.UiEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t_createUi(elem) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\n\t\tconst theUi = {};\n\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\t\n\t\ttheUi.container = this.UiRoot;\n\t\tif (!theUi.container) {\n\t\t\ttheUi.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUi.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUi.container.appendChild(element);\n\t\t\ttheUi.container.classList.add('input');\n\t\t\ttheUi.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${FwCore.settings.uiClass}\n\t\t\t\t${FwCore.settings.uiJsClass}\n\t\t\t\t${\n\t\t\t\t\telement\n\t\t\t\t\t.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUiPrefix(COMPONENT_CLASS, true)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\n\t\t\ttheUi.container.classList.add(\n\t\t\t\tthis.args.multipleLines\n\t\t\t\t\t? `${UiPrefix(COMPONENT_CLASS)}multiple`\n\t\t\t\t\t: `${UiPrefix(COMPONENT_CLASS)}single`\n\t\t\t);\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\ttheUi.container.style = this.args.width;\n\t\t}\n\t\t//idk it never exists on initial so we dont have to do weird div wraping catches here\n\n\t\ttheUi.wrapper = theUi.container.querySelector(`.${UiPrefix(COMPONENT_CLASS)}wrapper`);\n\n\t\tif (!theUi.wrapper) {\n\t\t\ttheUi.wrapper = document.createElement('div');\n\t\t\ttheUi.container.appendChild(theUi.wrapper);\n\t\t\ttheUi.wrapper.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}wrapper`\n\t\t\t);\n\t\t\ttheUi.wrapper = theUi.container.querySelector(`.${UiPrefix(COMPONENT_CLASS)}wrapper`);\n\t\t}\n\n\t\ttheUi.input = this.UiInput;\n\n\n\t\tif (!theUi.input) {\n\t\t\ttheUi.input = document.createElement('span');\n\t\t\ttheUi.wrapper.appendChild(theUi.input);\n\t\t\ttheUi.input.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}input`\n\t\t\t);\n\t\t\ttheUi.input.contentEditable = true;\n\t\t\ttheUi.input = theUi.wrapper.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input`);\n\n\t\t\tif(element.hasAttribute('placeholder')){\n\t\t\t\ttheUi.input.setAttribute(\n\t\t\t\t\t'data-placeholder',\n\t\t\t\t\telement.getAttribute('placeholder')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//nearest fw-ui parent will actually do tgoggl for bby because baby cant stand up on its own\n\t\t\tif (element.hasAttribute('data-toggle')) {\n\t\t\t\ttheUi.input.setAttribute(\n\t\t\t\t\t'data-toggle',\n\t\t\t\t\telement.getAttribute('data-toggle')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (FwComponent.isDisabled(element)) {\n\t\t\t\ttheUi.input.classList.add('disabled');\n\t\t\t}\n\n\t\t\t//bitch\n\t\t\tif (this.args.onKeyUp) {\n\t\t\t\ttheUi.input.addEventListener('keyup', (event)=>{\n\t\t\t\t\tconst keyUpScript = eval(this.args.onKeyUp);\n\t\t\t\t\tif(keyUpScript){\n\t\t\t\t\t\tkeyUpScript();\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//updoot tags\n\t\tconst oldTags = theUi.wrapper.querySelectorAll(`.${UiPrefix(COMPONENT_CLASS)}tag`);\n\n\t\toldTags.forEach((tag) => {\n\t\t\ttag.parentNode.removeChild(tag);\n\t\t});\n\n\n\t\tlet valArr = FormTags.toArr(this.renderValue, true);\n\n\t\ttheUi.input.setAttribute(\n\t\t\t'data-ui-i',\n\t\t\tthis.UiInputIdx\n\t\t);\n\n\t\t//validate tags\n\t\t// valArr = valArr.reduce((acc, tag) => {\n\t\t// \tif (!acc.includes(tag)) {\n\t\t// \t\tacc.push(tag);\n\t\t// \t}\n\t\t// \treturn acc;\n\t\t// }, []);\n\n\t\tvalArr.forEach((tag, i) => {\n\t\t\t//get index of input\n\t\t\tif (tag !== FormTags.__is) {\n\t\t\t\tconst tagHtml = document.createElement('span');\n\n\t\t\t\tif(i < this.UiInputIdx){\n\t\t\t\t\ttheUi.input.insertAdjacentElement(\n\t\t\t\t\t\t'beforebegin',\n\t\t\t\t\t\ttagHtml\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\ttheUi.wrapper.appendChild(tagHtml);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\ttagHtml.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}tag`\n\t\t\t\t);\n\n\t\t\t\ttagHtml.innerHTML = `<button\n\t\t\t\t\t\tdata-ui-i=\"${i}\"\n\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}tag-text ${UiPrefix(COMPONENT_CLASS)}tag-button\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${tag}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button data-ui-i=\"${i}\" class=\"${UiPrefix(COMPONENT_CLASS)}tag-close ${UiPrefix(COMPONENT_CLASS)}tag-button\" type=\"button\">\n\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t</button>`;\n\t\t\t}\n\t\t});\n\n\t\t//attribues\n\t\tfor (let i = 0; i < element.attributes.length; i++) {\n\t\t\tlet attr = element.attributes[i];\n\n\t\t\tif (attr.specified) {\n\t\t\t\tif (\n\t\t\t\t\tattr.name.includes('data')\n\t\t\t\t\t&& !attr.name.includes('data-tags')\n\t\t\t\t\t&& !attr.name.includes('data-toggle')\n\t\t\t\t\t&& !attr.name.includes('data-value-ui')\n\t\t\t\t) {\n\t\t\t\t\ttheUi.container.setAttribute(attr.name, attr.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\telement.setAttribute('data-value-ui', this.renderValue);\n\n\t\t//keep that shoit bisibol\n\t\tthis._scrollToUiInput();\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t}\n\n\tfocus(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('poku','naAAANDATAAAOOOO');\n\t\t\tself.UiInput.focus();\n\t\t}, 0);\n\t\tself.UiRoot.classList.add(FOCUS_CLASS);\n\t\tself._scrollToUiInput();\n\t}\n\n\tblur(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('bru','naAAANDATAAAOOOO');\n\t\t\tself.UiInput.blur();\n\t\t}, 0);\n\t\tself.UiRoot.classList.remove(FOCUS_CLASS);\n\t}\n\n\t_render(){\n\t\tthis.update();\n\t}\n\n\tstatic renderAll(){\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\n\t\tconst tagsInputs = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\t\t\n\t\ttagsInputs.forEach((poot) => {\n\t\t\tconst tagsInput = new FormTags(poot);\n\t\t\t\n\t\t\ttagsInput._render();\n\t\t});\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst tagsInput = new FormTags(e.target);\n\t\t\ttagsInput.update();\n\t\t}\n\t}\n\n\tstatic handleEditablePaste() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst pasted =\n\t\t\t\t\te.clipboardData\n\t\t\t\t\t|| window.clipboardData\n\t\t\t\t\t|| e.originalEvent.clipboardData;\n\t\t\t\t\n\t\t\t\ttagsInput.UiInputValue += pasted.getData('text');\n\n\t\t\t\ttagsInput.blur();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableFocus() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new FormTags(e.target);\n\t\t\t\ttagsInput.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableBlur() {\n\t\treturn (e) => {\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\t\t//value para mareset ta kung hain si buloy\n\t\t\t\t\tlet currValue = FormTags.toArr(tagsInput.theValue);\n\t\n\t\t\t\tif(\n\t\t\t\t\ttagsInput.UiInputValue\n\t\t\t\t){\n\t\t\t\t\tcurrValue.splice(\n\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttagsInput.UiInputValue.replace(',', '')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\n\t\t\t\ttagsInput.UiInputValue = '';\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tFormTags.toVal(currValue,false),\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\n\t\t\t\ttagsInput.blur(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableKeydown() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\n\t\t\t} else {\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\tlet currUiValue = FormTags.toArr(tagsInput.renderValue),\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter = false;\n\n\t\t\t\tswitch (e.key) {\n\t\t\t\t\t//enter\n\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\ttagsInput.blur();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//comma\n\t\t\t\t\tcase ',':\n\t\t\t\t\t\tif (!Modifiers.hasActive()) {\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\ttagsInput.UiInputValue.replace(',', '')\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\ttagsInput.UiInputValue = '';\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// currUiValue.splice()\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//left\n\t\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx > 0\n\t\t\t\t\t\t\t\t? tagsInput.UiInputIdx - 1\n\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//right\n\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx < currUiValue.length\n\t\t\t\t\t\t\t\t\t? tagsInput.UiInputIdx + 1\n\t\t\t\t\t\t\t\t\t: currUiValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUiInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//up\n\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//down\n\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\tcurrUiValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUiInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//backspace\n\t\t\t\t\tcase 'Backspace':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUiValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx - 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//delete\n\t\t\t\t\tcase 'Delete':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUiValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx + 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\n\t\t\t\tnewValue = FormTags.toVal(currUiValue);\n\t\t\t\t// tagsInput._scrollToUiInput();\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleDelete() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToRemove = parseInt(e.target.getAttribute(\n\t\t\t\t\t\t'data-ui-i'\n\t\t\t\t\t));\n\n\t\t\t\tlet currValue = FormTags.toArr(tagsInput.theValue);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\tparseInt(tagToRemove),\n\t\t\t\t\t1\n\t\t\t\t);\n\t\n\t\t\t\tconst newValue = FormTags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleEdit() {\n\t\treturn (e) => {\n\t\t\tconst triggerer = e.target;\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(triggerer)) {\n\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToEdit = parseInt(e.target.getAttribute(\n\t\t\t\t\t'data-ui-i'\n\t\t\t\t));\n\n\t\t\t\tlet currValue = FormTags.toArr(tagsInput.theValue,false);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\ttagToEdit,\n\t\t\t\t\t1,\n\t\t\t\t\tFormTags.__is\n\t\t\t\t);\n\t\n\t\t\t\tconst newUiValue = FormTags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnull,\n\t\t\t\t\tfalse,\n\t\t\t\t\tnewUiValue,\n\t\t\t\t\te.target.innerText\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tFormTags.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_PASTE,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditablePaste()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditableFocus()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_BLUR,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditableBlur()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_KEYDOWN,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditableKeydown()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}tag-close`,\n\t\t\tFormTags.handleDelete()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}tag-text`,\n\t\t\tFormTags.handleEdit()\n\t\t);\n\n\t\tFwFnsQ.on_ready = FormTags.renderAll;\n\t\tFwFnsQ.on_resize = FormTags.renderAll;\n\n\t}\n}\n\nexport default FormTags;\n\nFormTags.initListeners();","const Modifiers =  {\n\tkeys: {\n\t\tctrl: false,\n\t\tshift: false,\n\t\talt: false,\n\t\tmeta: false,\n\t},\n\thasActive(key) {\n\t\tkey = key || false;\n\t\n\t\tif (key && this.keys.hasOwnProperty(key)) {\n\t\t\treturn this.keys[key];\n\t\t\t\n\t\t} else {\n\t\t\treturn (\n\t\t\t\tthis.keys.ctrl\n\t\t\t\t|| this.keys.shift\n\t\t\t\t|| this.keys.alt\n\t\t\t\t|| this.keys.meta\n\t\t\t);\n\t\t}\n\t},\n\tupdate(event){\n\t\tthis.keys.shift = event.shiftKey;\n\t\tthis.keys.ctrl = event.ctrlKey;\n\t\tthis.keys.alt = event.altKey;\n\t\tthis.keys.meta = event.metaKey;\n\t}\n\t\n}\n\n//key events\n\tdocument.documentElement.addEventListener(\n\t\t'keydown',\n\t\t(e) => {\n\t\t\tModifiers.update(e);\n\t\t}\n\t);\n\n\tdocument.documentElement.addEventListener(\n\t\t'keyup',\n\t\t(e) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tModifiers.update(e);\n\t\t\t}, 100);\n\t\t}\n\t);\n\nexport default Modifiers","import FwDataHelper from '../classes/data-helper.js';\n\nclass FwArrayay extends FwDataHelper {\n\t\n\tstatic moveItem(arr, oi, ni){\n\n\t\twhile (oi < 0) {\n\t\t\toi += arr.length;\n\t\t}\n\n\t\twhile (ni < 0) {\n\t\t\tni += arr.length;\n\t\t}\n\n\t\tif (ni >= arr.length) {\n\t\t\tlet k = ni - arr.length;\n\t\t\twhile (k-- + 1) {\n\t\t\t\tarr.push(undefined);\n\t\t\t}\n\t\t}\n\n\t\tarr.splice(ni, 0, arr.splice(oi, 1)[0]);\n\n\t\treturn arr;\n\t}\n\n\tstatic reverse(arr) {\n\t\tlet newArray = [];\n\t\tfor (let i = arr.length - 1; i >= 0; i--) {\n\t\t\tnewArray.push(arr[i]);\n\t\t}\n\t\treturn newArray;\n\t}\n}\n\n\nexport default FwArrayay;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(5);\n"],"sourceRoot":""}