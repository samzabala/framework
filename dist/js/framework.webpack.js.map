{"version":3,"sources":["webpack://fw/webpack/universalModuleDefinition","webpack://fw/./js/src/util/breakpoint.js","webpack://fw/./js/src/accordion.js","webpack://fw/./js/src/alert.js","webpack://fw/./js/src/button.js","webpack://fw/./js/framework.webpack.js","webpack://fw/./js/src/util/core.js","webpack://fw/./js/src/util/initiator.js","webpack://fw/./js/src/data-helper/event.js","webpack://fw/./js/src/classes/data-helper.js","webpack://fw/./js/src/data-helper/dom.js","webpack://fw/./js/src/data-helper/string.js","webpack://fw/./js/src/classes/component.js","webpack://fw/./js/src/util/validation.js","webpack://fw/./js/src/util/ui.js","webpack://fw/./js/src/dropdown.js","webpack://fw/./js/src/data-helper/date.js","webpack://fw/./js/src/form/form-calendar.js","webpack://fw/./js/src/form.js","webpack://fw/./js/src/form/form-tags.js","webpack://fw/./js/src/util/modifiers.js","webpack://fw/./js/src/data-helper/array.js","webpack://fw/webpack/bootstrap","webpack://fw/webpack/runtime/define property getters","webpack://fw/webpack/runtime/hasOwnProperty shorthand","webpack://fw/webpack/runtime/make namespace object","webpack://fw/webpack/startup"],"names":["BrValue","xxs","xs","parseFloat","getComputedStyle","document","documentElement","getPropertyValue","sm","md","lg","xl","BrTag","Object","keys","BrMobileMax","ValidateBr","breakpoint","mode","currIndex","indexOf","clientWidth","NAME","ARG_ATTRIBUTE_NAME","TOGGLE_MODE","COMPONENT_CLASS","FwString","ACTIVATED_CLASS","DATA_KEY","FwCore","EVENT_KEY","EVENT_CLICK","EVENT_BEFORE_CLOSE","EVENT_CLOSE","EVENT_AFTER_CLOSE","EVENT_BEFORE_OPEN","EVENT_OPEN","EVENT_AFTER_OPEN","Accordion","element","triggerer","args","UiToggled","_triggerer","FwDom","_customArgs","dispose","_siblicide","_isWithinGroupMultiple","UiGroot","accBbies","UiEl","classList","remove","close","elem","hashChangeOverride","changeHash","_isValidWithinQuery","FwEvent","_isWithinAllowNoActive","_probablyToggle","forEach","toggle","_id","UiChangeHash","open","add","contains","handleToggler","e","preventDefault","FwComponent","target","accordion","handleUniversal","initListeners","window","addEventListener","FwFnsQ","getAttribute","configDefaults","toReturn","selection","querySelectorAll","length","hasAttribute","parentNode","closest","matches","Alert","el","_element","removeChild","closeAll","selector","instance","alertInstance","handleClose","alert","handleCloseAll","EVENT_BEFORE_TOGGLE","EVENT_TOGGLE","EVENT_AFTER_TOGGLE","Button","UiToggleGroup","handleToggle","button","Dropdown","Form","_dataobj","storage","id","_set","key","data","fwKeys","_get","keyProperties","_remove","Data","set","elm","get","settings","prefix","lazyLoad","initializeModal","initializeBoard","initializeAccordion","dynamicHash","uiClass","uiJsClass","replace","FwQueue","_on_load","_on_ready","_on_resize","_on_scroll","_on_rightAway","_on_init","fn","push","runFnsQ","fnsArray","docReady","readyState","FwInit","initEvents","on_init","runResize","runScroll","runInit","on_rightAway","runReady","on_ready","setCompleteState","runLoad","on_load","resizeTimerInternal","clearTimeout","setTimeout","on_resize","scrollTimerInternal","on_scroll","setState","body","setLoadingState","reInit","customEvents","NativeEvents","addListener","parent","evt","delegationFn","customEventOpts","evtNoApi","split","isNative","includes","cancelable","detail","event","trigger","createEvent","initEvent","CustomEvent","dispatchEvent","bubbles","FwDataHelper","dataParser","dat","_FwData","getData","querySelector","slideDown","style","display","slideUp","getSiblings","Array","prototype","filter","call","children","child","getAncestors","parents","firstChar","charAt","substr","tagName","toLowerCase","moveContents","elementToMoveContentsTo","oldParent","newParent","childNodes","appendChild","scrollToElem","ToScrollTo","direction","methods","scrollOpts","getBoundingClientRect","scrollTo","RunFnForChildren","ancestorElem","parentSelector","isSameNode","GetFileExtension","str","pop","ToCamelCase","word","index","toUpperCase","ToDashed","props","constructor","getInstance","_runFn","callback","eval","exec","err","console","error","_parseArgs","arr","defaults","prop","hasOwnProperty","value","undefined","parser","isDisabled","DisableClasses","classString","isDynamic","UiDynamicClass","lookupResetToParentClass","lookupResetFromClosestComponent","DateTimePreset","HumanDate","placeholder","pattern","template","HumanTime24","HumanTime12","Value","ValueDateTimePreset","dayNames","dayNamesShort","dayNamesShorter","monthNames","monthNamesShort","Palette","UiPrefix","componentName","noDash","UiTriggerer","isGroupable","toggleMode","toggledClass","componentClass","startsWith","i","possibleSiblings","nextElementSibling","location","hash","idToGoTo","history","pushState","noHashURL","href","title","activatedClass","siblingSelector","resetterClass","noActiveClass","multipleClass","resetter","butt","selectorSiblings","sibling","NAV_ANCESTOR","EVENT_FOCUS","EVENT_BLUR","setDimensions","UiElNavcestor","purgeToggles","purge","UiElUncles","uncle","width","maxHeight","_purger","exempted","doopdoop","exemptedDropdown","exemptedToggle","dropdown","handleFocusOpen","blur","handleBlurClose","handlerUniversal","FwDate","toParsed","d","yr","mo","dy","hr","mn","dateArr","timeArr","toString","getFullYear","getMonth","getDate","getHours","getMinutes","RegExp","isValid","test","DateTimePresetArr","parseInt","Date","toHuman","date","format","iFormat","output","literal","lookAhead","match","formatNumber","len","num","formatName","shortNames","longNames","getDay","Math","round","getTime","toVal","adjacentMonth","offsetByMonth","dateOverride","currMonth","currYear","newMonth","newYear","defOffset","setMonth","setFullYear","setDate","EVENT_KEYUP","EVENT_CHANGE","EVENT_BEFORE_INIT","EVENT_INIT","EVENT_AFTER_INIT","EVENT_BEFORE_CREATE","EVENT_CREATE","EVENT_AFTER_CREATE","EVENT_BEFORE_UPDATE","EVENT_UPDATE","EVENT_AFTER_UPDATE","FormCalendar","valueToRender","UiValue","_arrowHtml","buttonClass","symbolClass","arrowDate","disValid","arrowClass","_calendar","startDate","validates","year","month","htmlString","_blockHtml","customClass","update","newValue","theValue","uiValue","renderValue","_createUi","UiRoot","UiDates","UiInput","UiInputValue","rangeOnly","checkAgainst","disabledDates","dateNow","setHours","max","min","theUi","container","createElement","insertBefore","setAttribute","inputWrapper","components","component","textInput","innerHTML","heading","butts","yearSkip","monthSkip","dropdownInit","dropdownLimit","yearSpan","listItemDate","dateForValidation","currClass","listItem","grid","append","days","daysHTML","dayToRetrieve","startDay","dates","freeGridSpacePrev","calendarPrevDayStart","prevDay","offset","prevDate","loopDatePrev","dateBlockPrev","lastDate","dateBlockCurr","currNextFirstDay","freeGridSpaceNext","loopDateNext","dateBlockNext","_render","renderAll","calendars","calendar","cal","handleChange","handleUpdateKeyup","uiInput","y","m","preParsedVal","handleUpdateClick","handleRenderClick","theRenderDate","renderDate","FormTags","FOCUS_CLASS","EVENT_KEYDOWN","EVENT_PASTE","INPUT_STRING","_scrollToUiInput","multipleLines","scrollLeft","offsetLeft","offsetWidth","toArr","returnsWithInput","isArray","reduce","acc","tag","__is","splice","join","filterValue","custFn","fnToFilter","applyFilter","valueToFilter","filterFnName","noInputValueToFilter","UiInputIdx","allowFilter","inputText","focus","wrapper","input","contentEditable","onKeyUp","keyUpScript","oldTags","valArr","tagHtml","insertAdjacentElement","attributes","attr","specified","name","disableNative","self","tagsInputs","poot","tagsInput","handleEditablePaste","pasted","clipboardData","originalEvent","handleEditableFocus","handleEditableBlur","currValue","handleEditableKeydown","currUiValue","Modifiers","FwArray","handleDelete","tagToRemove","handleEdit","tagToEdit","newUiValue","innerText","renderTags","inputValue","ctrl","shift","alt","meta","hasActive","shiftKey","ctrlKey","altKey","metaKey","FwArrayay","moveItem","oi","ni","k","reverse","newArray"],"mappings":"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","file":"js/framework.webpack.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"frameWork\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"frameWork\"] = factory();\n\telse\n\t\troot[\"fw\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn ","const BrValue = {\n\txxs: 0,\n\txs:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-xs')\n\t\t)\n\t\t|| 600,\n\tsm:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-sm')\n\t\t)\n\t\t|| 1200,\n\tmd:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-md')\n\t\t)\n\t\t|| 1600,\n\tlg:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-lg')\n\t\t)\n\t\t|| 1800,\n\txl: 9999999\n};\n\nconst BrTag = Object.keys(BrValue);\n// Br_to_loop =  ['xs','sm','md','lg'];\n\nconst BrMobileMax =\nparseFloat(\n\tgetComputedStyle(\n\t\tdocument.documentElement\n\t).getPropertyValue('--fw-br-mobile-max')\n)\n|| 'sm';\n\nexport {BrValue, BrTag, BrMobileMax};\n\nexport const ValidateBr = (breakpoint, mode) => {\n\tmode = mode || 'below'; //below,within,above\n\tconst currIndex = BrTag.indexOf(breakpoint);\n\tswitch (mode) {\n\t\tcase 'below': //max-width\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<= BrValue[breakpoint]\n\t\t\t);\n\n\t\tcase 'within':\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<=BrValue[breakpoint]\n\t\t\t\t&& document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t);\n\n\t\tcase 'above':\n\t\t\treturn currIndex > 0\n\t\t\t\t? document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t\t: document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex]];\n\t}\n};","\nimport FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggled,UiChangeHash } from './util/ui.js';\nimport {BrMobileMax,ValidateBr} from './util/breakpoint.js';\n\n\nconst NAME = 'accordion';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `open`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Accordion extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\telement = element || UiToggled(TOGGLE_MODE) || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_triggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tchangeHash: 'true',\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& this._triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UiEl()\n\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tAccordion.configDefaults\n\t\t);\n\t}\n\n\tget _isValidWithinQuery() {\n\t\treturn !(\n\t\t\tsuper.UiEl().classList.contains(`${NAME}-mobile`)\n\t\t\t&& !ValidateBr(BrMobileMax, 'below')\n\t\t)\n\t}\n\n\tget _isWithinGroupMultiple () {\n\t\treturn this.UiGroot && this.UiGroot.classList.contains(`${NAME}-group-multiple`)\n\t}\n\n\tget _isWithinAllowNoActive() {\n\t\treturn this.UiGroot && this.UiGroot.classList.contains(`${NAME}-group-allow-no-active`)\n\t}\n\n\tget _probablyToggle() {\n\t\tlet toReturn = [];\n\n\t\tconst selection = document.querySelectorAll(\n\t\t\t`[data-toggle=\"${TOGGLE_MODE}\"][href=\"#${this._id}\"],\n\t\t\t[data-toggle=\"${TOGGLE_MODE}\"][data-href=\"#${this._id}\"]`\n\t\t);\n\n\t\tif(selection.length) {\n\t\t\ttoReturn = selection;\n\t\t}\n\n\t\treturn toReturn;\n\n\t}\n\n\tget _id(){\n\t\treturn super.UiEl().hasAttribute('id')\n\t\t\t? super.UiEl().getAttribute('id')\n\t\t: false;\n\t}\n\n\t_siblicide(){\n\n\t\tif ( !this._isWithinGroupMultiple ) {\n\t\t\tFwDom.RunFnForChildren(\n\t\t\t\tthis.UiGroot,\n\t\t\t\t`[data-toggle=\"${TOGGLE_MODE}\"],.${COMPONENT_CLASS}`,\n\t\t\t\t`.${COMPONENT_CLASS}-group`,\n\t\t\t\t(accBbies)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& (accBbies !== this._triggerer)\n\t\t\t\t\t\t\t&& (accBbies !== super.UiEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\t!this._triggerer\n\t\t\t\t\t\t\t&& (accBbies !== super.UiEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\taccBbies.classList.remove(ACTIVATED_CLASS)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\t//which came first the accordion-gruoup or the accordiiinbsbob?? the actual bitch none of that accordion-group shit\n\tget UiGroot () {\n\t\t\tlet toReturn = super.UiEl().parentNode.closest(`.${COMPONENT_CLASS},.${COMPONENT_CLASS}-group`);\n\n\t\t\t//has to actually be accordion-group closest before accordion\n\t\t\tif(\n\t\t\t\t!toReturn\n\t\t\t\t|| (\n\t\t\t\t\ttoReturn\n\t\t\t\t\t&& !toReturn.matches(`.${COMPONENT_CLASS}-group`) //***\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\n\t\t\treturn toReturn;\n\t}\t\n\n\tclose(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\thashChangeOverride = hashChangeOverride || this.args.changeHash;\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\t\t//is not within an accordion group that needs one of them open \n\t\t\tif ( !this.UiGroot || this._isWithinAllowNoActive ) {\n\n\t\t\t\tif(this._triggerer) {\n\t\t\t\t\tthis._triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t}else{\n\t\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\t\ttoggle.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\n\t\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\n\t\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\t\tUiChangeHash('');\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t\t}\n\t\t}\n\t}\n\n\topen(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\thashChangeOverride = hashChangeOverride || this.args.changeHash;\n\n\t\tthis._siblicide();\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\tif(this._triggerer) {\n\t\t\t\tthis._triggerer.classList.add(ACTIVATED_CLASS);\n\t\t\t}else{\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.add(ACTIVATED_CLASS);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\tUiChangeHash(this._id);\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t\t}\n\t\t\n\t}\n\n\n\n\ttoggle(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(elem,hashChangeOverride);\n\t\t}else{\n\t\t\tthis.open(elem,hashChangeOverride);\n\t\t}\n\t}\n\n\tstatic handleToggler() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst accordion = new Accordion(\n\t\t\t\t\tUiToggled(TOGGLE_MODE,e.target),\n\t\t\t\t\te.target\n\t\t\t\t);\n\n\t\t\t\taccordion.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\t\t\tif(FwCore.settings.initializeAccordion){\n\t\t\t\tconst accordion = new Accordion();\n\t\t\t\taccordion.open();\n\t\t\t};\n\t\t}\n\t}\n\n\tstatic initListeners() {\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}\"]`,\n\t\t\tAccordion.handleToggler()\n\t\t);\n\n\t\twindow.addEventListener(\n\t\t\t'hashchange',\n\t\t\tAccordion.handleUniversal()\n\t\t);\n\n\t\tFwFnsQ.on_ready = Accordion.handleUniversal();\n\t}\n\t\n}\n\nexport default Accordion;\n\nAccordion.initListeners();\n\n","\nimport FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggled } from './util/ui.js';\n\n\nconst NAME = 'alert';\nconst TOGGLE_MODE = `${NAME}-close`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\nclass Alert extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tclose(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.el(elem)\n\t\t\t: this._element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\n\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\telement.parentNode.removeChild(element);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t}\n\n\tstatic closeAll(){\n\t\tconst selector = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\tif (selector.length) {\n\t\t\tselector.forEach((instance) => {\n\t\t\t\tif (\n\t\t\t\t\tinstance.querySelectorAll('[data-toggle=\"alert-close\"]').length\n\t\t\t\t\t|| instance.classList.contains(`${NAME}-closeable`)\n\t\t\t\t) {\n\t\t\t\t\tconst alertInstance = new Alert(instance);\n\t\t\t\t\talertInstance.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tstatic handleClose() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst alert = new Alert( UiToggled(TOGGLE_MODE,e.target) );\n\t\t\t\talert.close();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleCloseAll() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tAlert.closeAll()\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}\"]`,\n\t\t\tAlert.handleClose()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}-all\"]`,\n\t\t\tAlert.handleCloseAll()\n\t\t);\n\t}\n}\n\nexport default Alert;\n\nAlert.initListeners();","import FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'btn';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass Button extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(element,EVENT_TOGGLE);\n\t\tUiToggleGroup(element, NAME);\n\t\tFwEvent.trigger(element,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst button = new Button( e.target );\n\t\t\t\tbutton.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS}-group-toggle > .${COMPONENT_CLASS}`,\t\n\t\t\tButton.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default Button;\n\nButton.initListeners();","// import FwArrayay from './src/data-helper/array.js';\n// import FwString from './src/data-helper/string.js';\n// import FwDate from './src/data-helper/date.js';\n// import FwDom from './src/data-helper/dom.js';\n\n\n\nimport Accordion from './src/accordion.js';\nimport Alert from './src/alert.js';\nimport Button from './src/button.js';\nimport Dropdown from './src/dropdown.js';\nimport Form from './src/form.js';\nexport default {\n\tAccordion,\n\tAlert,\n\tButton,\n\tDropdown,\n\tForm\n};\n","\n\nconst FwCore = {};\n\nconst _dataobj = (() => {\n\tconst storage = {};\n\tlet id = 1;\n\treturn {\n\t\t_set(element, key, data) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\telement.fwKeys = {\n\t\t\t\tkey,\n\t\t\t\tid\n\t\t\t}\n\t\t\tid++\n\t\t\t}\n\n\t\t\tstorage[element.fwKeys.id] = data\n\t\t},\n\t\t_get(element, key) {\n\t\t\tif (!element || typeof element.fwKeys === 'undefined') {\n\t\t\treturn null\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\treturn storage[keyProperties.id]\n\t\t\t}\n\n\t\t\treturn null\n\t\t},\n\t\t_remove(element, key) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\treturn\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\tdelete storage[keyProperties.id]\n\t\t\tdelete element.fwKeys\n\t\t\t}\n\t\t}\n\t}\n})()\n\nFwCore.Data = {\n\tset(elm, key, data) {\n\t_dataobj._set(elm, key, data)\n\t},\n\tget(elm, key) {\n\treturn _dataobj._get(elm, key)\n\t},\n\tremove(elm, key) {\n\t_dataobj._remove(elm, key)\n\t}\n}\n\n\nFwCore.settings =\n\tFwCore.settings\n\t|| {};\n\nFwCore.settings.prefix = 'fw';\n\nFwCore.settings.lazyLoad =\n\tFwCore.settings.lazyLoad\n\t|| true;\nFwCore.settings.initializeModal =\n\tFwCore.settings.initializeModal\n\t|| true;\nFwCore.settings.initializeBoard =\n\tFwCore.settings.initializeBoard\n\t|| true;\nFwCore.settings.initializeAccordion =\n\tFwCore.settings.initializeAccordion\n\t|| true;\nFwCore.settings.dynamicHash =\n\tFwCore.settings.dynamicHash\n\t|| true;\nFwCore.settings.uiClass =\n\tFwCore.settings.uiClass\n\t|| `${FwCore.settings.prefix}-ui`; //for styles\nFwCore.settings.uiJsClass =\n\tFwCore.settings.uiJsClass\n\t|| FwCore.settings.uiClass.replace('-','_'); // for scripting events and shit\n\nexport default FwCore;","\n\n\n class FwQueue {\n\tconstructor(){\n\t\tthis._on_load = [];\n\t\tthis._on_ready = [];\n\t\tthis._on_resize = [];\n\t\tthis._on_scroll = [];\n\t\tthis._on_rightAway = [];\n\t\tthis._on_init = [];\n\t}\n\n\tget on_load(){\n\t\treturn this._on_load;\n\t}\n\tget on_ready(){\n\t\treturn this._on_ready;\n\t}\n\tget on_resize(){\n\t\treturn this._on_resize;\n\t}\n\tget on_scroll(){\n\t\treturn this._on_scroll;\n\t}\n\tget on_rightAway(){\n\t\treturn this._on_rightAway;\n\t}\n\tget on_init(){\n\t\treturn this._on_init;\n\t}\n\n\tset on_load(fn){\n\t\tthis._on_load.push(fn);\n\t}\n\tset on_ready(fn){\n\t\tthis._on_ready.push(fn);\n\t}\n\tset on_resize(fn){\n\t\tthis._on_resize.push(fn);\n\t}\n\tset on_scroll(fn){\n\t\tthis._on_scroll.push(fn);\n\t}\n\tset on_rightAway(fn){\n\t\tthis._on_rightAway.push(fn);\n\t}\n\tset on_init(fn){\n\t\tthis._on_init.push(fn);\n\t}\n}\n\nconst FwFnsQ = new FwQueue();\n\nexport {FwFnsQ};\n\nconst runFnsQ = (fnsArray) =>  {\n\tfnsArray.forEach((fn) => {\n\t\tfn();\n\t});\n}\n\n\nconst docReady = (fn) => {\n\tif (document.readyState != 'loading') {\n\t\tfn();\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t}\n};\n\nconst FwInit = {};\n\nFwInit.initEvents = () => {\n\n\t//component events\n\t\trunFnsQ(FwFnsQ.on_init);\n\n\t//window events\n\t\twindow.addEventListener('resize', FwInit.runResize);\n\t\twindow.addEventListener('scroll', FwInit.runScroll);\n}\n\nFwInit.runInit = () => {\n\trunFnsQ(FwFnsQ.on_rightAway);\n};\n\nFwInit.runReady = () => {\n\trunFnsQ(FwFnsQ.on_ready);\n\tFwInit.setCompleteState();\n};\n\nFwInit.runLoad = () => {\n\trunFnsQ(FwFnsQ.on_load);\n};\n\nlet resizeTimerInternal;\nFwInit.runResize = () => {\n\tclearTimeout(resizeTimerInternal);\n\tresizeTimerInternal = setTimeout(() => {\n\t\trunFnsQ(FwFnsQ.on_resize);\n\t}, 100);\n};\n\nlet scrollTimerInternal;\nFwInit.runScroll = () => {\n\tclearTimeout(scrollTimerInternal);\n\tscrollTimerInternal = setTimeout(() => {\n\t\trunFnsQ(FwFnsQ.on_scroll);\n\t}, 100);\n};\n\nFwInit.setState = (mode) => {\n\tmode = mode || 'complete';\n\tswitch(mode){\n\t\tcase 'loading':\n\t\t\tdocument.body\n\t\t\t\t.classList\n\t\t\t\t.remove('body-loaded');\n\t\t\tdocument.body\n\t\t\t\t.classList\n\t\t\t\t.add('body-loading');\n\t\t\tbreak;\n\t\tcase 'complete':\n\t\tdefault:\n\t\t\tsetTimeout(()=>{ \n\t\t\t\tdocument.body\n\t\t\t\t\t.classList\n\t\t\t\t\t.remove('body-loading');\n\t\t\t\tdocument.body\n\t\t\t\t\t.classList\n\t\t\t\t\t.add('body-loaded');\n\t\t\t},100);\n\t\t\tbreak;\n\t}\n\n}\n\nFwInit.setLoadingState = () => {\n\tFwInit.setState('loading');\n}\n\nFwInit.setCompleteState = () => {\n\tFwInit.setState('complete');\n\n}\n\nFwInit.reInit = () => {\n\tFwInit.setLoadingState();\n\tFwInit.runInit();\n\tFwInit.runReady();\n\tFwInit.runLoad();\n};\n\nFwInit.runInit();\ndocReady(FwInit.runReady);\nwindow.addEventListener('load',FwInit.runLoad);\nFwInit.initEvents();\n\n/*\n\n\nFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\t'click',\n\t\t\t'*',\n\t\t\t(e) => {\n\t\t\t\tconst triggerer = e.target;\n\n\t\t\t\tif (FwInit.isDisabled(triggerer)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\tif(\n\t\t\t\t\t\t!triggerer.classList.contains(UiDynamicClass) //temp fix for ui elements not getting ancestry\n\t\t\t\t\t){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//tooltip\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!triggerer.closest('[data-toggle=\"tooltip-click\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('[data-toggle=\"tooltip-hover\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('.tooltip.tooltip-allow-interaction')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tFwInit.destroyToolTip();\n\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t\t//dropdown\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!triggerer.closest('[data-toggle=\"dropdown\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('.dropdown')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tFwInit.closeDropdowns(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//switch\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!triggerer.closest('[data-toggle=\"switch-off\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('[data-toggle=\"switch-on\"]')\n\t\t\t\t\t\t\t&& !triggerer.closest('.switch')\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\tFwInit.initSwitch(false,'off')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n*/","\nimport FwCore from './../util/core.js';\nimport FwDataHelper from './../classes/data-helper.js';\nconst customEvents = [];\nconst NativeEvents = [\n\t'click',\n\t'dblclick',\n\t'mouseup',\n\t'mousedown',\n\t'contextmenu',\n\t'mousewheel',\n\t'DOMMouseScroll',\n\t'mouseover',\n\t'mouseout',\n\t'mousemove',\n\t'selectstart',\n\t'selectend',\n\t'keydown',\n\t'keypress',\n\t'keyup',\n\t'paste',\n\t'orientationchange',\n\t'touchstart',\n\t'touchmove',\n\t'touchend',\n\t'touchcancel',\n\t'pointerdown',\n\t'pointermove',\n\t'pointerup',\n\t'pointerleave',\n\t'pointercancel',\n\t'gesturestart',\n\t'gesturechange',\n\t'gestureend',\n\t'focus',\n\t'blur',\n\t'change',\n\t'reset',\n\t'select',\n\t'submit',\n\t'focusin',\n\t'focusout',\n\t'load',\n\t'unload',\n\t'beforeunload',\n\t'resize',\n\t'move',\n\t'DOMContentLoaded',\n\t'readystatechange',\n\t'error',\n\t'abort',\n\t'scroll'\n  ];\n  \n\nclass FwEvent extends FwDataHelper {\n\t\n\n\tstatic get cusEventOptsDef () {\n\t\treturn {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t}\n\t}\n\t\n\tstatic addListener(parent, evt, selector, delegationFn,customEventOpts){\n\t\tparent = parent || selector;\n\n\t\tconst evtNoApi = evt.split(`.${FwCore.settings.prefix}`)[0];\n\t\tconst isNative = NativeEvents.includes(evt);\n\n\t\tcustomEventOpts = customEventOpts || {\n\t\t\tcancelable: true\n\t\t};\n\n\t\tcustomEventOpts.detail = customEventOpts.detail || {};\n\n\t\t// parent.addEventListener(\n\t\t// \tevtNoApi,\n\t\t// \t(event) => {\n\n\t\t// \t\tconsole.log(evt,evtNoApi);\n\t\t// \t\tif (event.target.matches(selector + ', ' + selector + ' *')) {\n\t\t// \t\t\t// try {\n\t\t// \t\t\t\tdelegationFn(event);\n\t\t// \t\t\t\tif(!isNative){\n\t\t// \t\t\t\t\tFwEvent.trigger(event.target,evt,customEventOpts);\n\t\t// \t\t\t\t}\n\t\t// \t\t\t// } catch(e) {}\n\t\t// \t\t}\n\t\t// \t},\n\t\t// \ttrue\n\t\t// );\n\n\t\tparent.addEventListener(\n\t\t\tevtNoApi,\n\t\t\t(event) => {\n\t\t\t\tif (event.target.matches(selector + ', ' + selector + ' *')) {\n\t\t\t\t\t// try {\n\t\t\t\t\t\t(!isNative) && FwEvent.trigger(\n\t\t\t\t\t\t\tevent.target,\n\t\t\t\t\t\t\tevt,\n\t\t\t\t\t\t\tcustomEventOpts\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdelegationFn(event);\n\t\t\t\t\t// } catch(e) {}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\n\t\t\n\t}\n\n\tstatic trigger(el, evt, customEventOpts) {\n\t\tlet event;\n\t\tel = el || document;\n\t\tif (NativeEvents.includes(evt)) {\n\t\t\tevent = document.createEvent('HTMLEvents');\n\t\t\tevent.initEvent(evt, true, false);\n\t\t} else {\n\t\t\tcustomEventOpts = customEventOpts || {};\n\t\t\tif(customEventOpts) {\n\t\t\t\tevent = new CustomEvent(evt, customEventOpts);\n\t\t\t}else{\n\t\t\t\tevent = new CustomEvent(evt)\n\t\t\t}\n\t\t}\n\t\tel.dispatchEvent(event);\n\t\n\t\t// return event;\n\t}\n\n\n}\n\nexport default FwEvent;\n\n","class FwDataHelper {\n\tconstructor(data,dataParser){\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tdataParser = dataParser || function(dat){\n\t\t\treturn dat;\n\t\t}\n\n\t\tthis._FwData = dataParser(data);\n\n\t\treturn this.getData();\n\t}\n\n\tgetData() {\n\t\treturn this._FwData;\n\t}\n}\n\nexport default FwDataHelper;","import FwDataHelper from '../classes/data-helper.js';\n\n\nclass FwDom extends FwDataHelper {\n\n\tconstructor(data){\n\n\t\tsuper(\n\t\t\tdata,\n\t\t\t(dat) => {\n\t\t\t\t\n\t\t\t\tlet toReturn;\n\t\t\t\n\t\t\t\tif(typeof dat === 'string'){\n\t\t\t\t\t// console.log('looks like a selector');\n\t\t\t\t\tconst selection = document.querySelectorAll(dat);\n\t\t\n\t\t\t\t\tif(selection.length > 1){\n\t\t\t\t\t\ttoReturn = selection;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoReturn = document.querySelector(dat);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// console.log('looks like a dom obj');\n\t\t\t\t\ttoReturn = dat;\n\t\t\t\t}\n\t\n\t\t\t\treturn toReturn;\n\t\t\t}\n\t\t);\n\t\t\n\t}\n\n\t\n\n\tstatic slideDown(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'block');\n\n\t\treturn elem\n\t}\n\n\tstatic slideUp(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'none');\n\n\t\treturn elem\n\t}\n\n\tstatic getSiblings(elem){\n\t\telem = elem || super.getData();\n\t\treturn Array.prototype.filter.call(\n\t\t\telem.parentNode.children,\n\t\t\t(child)=>{\n\t\t\t\treturn child !== elem;\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic getAncestors(elem,selector){\n\t\telem = elem || super.getData();\n\t\tconst parents = [];\n\n\t\tlet firstChar;\n\n\t\tif (selector) {\n\t\t\tfirstChar = selector.charAt(0);\n\t\t}\n\n\t\t// Get matches\n\t\tfor (; elem && elem !== document; elem = elem.parentNode) {\n\n\t\t\tif (selector) {\n\t\t\t\t// If selector is a class\n\t\t\t\tif (firstChar === '.') {\n\t\t\t\t\tif (elem.classList.contains(selector.substr(1))) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is an ID\n\t\t\t\tif (firstChar === '#') {\n\t\t\t\t\tif (elem.id === selector.substr(1)) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a data attribute\n\t\t\t\tif (firstChar === '[') {\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.hasAttribute(selector.substr(1, selector.length - 1))\n\t\t\t\t\t) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a tag\n\t\t\t\tif (elem.tagName.toLowerCase() === selector) {\n\t\t\t\t\tparents.push(elem);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tparents.push(elem);\n\t\t\t}\n\n\t\t}\n\t\t// Return parents if any exist\n\t\tif (parents.length === 0) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn parents;\n\t\t}\n\t}\n\n\tstatic moveContents(elem,elementToMoveContentsTo){\n\t\telem = elem || super.getData();\n\t\tconst oldParent = elem;\n\t\tconst newParent = new FwDom(elementToMoveContentsTo);\n\t\t\n\t\tif (\n\t\t\tnewParent\n\t\t\t&& newParent !== oldParent) {\n\t\t\twhile (oldParent.childNodes.length > 0) {\n\t\t\t\tnewParent.appendChild(oldParent.childNodes[0]); \n\t\t\t}\n\t\t}\n\n\t\treturn elem;\n\t}\n\n\tstatic scrollToElem(elem,ToScrollTo,direction){\n\t\telem = elem || super.getData();\n\t\tif(!ToScrollTo){\n\t\t\treturn;\n\t\t}\n\n\t\tdirection = direction || 'y';\n\n\t\t\tconst methods =\n\t\t\t\tdirection == 'x'\n\t\t\t\t\t? ['scrollLeft', 'left']\n\t\t\t\t\t: ['scrollTop', 'top'];\n\n\t\t\tconst scrollOpts = {};\n\n\t\t\tscrollOpts[methods[1]] =\n\t\t\t\telem[methods[0]]\n\t\t\t\t- elem.getBoundingClientRect()[methods[1]]\n\t\t\t\t+ ToScrollTo.getBoundingClientRect()[methods[1]]\n\n\t\t\telem.scrollTo(scrollOpts);\n\n\t\t\treturn elem;\n\t}\n\n\tstatic RunFnForChildren(ancestorElem,selector,parentSelector,fn) { //@TODO wtf\n\n\t\tif(\n\t\t\tancestorElem\n\t\t\t&& selector\n\t\t\t&& parentSelector\n\t\t\t&& fn\t\n\t\t){\n\t\t\tlet children = ancestorElem.querySelectorAll(selector);\n\t\n\t\t\tchildren.forEach((child) => {\n\t\n\t\t\t\tif(\n\t\t\t\t\tchild.closest(parentSelector)\n\t\t\t\t\t&& (ancestorElem.isSameNode(child.closest(parentSelector)))\n\t\t\t\t){\n\t\t\t\t\tfn(child);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn ancestorElem;\n\t\t}\n\t}\n\t\n}\n\nexport default FwDom;","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwString extends FwDataHelper {\n\tconstructor(data){\n\t\tsuper(data);\n\t}\n\tstatic GetFileExtension (str) {\n\t\treturn str.split('.').pop();\n\t}\n\tstatic ToCamelCase (str) {\n\t\n\t\treturn str\n\t\t\t.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\n\t\t\t\treturn index == 0\n\t\t\t\t\t? word.toLowerCase()\n\t\t\t\t\t: word.toUpperCase();\n\t\t\t})\n\t\t\t.replace(/-|\\s/g, '');\n\t}\n\n\tstatic ToDashed(str) {\n\n\t\treturn FwString.ToCamelCase(str).replace( /([a-z]|[0-9])([A-Z])/g, '$1-$2' ).toLowerCase();\n\t}\n}\n\nexport default FwString;","import FwCore from '../util/core.js';\nimport { DisableClasses } from '../util/validation.js';\nimport FwDom from '../data-helper/dom.js';\nimport { UiDynamicClass } from '../util/ui.js';\n\n/*\nNAME\nTOGGLE_MODE\nDATA_KEY\nCONTAINED_BY_NAME\n\n\tcase 'dropdown':\n\tcase 'modal':\n\tcase 'board':\n\tcase 'switch':\n\tcase 'alert-close':\n\nFwToggleMode\n\n*/\n\nclass FwComponent {\n\tconstructor(element,props) {\n\t\tif (!element) {\n\t\t\treturn\n\t\t}\n\n\t\tFwCore.Data.set(element, this.constructor.DATA_KEY, this);\n\t\tthis._element = element;\n\n\t\tif(\n\t\t\ttypeof props === 'object'){\n\t\t\tfor (let key in props) {\n\t\t\t\tthis[key] = props[key];\n\t\t\t}\n\t\t}\n\t\n\t}\n\n\tdispose() {\n\t\tFwCore.Data.delete(this._element, this.constructor.DATA_KEY, this);\n\t\tthis._element = null;\n\t}\n\n\tstatic getInstance(element) {\n\t\treturn FwCore.Data.get(element, this.DATA_KEY);\n\t}\n\n\tUiEl(){\n\t\treturn this._element;\n\t}\n\n\t_runFn (callback) {\n\t\tif (callback) {\n\t\t\tlet fn;\n\t\t\ttry {\n\t\t\t\tfn = eval(/^[^(]+/.exec(callback)[0]);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t\tif (typeof fn === 'function') {\n\t\t\t\teval(callback);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic _parseArgs (arr, defaults) {\n\n\t\tconst args = {};\n\t\n\t\tfor (let prop in defaults) {\n\t\t\tif(\n\t\t\t\t(\n\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t&& arr[prop] !== ''\n\t\t\t\t)\n\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t){\n\t\t\t\targs[prop] = defaults[prop].value;\n\t\t\t}else{\n\t\t\t\targs[prop] = defaults[prop];\n\t\t\t}\n\t\t}\n\t\n\t\tfor (let prop in arr) {\n\t\t\tif (\n\t\t\t\tarr.hasOwnProperty(prop)\n\t\t\t\t&& arr[prop] !== undefined\n\t\t\t\t&& arr[prop] !== null\n\t\t\t\t&& arr[prop] !== ''\n\t\t\t) {\n\t\t\t\t// Push each value from `obj` into `extended`\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t)\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('parser')\n\t\t\t\t){\n\t\t\t\t\targs[prop] = defaults[prop].parser(arr[prop]);\n\t\t\t\t}else{\n\t\t\t\t\targs[prop] = arr[prop];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// catch boolean\n\t\t\t\tif (args[prop] == 'false' || args[prop] == 'true') {\n\t\t\t\t\targs[prop] = args[prop] == 'true' ? true : false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn args;\n\t}\n\n\tstatic isDisabled (elem){\n\t\tif(!elem){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet toReturn = false;\n\n\t\tif (elem.closest('[disabled]') || elem.matches(':disabled')) {\n\t\t\ttoReturn = true;\n\t\t}\n\n\t\tDisableClasses.forEach((classString) => {\n\t\t\tif (elem.closest(`.${classString}`) && !toReturn) {\n\t\t\t\ttoReturn = true;\n\t\t\t}\n\t\t});\n\n\t\treturn toReturn;\n\t}\n\tstatic isDynamic(elem){\t\n\t\treturn elem.classList.contains(UiDynamicClass)\n\t} \n\n\t\n}\n\nexport default FwComponent;","//valid shits\nexport const DisableClasses = [\n\t'table-row-disabled',\n\t'tab-disabled',\n\t'btn-disabled',\n\t'input-disabled',\n\t'disabled'\n];\n\nexport const lookupResetToParentClass = [\n\t'input-group',\n\t'btn-grouop',\n];\n\nexport const lookupResetFromClosestComponent = [\n\t'dropdown',\n\t'modal',\n\t'board',\n\t'switch',\n\t'alert',\n];\n\n\nexport const DateTimePreset = {\n\tHumanDate: {\n\t\tplaceholder: 'mm/dd/yyyy',\n\t\tpattern: /^\\d{2}\\/\\d{2}\\/\\d{4}$/,\n\t\ttemplate: 'mm/dd/yy'\n\t},\n\tHumanTime24: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tHumanTime12: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tValue: {\n\t\tplaceholder: 'yyyy-mm-dd',\n\t\tpattern: /^\\d{4}[-]\\d{2}[-]\\d{2}$/,\n\t\ttemplate: 'yy-mm-dd'\n\t},\n\tValueDateTimePreset:{\n\t\tplaceholder:\"yy-mm-ddThh:gg\",\n\t\tpattern:\"\",\n\t\ttemplate:\"yy-mm-ddThh:gg\"\n\t}\n};\n\nexport const dayNames = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Friday',\n\t'Saturday'\n];\n\nexport const dayNamesShort = [\n\t'Sun',\n\t'Mon',\n\t'Tue',\n\t'Wed',\n\t'Thu',\n\t'Fri',\n\t'Sat'\n];\n\nexport const dayNamesShorter = [\n\t'Su',\n\t'Mo',\n\t'Tu',\n\t'We',\n\t'Th',\n\t'Fr',\n\t'Sa'\n];\n\nexport const monthNames = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December'\n];\n\nexport const monthNamesShort = [\n\t'Jan',\n\t'Feb',\n\t'Mar',\n\t'Apr',\n\t'May',\n\t'Jun',\n\t'Jul',\n\t'Aug',\n\t'Sep',\n\t'Oct',\n\t'Nov',\n\t'Dec'\n];\n\n\n\t\n\n\nexport const Palette = [\n\t'base',\n\t'primary',\n\t'secondary',\n\t'accent',\n\t'neutral',\n\t'error',\n\t'caution',\n\t'success'\n];\n\n\n\n","\nimport FwCore from './core.js';\nimport {lookupResetToParentClass,lookupResetFromClosestComponent} from './validation.js';\nimport FwDom from './../data-helper/dom.js';\n\nexport const UiPrefix = (componentName,noDash) => {\n\tnoDash = noDash || false;\n\treturn noDash ? `${componentName}-ui` : `${componentName}-ui-`;\n}\n\nexport const UiDynamicClass = `${FwCore.settings.uiJsClass}_internal_toggle`;\n\n\n//this was the bitch that got clickied or hovered or wehatever\nexport const UiTriggerer = (triggerer,isGroupable) => {\n\ttriggerer = triggerer || false;\n\tisGroupable = isGroupable || false;\n\n\tlet toReturn;\n\n\tif (triggerer) {\n\t\tif ( isGroupable ){\n\t\t\treturn;\n\t\t} else if ( //calendar fix\n\t\t\ttriggerer\n\t\t\t\t.closest(`.${FwCore.settings.uiJsClass}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UiDynamicClass}`)\n\t\t) {\n\t\t\ttoReturn = triggerer\n\t\t\t\t.closest(`.${FwCore.settings.uiJsClass}`);\n\n\t\t} else {\n\t\t\ttoReturn = triggerer;\n\t\t}\n\n\t\treturn toReturn;\n\t}\n}\n\n// case 'dropdown':\n// \tcase 'modal':\n// \tcase 'board':\n// \tcase 'switch':\n// \tcase 'alert-close':\n\nexport const UiToggled = (toggleMode,triggerer) => {\n\ttriggerer = triggerer || false;\n\ttoggleMode = toggleMode || false;\n\t\t// lookup_reset_to_parent\n\t\t// lookup_from_closest\n\n\t\tif (toggleMode) {\n\t\t\tconst selector = `.${toggleMode}`,\n\t\t\t\ttoggledClass = `.${toggleMode}`\n\t\t\t\t\t.replace('-open', '')\n\t\t\t\t\t.replace('-close', ''),\n\t\t\t\tcomponentClass = toggledClass ? toggledClass.replace('.', '') : null;\n\n\t\t\tlet toReturn = null;\n\n\t\t\tif (triggerer) {\n\t\t\t\t//lookup by href\n\t\t\t\tif (\n\t\t\t\t\ttriggerer.hasAttribute('href')\n\t\t\t\t\t&& triggerer.getAttribute('href').startsWith('#')\n\t\t\t\t\t&& triggerer.getAttribute('href') !== '#'\n\t\t\t\t\t&& (\n\t\t\t\t\t\tdocument.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t\t\t)\n\t\t\t\t\t\t&& document.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t\t\t).classList.contains(componentClass)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle found by href');\n\t\t\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('href'));\n\n\t\t\t\t//lookup by data-href\n\t\t\t\t} else if (\n\t\t\t\t\ttriggerer.hasAttribute('data-href')\n\t\t\t\t\t&& triggerer.getAttribute('data-href').startsWith('#')\n\t\t\t\t\t&& triggerer.getAttribute('data-href') !== '#'\n\t\t\t\t\t&& (\n\t\t\t\t\t\tdocument.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t\t\t)\n\t\t\t\t\t\t&& document.querySelector(\n\t\t\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t\t\t).classList.contains(componentClass)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle found by data-href');\n\t\t\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('data-href'));\n\n\t\t\t\t//lookup by closest [data-toggle]\n\t\t\t\t} else if (\n\t\t\t\t\ttoggleMode\n\t\t\t\t\t&& triggerer\n\t\t\t\t\t\t.parentNode\n\t\t\t\t\t\t.closest(`[data-toggle=\"${toggleMode}\"]`)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle searching closest data-toggle');\n\t\t\t\t\ttoReturn = UiToggled(\n\t\t\t\t\t\ttoggleMode,\n\t\t\t\t\t\ttriggerer.parentNode.closest(`[data-toggle=\"${toggleMode}\"]`)\n\t\t\t\t\t);\n\n\t\t\t\t//look up by tag `lookup_reset_to_parent`\n\t\t\t\t} else if (\n\t\t\t\t\ttoggleMode\n\t\t\t\t\t&& lookupResetToParentClass.filter(i => {\n\t\t\t\t\t\treturn triggerer.parentNode.classList.contains(i)\n\t\t\t\t\t}).length > 0\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('toggle trigger was in input group');\n\t\t\t\t\ttoReturn = UiToggled(\n\t\t\t\t\t\ttoggleMode,\n\t\t\t\t\t\ttriggerer.parentNode\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\t\t\t\t\tlet possibleSiblings = triggerer.nextElementSibling;\n\t\t\t\t\t\n\t\t\t\t\twhile (possibleSiblings) {\n\t\t\t\t\t\tif (possibleSiblings.matches(selector)) {\n\t\t\t\t\t\t\t// console.warn('toggle trigger anybody whos a sibling');\n\t\t\t\t\t\t\treturn possibleSiblings;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpossibleSiblings =\n\t\t\t\t\t\t\tpossibleSiblings.nextElementSibling;\n\t\t\t\t\t}\n\t\t\t\t\ttoReturn = possibleSiblings;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tif (\n\t\t\t\t\twindow.location.hash !== ''\n\t\t\t\t\t&& document.querySelector(window.location.hash)\n\t\t\t\t\t&& document\n\t\t\t\t\t\t.querySelector(window.location.hash)\n\t\t\t\t\t\t.classList.contains(componentClass)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('no trigger but found the hash is a matching toggle');\n\t\t\t\t\ttoReturn = document.querySelector(window.location.hash);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t!toReturn\n\t\t\t\t&& lookupResetFromClosestComponent.filter((i)=> {\n\t\t\t\t\treturn i == componentClass\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\t//look if theres an ancestor it can toggle. last prioroty\n\t\t\t\t// console.warn('no trigger so looking for an ancestor');\n\t\t\t\tif (\n\t\t\t\t\ttriggerer\n\t\t\t\t\t&& toggleMode\n\t\t\t\t\t&& triggerer.parentNode.closest(toggledClass)\n\t\t\t\t) {\n\t\t\t\t\t// console.warn('found ancestor');\n\t\t\t\t\ttoReturn = triggerer.parentNode.closest(\n\t\t\t\t\t\ttoggledClass\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn toReturn;\n\t\t}\n}\n\nexport const UiChangeHash = (id) => {\n\tid = id || '';\n\n\tif (FwCore.settings.dynamicHash) {\n\t\tconst idToGoTo = id !== '' ? `#${id}` : null;\n\n\t\tif (idToGoTo) {\n\t\t\tif (history.pushState) {\n\t\t\t\thistory.pushState(null, null, idToGoTo);\n\t\t\t} else {\n\t\t\t\tlocation.hash = idToGoTo;\n\t\t\t}\n\n\t\t} else {\n\t\t\tconst noHashURL = window.location.href.replace(/#.*$/, '');\n\t\t\tif (history.pushState) {\n\t\t\t\twindow.history.pushState('', document.title, noHashURL);\n\t\t\t}\n\t\t\tlocation.hash = '';\n\t\t}\n\t}\n};\n\nexport const UiToggleGroup = (element, prefix, activatedClass, siblingSelector, resetterClass, noActiveClass,multipleClass) => {\n\tprefix = prefix || 'btn';\n\tsiblingSelector = siblingSelector || `.${prefix}`;\n\tresetterClass = resetterClass || `${prefix}-group-toggle-reset`;\n\tnoActiveClass = noActiveClass || `${prefix}-group-toggle-allow-no-active`;\n\tmultipleClass = multipleClass || `${prefix}-group-toggle-multiple`;\n\tactivatedClass = activatedClass || 'active';\n\n\tif(!element) {\n\t\treturn;\n\t}\n\n\tif(\n\t\telement.closest(siblingSelector)\n\t\t&& !element.classList.contains(prefix)\n\t){\n\t\telement = element.closest(siblingSelector);\n\t}\n\n\tif (element) {\n\n\t\t//reset da resetti\n\t\tconst resetter = FwDom\n\t\t\t.getSiblings(element)\n\t\t\t.filter((butt) => {\n\t\t\t\treturn butt.classList.contains(resetterClass);\n\t\t\t});\n\t\tresetter.forEach((butt) => {\n\t\t\tbutt.classList.remove(activatedClass);\n\t\t});\n\n\t\t//dem siblongs\n\t\tconst selectorSiblings = FwDom\n\t\t\t.getSiblings(element)\n\t\t\t.filter((sibling) => {\n\t\t\t\treturn sibling.matches(siblingSelector);\n\t\t\t});\n\n\t\tif (\n\t\t\t!element.closest(`.${multipleClass}`)\n\t\t\t|| element.classList.contains(resetterClass)\n\t\t) {\n\t\t\tselectorSiblings.forEach((sibling) => {\n\t\t\t\tsibling.classList.remove(activatedClass);\n\t\t\t});\n\t\t}\n\n\t\tif (\n\t\t\t(\n\t\t\t\telement.closest(`.${multipleClass}`)\n\t\t\t\t&& selectorSiblings\n\t\t\t\t\t.filter((butt) => {\n\t\t\t\t\t\treturn butt.classList.contains(activatedClass);\n\t\t\t\t\t})\n\t\t\t\t\t.length > 0\n\t\t\t)\n\t\t\t|| element\n\t\t\t\t.closest(noActiveClass)\n\t\t) {\n\t\t\telement.classList.toggle(activatedClass);\n\n\t\t} else {\n\t\t\telement.classList.add(activatedClass);\n\t\t}\n\t}\n}","import FwCore from './util/core.js';\nimport {FwFnsQ} from './util/initiator.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UiToggled,UiTriggerer } from './util/ui.js';\n\nconst NAME = 'dropdown';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `open`;\n\nconst NAV_ANCESTOR = `li, .nav-item`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_FOCUS = `focus${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Dropdown extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_triggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tmaxHeight: null\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& this._triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t) || this._element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t),\n\t\t\t\t\tmaxHeight:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._triggerer\n\t\t\t\t\t\t\t&& this._triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t\t) || this._element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t\t),\n\t\t\tDropdown.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UiElNavcestor() {\n\t\treturn this._element.closest(NAV_ANCESTOR);\n\t}\n\n\tget UiElUncles() {\n\t\tif(this.UiElNavcestor){\n\t\t\treturn FwDom.getSiblings(this.UiElNavcestor)\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn sibling.matches(\n\t\t\t\t\t\tNAV_ANCESTOR\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\n\tclose(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\tif(element){\n\t\t\ttriggerer = triggerer || this._triggerer;\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\n\t\t\tthis.setDimensions(\n\t\t\t\tnull,\n\t\t\t\tDropdown.configDefaults\n\t\t\t);\n\t\t\n\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\t\ttriggerer\n\t\t\t\t&& triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\tthis.UiElNavcestor\n\t\t\t\t&& this.UiElNavcestor.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t}\n\t}\n\n\topen(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttriggerer = triggerer || this._triggerer;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\n\t\tthis.setDimensions();\n\n\t\tDropdown.purgeToggles(triggerer);\n\t\tDropdown.purge(element);\n\t\n\t\tFwEvent.trigger(element,EVENT_OPEN);\n\t\telement.classList.add(ACTIVATED_CLASS);\n\t\ttriggerer\n\t\t\t&& triggerer.classList.add(ACTIVATED_CLASS);\n\n\t\tif(this.UiElUncles){\n\t\t\tthis.UiElUncles.forEach((uncle) => {\n\t\t\t\tuncle.classList.remove(ACTIVATED_CLASS);\n\t\t\t});\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t}\n\n\ttoggle(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttriggerer = triggerer || false;\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(elem,triggerer);\n\t\t}else{\n\t\t\tthis.open(elem,triggerer);\n\t\t}\n\t}\n\t\n\n\tsetDimensions(elem,args){\n\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: this._element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\targs = args || this.args;\n\n\t\tif (args.width) {\n\t\t\telement.style.width = args.width;\n\t\t}\n\n\t\tif (args.maxHeight) {\n\t\t\telement.style.maxHeight = args.maxHeight;\n\t\t}\n\t}\n\n\tstatic _purger(exempted,selector) {\n\t\t\texempted = exempted || false;\n\t\n\t\t\tdocument.querySelectorAll(selector).forEach((doopdoop) => {\n\t\n\t\t\t\tif (\n\t\t\t\t\t!exempted\n\t\t\t\t\t|| (\n\t\t\t\t\t\texempted\n\t\t\t\t\t\t&& doopdoop !== exempted\n\t\t\t\t\t\t&& !doopdoop.contains(exempted)\n\t\t\t\t\t )\n\t\t\t\t) {\n\t\t\t\t\tnew Dropdown(doopdoop).close();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tstatic purge(exemptedDropdown) {\n\t\tDropdown._purger(exemptedDropdown,`.${COMPONENT_CLASS}`);\n\t}\n\n\n\n\tstatic purgeToggles(exemptedToggle) {\n\t\tDropdown._purger(exemptedToggle,`*[data-toggle=\"${TOGGLE_MODE}\"]`);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst triggerer = UiTriggerer(e.target);\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUiToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\ttriggerer\n\t\t\t\t\t),\n\t\t\t\t\ttriggerer\n\t\t\t\t);\n\n\t\t\t\tdropdown.toggle();\n\t\t\t}\n\t\t}\n\t}\n\tstatic handleFocusOpen(i) {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.target.blur();\n\t\t\t}else{\n\t\t\t\tconst triggerer = UiTriggerer(e.target);\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUiToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\ttriggerer\n\t\t\t\t\t),\n\t\t\t\t\ttriggerer\n\t\t\t\t);\n\n\t\t\t\tdropdown.open();\n\t\t\t\ttriggerer.classList.add('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\tstatic handleBlurClose() {\n\t\treturn (e) => {\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst triggerer = UiTriggerer(e.target);\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUiToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\ttriggerer\n\t\t\t\t\t),\n\t\t\t\t\ttriggerer\n\t\t\t\t);\n\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdropdown.close();\n\t\t\t\t}, 200);\n\t\t\t\ttriggerer.classList.remove('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic handlerUniversal() {\n\t\t\n\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle=\"${TOGGLE_MODE}\"]`)\n\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t) {\n\t\t\t\t\t\n\t\t\t\t\tDropdown.purge();\n\t\t\t\t\tDropdown.purgeToggles();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle=\"${TOGGLE_MODE}\"]:not(input):not([contenteditable]):not(.${FwCore.settings.uiJsClass})`,\n\t\t\tDropdown.handleToggle()\n\t\t);\n\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_FOCUS,\n\t\t\t`input[data-toggle=\"${TOGGLE_MODE}\"], *[contenteditable][data-toggle=\"${TOGGLE_MODE}\"], .${FwCore.settings.uiJsClass}[data-toggle=\"${TOGGLE_MODE}\"] [contenteditable]`,\n\t\t\tDropdown.handleFocusOpen()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_BLUR,\n\t\t\t`input[data-toggle=\"${TOGGLE_MODE}\"], *[contenteditable][data-toggle=\"${TOGGLE_MODE}\"], .${FwCore.settings.uiJsClass}[data-toggle=\"${TOGGLE_MODE}\"] [contenteditable]`,\n\t\t\tDropdown.handleBlurClose()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\t'click',\n\t\t\t`*`,\n\t\t\tDropdown.handlerUniversal()\n\t\t);\n\t}\n}\n\n\nexport default Dropdown;\n\nDropdown.initListeners();","import FwDataHelper from '../classes/data-helper.js';\nimport { \n\tDateTimePreset,\n\tdayNames,\n\tdayNamesShort,\n\tmonthNames,\n\tmonthNamesShort,\n} from '../util/validation';\n\nclass FwDate extends FwDataHelper {\n\n\tstatic toParsed (d){\n\t\n\t\tif (d) {\n\n\t\t\tlet yr,\n\t\t\t\tmo,\n\t\t\t\tdy,\n\t\t\t\thr,\n\t\t\t\tmn,\n\t\t\t\tdateArr = [],\n\t\t\t\ttimeArr = [];\n\t\t\t\n\t\t\tif (Object.prototype.toString.call(d) === '[object Date]') {\n\t\t\t\t//make a new date out of its methods because js will think u are referring to the same date everythere and ur math becomes a hellhole... dont.. hOE\n\t\t\t\tyr = d.getFullYear() || null;\n\t\t\t\tmo = d.getMonth() || null;\n\t\t\t\tdy = d.getDate() || null;\n\t\t\t\thr = d.getHours() || null;\n\t\t\t\tmn = d.getMinutes() || null;\n\t\t\t\t\n\t\t\t} else {\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.Value.pattern\n\t\t\t\t);\n\t\t\t\tconst isValid = pattern.test(d);\n\t\n\t\t\t\tif (isValid) {\n\t\t\t\t\tlet DateTimePresetArr = d.split('T') || [];\n\t\n\t\t\t\t\t//date\n\t\t\t\t\tif (DateTimePresetArr[0]) {\n\t\t\t\t\t\tdateArr = DateTimePresetArr[0].split('-');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t//time\n\t\t\t\t\tif (DateTimePresetArr[1]) {\n\t\t\t\t\t\ttimeArr = DateTimePresetArr[1].split(':');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tyr = parseInt(dateArr[0]) || null;\n\t\t\t\t\tmo = parseInt(dateArr[1] - 1) || null;\n\t\t\t\t\tdy = parseInt(dateArr[2]) || null;\n\t\t\t\t\thr = parseInt(timeArr[0]) || null;\n\t\t\t\t\tmn = parseInt(timeArr[1]) || null;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tlet toReturn = false;\n\t\n\t\t\tif (\n\t\t\t\tObject.prototype.toString.call(\n\t\t\t\t\tnew Date(yr, mo, dy, hr, mn)\n\t\t\t\t) == '[object Date]'\n\t\t\t) {\n\t\t\t\ttoReturn = new Date(yr, mo, dy, hr, mn);\n\t\t\t}\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\t\n\tstatic toHuman (date,format) {\n\t\tconst d = FwDate.toParsed(date);\n\t\tformat = format || DateTimePreset.HumanDate.template;\n\t\n\t\tif (d) {\n\t\t\tlet iFormat,\n\t\t\t\toutput = '',\n\t\t\t\tliteral = false;\n\t\n\t\t\t// Check whether a format character is doubled\n\t\t\tconst lookAhead = (match) => {\n\t\t\t\t\tlet matches =\n\t\t\t\t\t\tiFormat + 1 < format.length\n\t\t\t\t\t\t&& format.charAt(iFormat + 1) === match;\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tiFormat++;\n\t\t\t\t\t}\n\t\t\t\t\treturn matches;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a number, with leading zero if necessary\n\t\t\t\tformatNumber = (match, value, len) => {\n\t\t\t\t\tlet num = '' + value;\n\t\t\t\t\tif (lookAhead(match)) {\n\t\t\t\t\t\twhile (num.length < len) {\n\t\t\t\t\t\t\tnum = '0' + num;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn num;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a name, short or long as requested\n\t\t\t\tformatName = (match, value, shortNames, longNames) => {\n\t\t\t\t\treturn lookAhead(match)\n\t\t\t\t\t\t? longNames[value]\n\t\t\t\t\t\t: shortNames[value];\n\t\t\t\t};\n\t\t\t\t\n\t\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\n\t\t\t\tif (literal) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tformat.charAt(iFormat) === \"'\" && !lookAhead(\"'\")\n\t\t\t\t\t) {\n\t\t\t\t\t\tliteral = false;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt(iFormat);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\t\tcase 'd': //date number\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'd',\n\t\t\t\t\t\t\t\td.getDate(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'D': //day of the week\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'D',\n\t\t\t\t\t\t\t\td.getDay(),\n\t\t\t\t\t\t\t\tdayNamesShort,\n\t\t\t\t\t\t\t\tdayNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'o': //day of year hmm\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'o',\n\t\t\t\t\t\t\t\tMath.round(\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\t\t\t\td.getDate()\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t\t- new Date(\n\t\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t/ 86400000\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm': //month\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'm',\n\t\t\t\t\t\t\t\td.getMonth() + 1,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'M': //month but name\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'M',\n\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\tmonthNamesShort,\n\t\t\t\t\t\t\t\tmonthNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'y': //year\n\t\t\t\t\t\t\toutput += lookAhead('y')\n\t\t\t\t\t\t\t\t? d.getFullYear()\n\t\t\t\t\t\t\t\t: (d.getFullYear() % 100 < 10\n\t\t\t\t\t\t\t\t\t\t? '0'\n\t\t\t\t\t\t\t\t\t\t: '') +\n\t\t\t\t\t\t\t\t(d.getFullYear() % 100);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'H': //12 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'H',\n\t\t\t\t\t\t\t\td.getHours() % 12 || 12,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'h': //24 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'h',\n\t\t\t\t\t\t\t\td.getHours(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'i': //minute\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\td.getMinutes(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'a': //am /pm\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'pm' : 'am';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'A': //AM/PM\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'PM' : 'AM';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif (lookAhead(\"'\")) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt(iFormat);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic toVal(date) {\n\t\tconst d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\treturn this.toHuman(\n\t\t\t\td,\n\t\t\t\tDateTimePreset.Value.template\n\t\t\t);\n\t\t}\n\t}\n\n\tstatic adjacentMonth (date,offsetByMonth, dateOverride) {\n\t\tlet d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\tdateOverride = dateOverride || null;\n\t\n\t\t\tconst currMonth = d.getMonth(),\n\t\t\t\tcurrYear = d.getFullYear(),\n\t\t\t\tnewMonth = (() => {\n\t\t\t\t\tlet toReturn;\n\t\t\t\t\tif (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 > 12\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) - 12;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) + 12;\n\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoReturn = (currMonth + offsetByMonth) % 12;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})(),\n\t\n\t\t\t\tnewYear = (() => {\n\t\t\t\t\tconst defOffset = parseInt(offsetByMonth / 12);\n\t\t\t\t\tlet toReturn = currYear + defOffset;\n\t\n\t\t\t\t\t//offset to adjacent year\n\t\t\t\t\tif (\n\t\t\t\t\t\toffsetByMonth < 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn -= 1;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\toffsetByMonth > 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) > 11\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn += 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})()\n\t\t\t\t;\n\t\n\t\t\td.setMonth(newMonth);\n\t\t\td.setFullYear(newYear);\n\t\n\t\t\tif (dateOverride) {\n\t\t\t\td.setDate(dateOverride);\n\t\t\t}\n\t\n\t\t\treturn d;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport default FwDate;","import FwCore from './../util/core.js';\nimport {FwFnsQ} from './../util/initiator.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwDate from './../data-helper/date.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UiPrefix,UiDynamicClass } from '../util/ui.js';\nimport { DateTimePreset, dayNamesShorter, monthNamesShort } from '../util/validation.js';\n\nimport Dropdown from './../dropdown.js';\n\nconst NAME = 'formCalendar';\nconst ARG_ATTRIBUTE_NAME = 'calendar';\nconst COMPONENT_CLASS = `input-calendar`;\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nclass FormCalendar extends FwComponent {\n\t\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUiValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UiValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tget theValue() {\n\t\treturn super.UiEl().value\n\t\t\t? FwDate.toVal(super.UiEl().value)\n\t\t\t: false;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\n\t\t\tsuper.UiEl().setAttribute('value', FwDate.toVal(theValue));\n\t\t\tsuper.UiEl().value = FwDate.toVal(theValue);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst theRenderDate = this.UiValue\n\t\t\t? this.UiValue\n\t\t: this.theValue\n\t\t\t? this.theValue\n\t\t:  new Date()\n\t\treturn FwDate.toVal(theRenderDate);\n\t}\n\n\tset renderValue(renderDate) {\n\t\tthis.UiValue = renderDate;\n\t}\n\n\tget UiInputValue() {\n\t\treturn this.UiInput && FwDate.toVal(this.UiInput.value)\n\t}\n\n\tset UiInputValue(uiValue) {\n\t\tif(uiValue){\n\t\t\tthis.UiInput.setAttribute('value', FwDate.toHuman(uiValue));\n\t\t\tthis.UiInput.value = FwDate.toHuman(uiValue);\n\t\t}\n\t}\n\n\tget UiRoot () {\n\t\treturn super.UiEl().closest(`.${UiPrefix(COMPONENT_CLASS, true)}`);\n\t}\n\n\tget UiDates () {\n\t\treturn this.UiRoot && this.UiRoot.querySelectorAll(`.${UiPrefix(COMPONENT_CLASS)}date`);\n\t}\n\n\tget UiInput(){\n\t\treturn this.UiRoot.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input input`);\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tclass: '',\n\t\t\tstartDay: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\treturn parseInt(value) % 7\n\t\t\t\t}\n\t\t\t}, // su,mo,tu,we,th,fr,sa,\n\t\t\tmin: null,\n\t\t\tmax: null,\n\t\t\tyearSpan: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif (parseInt(value) <= 0) {\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisabledDates: '', //yyyy-mm-dd,weekends,past,future\n\t\t\ttextInput: false,\n\t\t\tmonthSkip: true,\n\t\t\tyearSkip: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tclass:\n\t\t\t\t\t\tsuper.UiEl().getAttribute('class'),\n\t\t\t\t\tstartDay:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-start-day`), // 0,1,2,3,4,5,6\n\t\t\t\t\tmin:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-min`)\n\t\t\t\t\t\t|| super.UiEl().getAttribute('min'),\n\t\t\t\t\tmax:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max`)\n\t\t\t\t\t\t|| super.UiEl().getAttribute('max'),\n\t\t\t\t\tyearSpan:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-span`),\n\t\t\t\t\tdisabledDates:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disabled-dates`),\n\t\t\t\t\ttextInput:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-text-input`),\n\t\t\t\t\tmonthSkip:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-month-skip`),\n\t\t\t\t\tyearSkip:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-skip`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tFormCalendar.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tupdate(newValue,valueToRender) {\t\t\n\t\tFwEvent.trigger(super.UiEl(),EVENT_BEFORE_UPDATE);\n\n\t\tconst theValue =\n\t\t\tFwDate.toVal(newValue)\n\t\t\t|| this.theValue;\n\t\t\n\t\tconst uiValue =\n\t\t\tFwDate.toVal(valueToRender)\n\t\t\t|| theValue\n\t\t\t|| this.renderValue;\n\t\t\t\n\t\t\n\t\tFwEvent.trigger(super.UiEl(),EVENT_UPDATE);\n\t\t//set up calendar\n\t\tif (this.validates(theValue) || !theValue) {\n\t\t\tthis.theValue = FwDate.toVal(theValue, false);\n\t\t\tthis.renderValue = uiValue;\n\n\t\t\tthis._createUi();\n\t\t}\n\t\n\t\t//user visual feedback if it has a valid bitch\n\t\tif (this.validates(theValue)) {\n\t\t\tthis.UiRoot\n\t\t\t\t.classList.remove('input-error');\n\t\t} else {\n\t\t\tthis.UiRoot\n\t\t\t\t.classList.add('input-error');\n\t\t}\n\t\n\t\tif (this.theValue) {\n\t\n\t\t\tthis.UiDates.forEach((date) => {\n\t\t\t\tif (\n\t\t\t\t\tdate.getAttribute('data-value') == theValue\n\t\t\t\t) {\n\t\t\t\t\tdate.classList.add(ACTIVATED_CLASS);\n\t\t\t\t} else {\n\t\t\t\t\tdate.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tif (this.UiInput) {\n\t\t\t\tthis.UiInputValue = theValue;\n\t\t\t}\n\t\t}\n\t\tFwEvent.trigger(super.UiEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t\n\tvalidates(date,rangeOnly) {\n\n\t\tdate = date || this.theValue;\n\t\trangeOnly = rangeOnly || false; //range,spot\n\t\n\t\tconst d = FwDate.toParsed(date),\n\t\t\tcheckAgainst = this.args.disabledDates.split(',');\n\t\n\t\tlet toReturn = true;\n\t\n\t\tif (!rangeOnly) {\n\t\t\t//if in disabled dates\n\t\t\tif (checkAgainst.includes(FwDate.toVal(d))) {\n\t\t\t\t// console.warn('value is declared disabled specifically || ',FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\n\t\t\t//weekend\n\t\t\tif (\n\t\t\t\tcheckAgainst.includes('weekends')\n\t\t\t\t&& (d.getDay() == 0 || d.getDay() == 6)\n\t\t\t) {\n\t\t\t\t// console.warn('value was a weekend || ',FwDate.toVal(d),FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\t}\n\t\n\t\t//in the past\n\t\tlet dateNow = new Date();\n\t\tdateNow.setHours(0, 0, 0, 0);\n\t\tif (\n\t\t\tcheckAgainst.includes('past')\n\t\t\t&& d < dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the past || ',FwDate.toVal(d),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\tif (\n\t\t\tcheckAgainst.includes('future')\n\t\t\t&& d > dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the future || ',FwDate.toVal(date),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\t//if  in range of min or max\n\t\tif (\n\t\t\t(\n\t\t\t\tFwDate.toParsed(this.args.max)\n\t\t\t\t&& FwDate.toParsed(this.args.max) < d\n\t\t\t)\n\t\t\t|| (\n\t\t\t\tFwDate.toParsed(this.args.min)\n\t\t\t\t&& d < FwDate.toParsed(this.args.min)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('value not in max and width || ',FwDate.toVal(d));;\n\t\t\ttoReturn = false;\n\t\t}\n\n\t\t//check if values are actually legit dates\n\t\t\t//month\n\t\t\t//date\n\n\t\n\t\treturn toReturn;\n\t}\n\n\tget _calendar() {\n\t\tconst renderDate = this.renderValue;\n\n\t\tconst toReturn = {\n\t\t\tyear: FwDate.toParsed(renderDate).getFullYear(),\n\t\t\tmonth: FwDate.toParsed(renderDate).getMonth(),\n\t\t}\n\t\ttoReturn.startDate = new Date(toReturn.year, toReturn.month, 1);\n\n\t\ttoReturn.lastDate = new Date(toReturn.year, toReturn.month + 1, 0);\n\n\t\ttoReturn.prevDate = new Date(toReturn.year, toReturn.month, 0);\n\t\ttoReturn.prevDay = toReturn.prevDate.getDay();\n\n\t\treturn toReturn;\n\t}\n\n\t_arrowHtml = (buttonClass) => {\n\t\tlet symbolClass, arrowDate, disValid,arrowClass;\n\t\t//set a new date with no date because fuck that boi\n\t\t// console.warn(buttonClass,'hello i fucked up','\\n',FwDate.toParsed(uiValue),'\\n',this._calendar.startDate,'\\n', new Date(this._calendar.year,this._calendar.month));\n\t\tswitch (buttonClass) {\n\t\t\tcase 'prev-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-left';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'prev-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-left';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year - 1, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-right';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month + 1, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-right';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year + 1, this._calendar.month, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//kung yung at least yung last day nang prev or first day ng next man lang ay valid pwidi sya ipindoot\n\t\tlet htmlString = `<button type=\"button\" \n\t\t\tclass=\"\n\t\t\t\t${!disValid ? `disabled ` : ''}\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}navigation\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}button\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}${arrowClass}\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}${buttonClass}\" data-value=\"${arrowDate}\"\n\t\t\t>\n\t\t\t\t<i class=\"${UiPrefix(COMPONENT_CLASS)}symbol symbol ${symbolClass}\"></i>\n\t\t\t</button>`;\n\n\t\treturn htmlString;\n\t}\n\n\t_blockHtml = (date, customClass) => {\n\t\tcustomClass = customClass || '';\n\t\treturn `<button type=\"button\" data-value=\"${FwDate.toVal(date)}\"\n\t\t\t\tclass=\"\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}block\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}button\n\t\t\t\t${UiPrefix(COMPONENT_CLASS)}date\n\t\t\t\t${customClass}\n\t\t\t\">\n\t\t\t\t<span>${date.getDate()}</span>\n\t\t\t</button>`;\n\t}\n\n\t_createUi(elem,uiValue) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\n\t\tuiValue =\n\t\t\tuiValue\n\t\t\t|| this.renderValue;\n\n\t\tthis.renderValue = uiValue;\n\n\t\tconst theUi = {};\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\n\t\ttheUi.container = this.UiRoot;\n\t\t\t\n\t\tif (!theUi.container) {\n\t\t\ttheUi.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUi.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUi.container.appendChild(element);\n\t\t\ttheUi.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${FwCore.settings.uiClass}\n\t\t\t\t${FwCore.settings.uiJsClass}\n\t\t\t\t${element.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUiPrefix(COMPONENT_CLASS, true)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\n\t\ttheUi.inputWrapper = theUi.container\n\t\t\t.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input`);\n\n\t\tconst components = FwDom.getSiblings(element);\n\t\tcomponents.forEach((component) => {\n\t\t\tif (component !== theUi.inputWrapper) {\n\t\t\t\tcomponent.parentNode.removeChild(component);\n\t\t\t}\n\t\t});\n\n\t\t//input\n\t\tif (this.args.textInput) {\n\t\t\tif (!theUi.inputWrapper) {\n\t\t\t\ttheUi.inputWrapper = document.createElement('div');\n\t\t\t\ttheUi.container.appendChild(theUi.inputWrapper);\n\t\t\t\ttheUi.inputWrapper.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}input`\n\t\t\t\t);\n\t\t\t\ttheUi.inputWrapper.innerHTML =\n\t\t\t\t\t'<input class=\"input input-single-line\" type=\"text\" maxlength=\"10\" placeholder=\"MM/DD/YYYY\" />';\n\t\t\t}\n\t\t}\n\n\t\t//date 4 u\n\n\t\t//heading\n\t\t\ttheUi.heading = document.createElement('div');\n\t\t\ttheUi.container.appendChild(theUi.heading);\n\t\t\ttheUi.heading.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}heading`\n\t\t\t);\n\n\t\t//arrowz\n\n\t\t\tconst butts = [\n\t\t\t\t'prev-year',\n\t\t\t\t'prev-month',\n\t\t\t\t'next-month',\n\t\t\t\t'next-year',\n\t\t\t];\n\n\t\t\tbutts.forEach((butt) => {\n\t\t\t\tif (\n\t\t\t\t\t(\n\t\t\t\t\t\tthis.args.yearSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-year'\n\t\t\t\t\t\t\t|| butt == 'next-year'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t|| (\n\t\t\t\t\t\tthis.args.monthSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-month'\n\t\t\t\t\t\t\t|| butt == 'next-month'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\ttheUi.heading.innerHTML += this._arrowHtml(butt);\n\t\t\t\t}\n\t\t\t});\n\n\t\t//title\n\t\t\ttheUi.title = document.createElement('div');\n\t\t\ttheUi.heading.appendChild(theUi.title);\n\t\t\ttheUi.title.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}title ${UiPrefix(COMPONENT_CLASS)}dropdown-toggle\n\t\t\t\t${UiDynamicClass}` //NEED THIS AT ALL TIMES IF U DONT WANNA DIE\n\t\t\t);\n\t\t\ttheUi.title.setAttribute('data-toggle', 'dropdown');\n\t\t\ttheUi.title.innerHTML = `<span\n\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}month-text\">\n\t\t\t\t\t${monthNamesShort[this._calendar.month]}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"${UiPrefix(COMPONENT_CLASS)}year-text\">\n\t\t\t\t\t${this._calendar.year}\n\t\t\t\t</span>\n\t\t\t\t<i class=\"${UiPrefix(COMPONENT_CLASS)}symbol symbol symbol-caret-down no-margin-x\"></i>`;\n\n\t\t//dropdown\n\t\t\tconst dropdown = document.createElement('ul');\n\t\t\ttheUi.heading.appendChild(dropdown);\n\t\t\tdropdown.setAttribute('data-dropdown-width', '100%');\n\t\t\tdropdown.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}dropdown dropdown dropdown-center-x dropdown-top-flush text-align-center`\n\t\t\t);\n\t\t\tdropdown.innerHTML += `<li \n\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}current-month-year active\"\n\t\t\t\t>\n\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}month\"\n\t\t\t\t\t\tdata-value=\"${FwDate.toVal(this._calendar.startDate)}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${monthNamesShort[this._calendar.month]} ${this._calendar.year}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li><hr class=\"dropdown-separator\"></li>`;\n\n\t\t\ttheUi.dropdown = new Dropdown(dropdown,theUi.title).UiEl();\n\n\t\t\tlet dropdownInit, dropdownLimit;\n\n\n\t\t\tif (this.args.yearSpan == 0) {\n\t\t\t\tdropdownInit =   this._calendar.startDate.getMonth() * -1;\n\t\t\t\tdropdownLimit = 11 - this._calendar.startDate.getMonth();\n\t\t\t} else {\n\t\t\t\tdropdownInit = parseInt(\n\t\t\t\t\t-12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t\tdropdownLimit = parseInt(\n\t\t\t\t\t12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//update dropdown\n\t\t\tfor (let i = dropdownInit; i <= dropdownLimit; i++) {\n\t\t\t\tconst listItemDate = FwDate.adjacentMonth(\n\t\t\t\t\tthis._calendar.startDate,\n\t\t\t\t\ti\n\t\t\t\t);\n\n\t\t\t\tconst dateForValidation = (() => {\n\t\t\t\t\tlet toReturn;\n\n\t\t\t\t\tif (i >= 0) {\n\t\t\t\t\t\t//first day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth(),\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//last day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth() + 1,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})();\n\n\n\n\t\t\t\tif (this.validates(dateForValidation, true)) {\n\t\t\t\t\t\n\t\t\t\t\tlet currClass = i == 0 ? 'active' : '',\n\t\t\t\t\t\tlistItem = `<li class=\"${currClass}\">\n\t\t\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}month\"\n\t\t\t\t\t\t\t\tdata-value=\"${FwDate.toVal(listItemDate)}\">\n\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\tmonthNamesShort[\n\t\t\t\t\t\t\t\t\t\t\tlistItemDate.getMonth()\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t} ${listItemDate.getFullYear()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t${listItemDate.getMonth() == 11\n\t\t\t\t\t\t\t&& i !== dropdownLimit\n\t\t\t\t\t\t\t\t? `</li><li><hr class=\"dropdown-separator\">`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>`;\n\t\t\t\t\ttheUi.dropdown.innerHTML += listItem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t//generate grid\n\t\t\ttheUi.grid = document.createElement('div');\n\t\t\ttheUi.container.append(theUi.grid);\n\t\t\ttheUi.grid.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}grid`\n\t\t\t);\n\n\t\t//days heading\n\t\t\ttheUi.days = document.createElement('div');\n\t\t\ttheUi.grid.append(theUi.days);\n\t\t\ttheUi.days.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}days`\n\t\t\t);\n\n\t\t\tlet daysHTML = '',\n\t\t\t\tdayToRetrieve = parseInt(this.args.startDay);\n\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tif (dayToRetrieve > 6) {\n\t\t\t\t\tdayToRetrieve -= 7;\n\t\t\t\t}\n\n\t\t\t\tdaysHTML += `<div\n\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}block\n\t\t\t\t\t\t${UiPrefix(COMPONENT_CLASS)}day\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${dayNamesShorter[dayToRetrieve]}\n\t\t\t\t\t</div>`;\n\n\t\t\t\tdayToRetrieve++;\n\t\t\t}\n\n\t\t\ttheUi.days.innerHTML = daysHTML;\n\n\t\t//days\n\t\t\ttheUi.dates = document.createElement('div');\n\t\t\ttheUi.grid.append(theUi.dates);\n\t\t\ttheUi.dates.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}dates`\n\t\t\t);\n\n\t\t\t//previous month\n\t\t\t\tconst freeGridSpacePrev = \n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._calendar.startDate.getDay()\n\t\t\t\t\t\t\t- parseInt(this.args.startDay)\n\t\t\t\t\t\t\t+ 7\n\t\t\t\t\t\t) % 7,\n\t\t\t\t\tcalendarPrevDayStart =\n\t\t\t\t\t\tthis._calendar.prevDay == 6\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: this._calendar.prevDay + 1;\n\n\t\t\t\tif (calendarPrevDayStart !== parseInt(this.args.startDay)) {\n\t\t\t\t\t//if it doenst take its own row of shit\n\n\t\t\t\t\t// i = 0; i <= freeGridSpacePrev; i++\n\t\t\t\t\t// @TODO AAAAAAAAAAAA FIGURE OUT THE MATH\n\t\t\t\t\t// for( dayLoopI = this._calendar.prevDay; dayLoopI >= (parseInt(this.args.startDay)); dayLoopI--){\n\t\t\t\t\t// for(let i = 0; i < 7; i++){\n\t\t\t\t\tfor (let i = 0; i < freeGridSpacePrev; i++) {\n\t\t\t\t\t\tlet offset = this._calendar.prevDate.getDate() - i;\n\n\t\t\t\t\t\tlet loopDatePrev = new Date(\n\t\t\t\t\t\t\tthis._calendar.prevDate.getFullYear(),\n\t\t\t\t\t\t\tthis._calendar.prevDate.getMonth(),\n\t\t\t\t\t\t\toffset\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tlet dateBlockPrev = this._blockHtml(\n\t\t\t\t\t\t\tloopDatePrev,\n\t\t\t\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}block-adjacent\n\t\t\t\t\t\t\t${(!this.validates(loopDatePrev)\n\t\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//prepend because we loopped this bitch in reverse\n\t\t\t\t\t\ttheUi.dates.innerHTML += dateBlockPrev;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t//curr month\n\n\t\t\t\tfor (let i = 1; i <= this._calendar.lastDate.getDate(); i++) {\n\t\t\t\t\tlet dateBlockCurr = this._blockHtml(\n\t\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, i),\n\t\t\t\t\t\t!this.validates(new Date(this._calendar.year, this._calendar.month, i))\n\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUi.dates.innerHTML += dateBlockCurr;\n\t\t\t\t}\n\n\t\t\t//next month just fill the shit\n\t\t\tconst currNextFirstDay = new Date(\n\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t1\n\t\t\t\t).getDay(),\n\t\t\t\tfreeGridSpaceNext =\n\t\t\t\t\t(7 - currNextFirstDay + parseInt(this.args.startDay)) % 7;\n\n\t\t\tif (currNextFirstDay !== parseInt(this.args.startDay)) {\n\t\t\t\tfor (let i = 1; i <= freeGridSpaceNext; i++) {\n\t\t\t\t\tlet loopDateNext = new Date(\n\t\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t\ti\n\t\t\t\t\t);\n\n\t\t\t\t\tlet dateBlockNext = this._blockHtml(\n\t\t\t\t\t\tloopDateNext,\n\t\t\t\t\t\tUiPrefix(COMPONENT_CLASS) +\n\t\t\t\t\t\t\t'block-adjacent ' +\n\t\t\t\t\t\t\t(!this.validates(loopDateNext)\n\t\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUi.dates.innerHTML += dateBlockNext;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t}\n\n\t_render(){\n\t\tthis.update();\n\t}\n\n\tstatic renderAll(){\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\n\t\tconst calendars = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\t\t\n\t\tcalendars.forEach((calendar) => {\n\t\t\tconst cal = new FormCalendar(calendar);\n\t\t\t\n\t\t\tcal._render();\n\t\t});\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst calendar = new FormCalendar(e.target);\n\t\t\tcalendar.update();\n\t\t}\n\t}\n\n\tstatic handleUpdateKeyup() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)){\n\t\t\t\te.preventDefault();\n\t\t\t}else{\n\t\t\t\tconst calendar = new FormCalendar(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\n\t\t\t\tconst uiInput = e.target.value;\n\t\t\t\tif (uiInput.match(/^\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t} else if (uiInput.match(/^\\d{2}\\/\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t}\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.HumanDate.pattern\n\t\t\t\t);\n\t\n\t\t\t\tconst isValid = pattern.test(uiInput);\n\t\n\t\t\t\tif (calendar && isValid) {\n\t\t\t\t\tconst theValue = uiInput.split('/');\n\t\n\t\t\t\t\tconst y = theValue[2] || '';\n\t\t\t\t\tconst m = theValue[0] || '';\n\t\t\t\t\tconst d = theValue[1] || '';\n\t\n\t\t\t\t\tconst preParsedVal = `${y}-${m}-${d}`;\n\n\t\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tpreParsedVal\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleUpdateClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new FormCalendar(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleRenderClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new FormCalendar(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tFormCalendar.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_KEYUP,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS)}input input`,\n\t\t\tFormCalendar.handleUpdateKeyup()\n\t\t);\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS)}date`,\n\t\t\tFormCalendar.handleUpdateClick()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS)}month, .${UiPrefix(COMPONENT_CLASS)}year`,\n\t\t\tFormCalendar.handleRenderClick()\n\t\t);\n\t\tFwFnsQ.on_ready = FormCalendar.renderAll;\n\n\t}\n}\n\nexport default FormCalendar;\n\nFormCalendar.initListeners();\n","import FormCalendar from './form/form-calendar.js';\nimport FormTags from './form/form-tags.js';\n\nconst Form = { \n\tFormCalendar,\n\tFormTags\n}\n\nexport default Form;","import FwCore from './../util/core.js';\nimport {FwFnsQ} from './../util/initiator.js';\nimport Modifiers from './../util/modifiers.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwArray from './../data-helper/array.js';\nimport FwDom from './../data-helper/dom.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UiPrefix } from '../util/ui.js';\nimport Form from '../form.js';\n\nconst NAME = 'formTags';\nconst ARG_ATTRIBUTE_NAME = 'tags';\nconst COMPONENT_CLASS = `input-tags`;\nconst FOCUS_CLASS = `focus`;\n\nconst DATA_KEY = `${FwCore.settings.prefix}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\nconst EVENT_PASTE = `paste${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nconst INPUT_STRING = `__fw_input__`;\n\nclass FormTags extends FwComponent {\n\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUiValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UiValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tstatic get __is () {\n\t\treturn INPUT_STRING;\n\t}\n\n\tget theValue() {\n\t\treturn super.UiEl().value;;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\t\t\tsuper.UiEl().setAttribute('value', FormTags.toVal(theValue,false));\n\t\t\tsuper.UiEl().value = FormTags.toVal(theValue,false);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst renderTags = this.UiValue\n\t\t\t? this.UiValue\n\t\t: (super.UiEl().hasAttribute('data-value-ui'))\n\t\t\t? super.UiEl().getAttribute('data-value-ui')\n\t\t: this.theValue;\n\t\treturn renderTags;\n\t}\n\n\tset renderValue(renderTags) {\n\t\tthis.UiValue = FormTags.toVal(renderTags);\n\t}\n\n\tget UiRoot () {\n\t\treturn super.UiEl().closest(`.${UiPrefix(COMPONENT_CLASS, true)}`);\n\t}\n\n\tget UiInput(){\n\t\treturn this.UiRoot && this.UiRoot.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input`);\n\t}\n\n\tget UiInputValue() {\n\t\treturn this.UiInput.innerText;\n\t}\n\n\tset UiInputValue(inputValue) {\n\t\tthis.UiInput.innerText = inputValue.toString().replace(\n\t\t\t/\\n|\\r/g,\n\t\t\t'\\\\n'\n\t\t);\n\t}\n\n\tget UiInputIdx() {\n\t\tlet toReturn = FormTags.toArr(this.renderValue).indexOf(FormTags.__is);\n\n\n\t\tif(toReturn < 0){\n\t\t\tFormTags.toArr(this.renderValue).length > 0\n\t\t\t? FormTags.toArr(this.renderValue).length - 1\n\t\t\t: 0;\n\t\t}\n\n\t\treturn toReturn;\n\t\t\n\t\t// (\n\t\t// \tthis.UiInput\n\t\t// \t&& parseInt(this.UiInput.getAttribute('data-ui-i'))\n\t\t// )\n\t\t// || FormTags.toArr(this.renderValue).indexOf(FormTags.__is)\n\t\t// || FormTags.toArr(this.theValue).length;\n\t}\n\n\n\t_scrollToUiInput(){\n\t\tif(this.args.multipleLines || !this.UiInput){\n\t\t\treturn\n\t\t}\n\n\t\tif(\n\t\t\t(this.UiRoot.scrollLeft > (this.UiInput.offsetLeft + this.UiInput.offsetWidth))\n\t\t\t|| ((this.UiRoot.scrollLeft + this.UiRoot.clientWidth) < (this.UiInput.offsetLeft + this.UiInput.offsetWidth))\n\t\t){\n\t\t\tFwDom.scrollToElem(this.UiRoot,this.UiInput,'x');\n\t\t\tFwDom.scrollToElem(this.UiRoot,this.UiInput,'y');\n\t\t}\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tcallback: null,\n\t\t\tfilter: null,\n\t\t\tonKeyUp: null,\n\t\t\tmultipleLines: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tcallback:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`),\n\t\t\t\t\tonKeyUp:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-on-keyup`),\n\t\t\t\t\tfilter:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-filter`),\n\t\t\t\t\tmultipleLines:\n\t\t\t\t\t\tsuper.UiEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-multiple-lines`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tFormTags.configDefaults\n\t\t);\n\t}\n\n\tstatic toArr (value,returnsWithInput) {\n\t\t\n\t\treturnsWithInput =\n\t\t\treturnsWithInput !== false || returnsWithInput == true;\n\t\n\t\tlet toReturn = Array.isArray(value)\n\t\t\t\t? value\n\t\t\t: typeof value == 'string'\n\t\t\t\t? value.split(',')\n\t\t\t: [];\n\t\n\t\t//remove duplicates\n\t\ttoReturn = toReturn.reduce((acc, tag) => {\n\t\t\tif (!acc.includes(tag)  && tag !== '') {\n\t\t\t\tacc.push(tag);\n\t\t\t}\n\t\n\t\t\treturn acc;\n\t\t}, []);\n\t\n\t\n\t\t//check for ya boi\n\t\ttoReturn.forEach((tag, i) => {\n\t\t\tif (\n\t\t\t\t(!tag || tag == '')\n\t\t\t\t|| (tag === FormTags.__is && !returnsWithInput)\n\t\t\t) {\n\t\t\t\ttoReturn.splice(i, 1);\n\t\t\t}\n\t\t});\n\t\n\t\tif (returnsWithInput && toReturn.indexOf(FormTags.__is) < 0) {\n\t\t\ttoReturn.push(FormTags.__is);\n\t\t}\n\n\t\treturn toReturn;\n\t};\n\n\tstatic toVal (value,returnsWithInput){\n\t\treturn FormTags.toArr(value, returnsWithInput).join(',');\n\t}\n\n\tfilterValue(custFn){\n\t\tlet fnToFilter,applyFilter;\n\n\t\ttry {\n\t\t\tfnToFilter = custFn || eval(this.args.filter);\n\t\t} catch (err) {}\n\n\t\tif (typeof fnToFilter === 'function') {\n\t\t\tapplyFilter = (valueToFilter, filterFnName) => {\n\t\t\t\tconst noInputValueToFilter = (() => {\n\t\t\t\t\t\t\treturn FormTags.toVal(valueToFilter, false);\n\t\t\t\t\t\t})();\n\n\t\t\t\t// turn to array ya bopi without the input tag string\n\t\t\t\tlet toReturn = FormTags.toArr(\n\t\t\t\t\teval(`${filterFnName}(\"${noInputValueToFilter}\")`),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\n\t\t\t\t// console.log(\n\t\t\t\t// \t'index of input\\n',inputIndex,\n\t\t\t\t// \t'\\n\\n\\nfiltered and ready for splice\\n',toReturn,\n\t\t\t\t// \t'\\n\\n\\npassed to the fil;ter\\n'FormTags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\nrar array\\n'FormTags.toArr(valueToFilter),\n\t\t\t\t// \t'\\n\\n\\n no input field\\n',noInputValueToFilter,FormTags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n no input fieldas array\\n'FormTags.toArr(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n string for eval\\n', ( filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'\\n\\n\\neval\\n',  eval(filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'whAT ETHE FUCK'\n\t\t\t\t// );\n\n\t\t\t\tif (this.UiInputIdx > -1) {\n\t\t\t\t\ttoReturn.splice(\n\t\t\t\t\t\tthis.UiInputIdx <\n\t\t\t\t\t\t\tFormTags.toArr(valueToFilter).length - 1\n\t\t\t\t\t\t\t? this.UiInputIdx\n\t\t\t\t\t\t\t: toReturn.length,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tFormTags.__is\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn FormTags.toVal(toReturn);\n\t\t\t};\n\n\t\t\tthis.theValue = applyFilter(\n\t\t\t\tthis.theValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t\tthis.renderValue = applyFilter(\n\t\t\t\tthis.renderValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t}\n\t}\n\n\tupdate(newValue,allowFilter,valueToRender,inputText) {\n\t\tFwEvent.trigger(super.UiEl(),EVENT_BEFORE_UPDATE);\n\n\t\tlet theValue = newValue\n\t\t\t|| this.theValue\n\t\t\t|| '';\n\t\t\n\t\tlet uiValue = valueToRender\n\t\t\t|| theValue\n\t\t\t|| this.renderValue\n\t\t\t|| '';\n\n\t\tallowFilter = allowFilter != false || allowFilter == true;\n\n\t\tinputText = inputText || false;\n\n\n\t\tFwEvent.trigger(super.UiEl(),EVENT_UPDATE);\n\n\t\tthis.theValue = theValue;\n\t\tthis.renderValue = uiValue;\n\n\t\t\n\t\tif (this.args.filter && allowFilter) {\n\t\t\tthis.filterValue();\n\t\t}\n\n\t\tthis._createUi();\n\n\t\tif(inputText){\n\t\t\tthis.UiInputValue = inputText;\n\t\t\tthis.focus();\n\t\t}\n\t\t\n\t\tFwEvent.trigger(super.UiEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t_createUi(elem) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UiEl(elem)\n\t\t\t: super.UiEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\n\t\tconst theUi = {};\n\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\t\n\t\ttheUi.container = this.UiRoot;\n\t\tif (!theUi.container) {\n\t\t\ttheUi.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUi.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUi.container.appendChild(element);\n\t\t\ttheUi.container.classList.add('input');\n\t\t\ttheUi.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${FwCore.settings.uiClass}\n\t\t\t\t${FwCore.settings.uiJsClass}\n\t\t\t\t${\n\t\t\t\t\telement\n\t\t\t\t\t.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUiPrefix(COMPONENT_CLASS, true)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\n\t\t\ttheUi.container.classList.add(\n\t\t\t\tthis.args.multipleLines\n\t\t\t\t\t? `${UiPrefix(COMPONENT_CLASS)}multiple`\n\t\t\t\t\t: `${UiPrefix(COMPONENT_CLASS)}single`\n\t\t\t);\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\ttheUi.container.style = this.args.width;\n\t\t}\n\t\t//idk it never exists on initial so we dont have to do weird div wraping catches here\n\n\t\ttheUi.wrapper = theUi.container.querySelector(`.${UiPrefix(COMPONENT_CLASS)}wrapper`);\n\n\t\tif (!theUi.wrapper) {\n\t\t\ttheUi.wrapper = document.createElement('div');\n\t\t\ttheUi.container.appendChild(theUi.wrapper);\n\t\t\ttheUi.wrapper.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}wrapper`\n\t\t\t);\n\t\t\ttheUi.wrapper = theUi.container.querySelector(`.${UiPrefix(COMPONENT_CLASS)}wrapper`);\n\t\t}\n\n\t\ttheUi.input = this.UiInput;\n\n\n\t\tif (!theUi.input) {\n\t\t\ttheUi.input = document.createElement('span');\n\t\t\ttheUi.wrapper.appendChild(theUi.input);\n\t\t\ttheUi.input.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}input`\n\t\t\t);\n\t\t\ttheUi.input.contentEditable = true;\n\t\t\ttheUi.input = theUi.wrapper.querySelector(`.${UiPrefix(COMPONENT_CLASS)}input`);\n\n\t\t\tif(element.hasAttribute('placeholder')){\n\t\t\t\ttheUi.input.setAttribute(\n\t\t\t\t\t'data-placeholder',\n\t\t\t\t\telement.getAttribute('placeholder')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//nearest fw-ui parent will actually do tgoggl for bby because baby cant stand up on its own\n\t\t\tif (element.hasAttribute('data-toggle')) {\n\t\t\t\ttheUi.input.setAttribute(\n\t\t\t\t\t'data-toggle',\n\t\t\t\t\telement.getAttribute('data-toggle')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (FwComponent.isDisabled(element)) {\n\t\t\t\ttheUi.input.classList.add('disabled');\n\t\t\t}\n\n\t\t\t//bitch\n\t\t\tif (this.args.onKeyUp) {\n\t\t\t\ttheUi.input.addEventListener('keyup', (event)=>{\n\t\t\t\t\tconst keyUpScript = eval(this.args.onKeyUp);\n\t\t\t\t\tif(keyUpScript){\n\t\t\t\t\t\tkeyUpScript();\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//updoot tags\n\t\tconst oldTags = theUi.wrapper.querySelectorAll(`.${UiPrefix(COMPONENT_CLASS)}tag`);\n\n\t\toldTags.forEach((tag) => {\n\t\t\ttag.parentNode.removeChild(tag);\n\t\t});\n\n\n\t\tlet valArr = FormTags.toArr(this.renderValue, true);\n\n\t\ttheUi.input.setAttribute(\n\t\t\t'data-ui-i',\n\t\t\tthis.UiInputIdx\n\t\t);\n\n\t\t//validate tags\n\t\t// valArr = valArr.reduce((acc, tag) => {\n\t\t// \tif (!acc.includes(tag)) {\n\t\t// \t\tacc.push(tag);\n\t\t// \t}\n\t\t// \treturn acc;\n\t\t// }, []);\n\n\t\tvalArr.forEach((tag, i) => {\n\t\t\t//get index of input\n\t\t\tif (tag !== FormTags.__is) {\n\t\t\t\tconst tagHtml = document.createElement('span');\n\n\t\t\t\tif(i < this.UiInputIdx){\n\t\t\t\t\ttheUi.input.insertAdjacentElement(\n\t\t\t\t\t\t'beforebegin',\n\t\t\t\t\t\ttagHtml\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\ttheUi.wrapper.appendChild(tagHtml);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\ttagHtml.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UiPrefix(COMPONENT_CLASS)}tag`\n\t\t\t\t);\n\n\t\t\t\ttagHtml.innerHTML = `<button\n\t\t\t\t\t\tdata-ui-i=\"${i}\"\n\t\t\t\t\t\tclass=\"${UiPrefix(COMPONENT_CLASS)}tag-text ${UiPrefix(COMPONENT_CLASS)}tag-button\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${tag}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button data-ui-i=\"${i}\" class=\"${UiPrefix(COMPONENT_CLASS)}tag-close ${UiPrefix(COMPONENT_CLASS)}tag-button\" type=\"button\">\n\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t</button>`;\n\t\t\t}\n\t\t});\n\n\t\t//attribues\n\t\tfor (let i = 0; i < element.attributes.length; i++) {\n\t\t\tlet attr = element.attributes[i];\n\n\t\t\tif (attr.specified) {\n\t\t\t\tif (\n\t\t\t\t\tattr.name.includes('data')\n\t\t\t\t\t&& !attr.name.includes('data-tags')\n\t\t\t\t\t&& !attr.name.includes('data-toggle')\n\t\t\t\t\t&& !attr.name.includes('data-value-ui')\n\t\t\t\t) {\n\t\t\t\t\ttheUi.container.setAttribute(attr.name, attr.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\telement.setAttribute('data-value-ui', this.renderValue);\n\n\t\t//keep that shoit bisibol\n\t\tthis._scrollToUiInput();\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t}\n\n\tfocus(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('poku','naAAANDATAAAOOOO');\n\t\t\tself.UiInput.focus();\n\t\t}, 0);\n\t\tself.UiRoot.classList.add(FOCUS_CLASS);\n\t\tself._scrollToUiInput();\n\t}\n\n\tblur(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('bru','naAAANDATAAAOOOO');\n\t\t\tself.UiInput.blur();\n\t\t}, 0);\n\t\tself.UiRoot.classList.remove(FOCUS_CLASS);\n\t}\n\n\t_render(){\n\t\tthis.update();\n\t}\n\n\tstatic renderAll(){\n\t\tFwEvent.trigger(document,EVENT_BEFORE_INIT);\n\n\t\tconst tagsInputs = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\tFwEvent.trigger(document,EVENT_INIT);\n\t\t\n\t\ttagsInputs.forEach((poot) => {\n\t\t\tconst tagsInput = new FormTags(poot);\n\t\t\t\n\t\t\ttagsInput._render();\n\t\t});\n\t\tFwEvent.trigger(document,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst tagsInput = new FormTags(e.target);\n\t\t\ttagsInput.update();\n\t\t}\n\t}\n\n\tstatic handleEditablePaste() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst pasted =\n\t\t\t\t\te.clipboardData\n\t\t\t\t\t|| window.clipboardData\n\t\t\t\t\t|| e.originalEvent.clipboardData;\n\t\t\t\t\n\t\t\t\ttagsInput.UiInputValue += pasted.getData('text');\n\n\t\t\t\ttagsInput.blur();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableFocus() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new FormTags(e.target);\n\t\t\t\ttagsInput.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableBlur() {\n\t\treturn (e) => {\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\t\t//value para mareset ta kung hain si buloy\n\t\t\t\t\tlet currValue = FormTags.toArr(tagsInput.theValue);\n\t\n\t\t\t\tif(\n\t\t\t\t\ttagsInput.UiInputValue\n\t\t\t\t){\n\t\t\t\t\tcurrValue.splice(\n\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttagsInput.UiInputValue.replace(',', '')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\n\t\t\t\ttagsInput.UiInputValue = '';\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tFormTags.toVal(currValue,false),\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\n\t\t\t\ttagsInput.blur(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableKeydown() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\n\t\t\t} else {\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\tlet currUiValue = FormTags.toArr(tagsInput.renderValue),\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter = false;\n\n\t\t\t\tswitch (e.key) {\n\t\t\t\t\t//enter\n\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\ttagsInput.blur();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//comma\n\t\t\t\t\tcase ',':\n\t\t\t\t\t\tif (!Modifiers.hasActive()) {\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\ttagsInput.UiInputValue.replace(',', '')\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\ttagsInput.UiInputValue = '';\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// currUiValue.splice()\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//left\n\t\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx > 0\n\t\t\t\t\t\t\t\t? tagsInput.UiInputIdx - 1\n\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//right\n\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx < currUiValue.length\n\t\t\t\t\t\t\t\t\t? tagsInput.UiInputIdx + 1\n\t\t\t\t\t\t\t\t\t: currUiValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUiInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//up\n\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//down\n\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUiValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUiValue,\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx,\n\t\t\t\t\t\t\t\tcurrUiValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUiInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//backspace\n\t\t\t\t\tcase 'Backspace':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUiValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx - 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//delete\n\t\t\t\t\tcase 'Delete':\n\t\t\t\t\t\tif (!tagsInput.UiInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUiValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UiInputIdx + 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\n\t\t\t\tnewValue = FormTags.toVal(currUiValue);\n\t\t\t\t// tagsInput._scrollToUiInput();\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleDelete() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToRemove = parseInt(e.target.getAttribute(\n\t\t\t\t\t\t'data-ui-i'\n\t\t\t\t\t));\n\n\t\t\t\tlet currValue = FormTags.toArr(tagsInput.theValue);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\tparseInt(tagToRemove),\n\t\t\t\t\t1\n\t\t\t\t);\n\t\n\t\t\t\tconst newValue = FormTags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleEdit() {\n\t\treturn (e) => {\n\t\t\tconst triggerer = e.target;\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(triggerer)) {\n\n\t\t\t\tconst tagsInput = new FormTags(e.target\n\t\t\t\t\t.closest(`.${UiPrefix(COMPONENT_CLASS, true)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToEdit = parseInt(e.target.getAttribute(\n\t\t\t\t\t'data-ui-i'\n\t\t\t\t));\n\n\t\t\t\tlet currValue = FormTags.toArr(tagsInput.theValue,false);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\ttagToEdit,\n\t\t\t\t\t1,\n\t\t\t\t\tFormTags.__is\n\t\t\t\t);\n\t\n\t\t\t\tconst newUiValue = FormTags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnull,\n\t\t\t\t\tfalse,\n\t\t\t\t\tnewUiValue,\n\t\t\t\t\te.target.innerText\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tFormTags.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_PASTE,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditablePaste()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditableFocus()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_BLUR,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditableBlur()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_KEYDOWN,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}input`,\n\t\t\tFormTags.handleEditableKeydown()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}tag-close`,\n\t\t\tFormTags.handleDelete()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UiPrefix(COMPONENT_CLASS,true)} .${UiPrefix(COMPONENT_CLASS)}tag-text`,\n\t\t\tFormTags.handleEdit()\n\t\t);\n\n\t\tFwFnsQ.on_ready = FormTags.renderAll;\n\t\tFwFnsQ.on_resize = FormTags.renderAll;\n\n\t}\n}\n\nexport default FormTags;\n\nFormTags.initListeners();","const Modifiers =  {\n\tkeys: {\n\t\tctrl: false,\n\t\tshift: false,\n\t\talt: false,\n\t\tmeta: false,\n\t},\n\thasActive(key) {\n\t\tkey = key || false;\n\t\n\t\tif (key && this.keys.hasOwnProperty(key)) {\n\t\t\treturn this.keys[key];\n\t\t\t\n\t\t} else {\n\t\t\treturn (\n\t\t\t\tthis.keys.ctrl\n\t\t\t\t|| this.keys.shift\n\t\t\t\t|| this.keys.alt\n\t\t\t\t|| this.keys.meta\n\t\t\t);\n\t\t}\n\t},\n\tupdate(event){\n\t\tthis.keys.shift = event.shiftKey;\n\t\tthis.keys.ctrl = event.ctrlKey;\n\t\tthis.keys.alt = event.altKey;\n\t\tthis.keys.meta = event.metaKey;\n\t}\n\t\n}\n\n//key events\n\tdocument.documentElement.addEventListener(\n\t\t'keydown',\n\t\t(e) => {\n\t\t\tModifiers.update(e);\n\t\t}\n\t);\n\n\tdocument.documentElement.addEventListener(\n\t\t'keyup',\n\t\t(e) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tModifiers.update(e);\n\t\t\t}, 100);\n\t\t}\n\t);\n\nexport default Modifiers","import FwDataHelper from '../classes/data-helper.js';\n\nclass FwArrayay extends FwDataHelper {\n\t\n\tstatic moveItem(arr, oi, ni){\n\n\t\twhile (oi < 0) {\n\t\t\toi += arr.length;\n\t\t}\n\n\t\twhile (ni < 0) {\n\t\t\tni += arr.length;\n\t\t}\n\n\t\tif (ni >= arr.length) {\n\t\t\tlet k = ni - arr.length;\n\t\t\twhile (k-- + 1) {\n\t\t\t\tarr.push(undefined);\n\t\t\t}\n\t\t}\n\n\t\tarr.splice(ni, 0, arr.splice(oi, 1)[0]);\n\n\t\treturn arr;\n\t}\n\n\tstatic reverse(arr) {\n\t\tlet newArray = [];\n\t\tfor (let i = arr.length - 1; i >= 0; i--) {\n\t\t\tnewArray.push(arr[i]);\n\t\t}\n\t\treturn newArray;\n\t}\n}\n\n\nexport default FwArrayay;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(5);\n"],"sourceRoot":""}